(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{7665:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function decodeUnsafe(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*l+1>>>0,u=new Uint8Array(o);t[r];){var c=e[t.charCodeAt(r)];if(255===c)return;for(var d=0,f=o-1;(0!==c||d<i)&&-1!==f;f--,d++)c+=s*u[f]>>>0,u[f]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=d,r++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=new Uint8Array(n+(o-p)),y=n;p!==o;)g[y++]=u[p++];return g}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var l=(o-i)*u+1>>>0,c=new Uint8Array(l);i!==o;){for(var d=e[i],f=0,p=l-1;(0!==d||f<n)&&-1!==p;p--,f++)d+=256*c[p]>>>0,c[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var g=l-n;g!==l&&0===c[g];)g++;for(var y=a.repeat(r);g<l;++g)y+=t.charAt(c[g]);return y},decodeUnsafe:decodeUnsafe,decode:function(t){var e=decodeUnsafe(t);if(e)return e;throw Error("Non-base"+s+" character")}}}},5019:function(t,e,r){let n=r(7665);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9386:function(t,e,r){"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;let n=r(8764);function checkUint8Array(t){if(!(t instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function uint8ArrayToBuffer(t){return checkUint8Array(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}let Layout=class Layout{constructor(t,e){if(!Number.isInteger(t))throw TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}let ExternalLayout=class ExternalLayout extends Layout{isCount(){throw Error("ExternalLayout is abstract")}};let OffsetLayout=class OffsetLayout extends ExternalLayout{constructor(t,e=0,r){if(!(t instanceof Layout))throw TypeError("layout must be a Layout");if(!Number.isInteger(e))throw TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}};let UInt=class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e=0){return uint8ArrayToBuffer(t).readUIntLE(e,this.span)}encode(t,e,r=0){return uint8ArrayToBuffer(e).writeUIntLE(t,r,this.span),this.span}};let UIntBE=class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e=0){return uint8ArrayToBuffer(t).readUIntBE(e,this.span)}encode(t,e,r=0){return uint8ArrayToBuffer(e).writeUIntBE(t,r,this.span),this.span}};function divmodInt64(t){let e=Math.floor(t/4294967296);return{hi32:e,lo32:t-4294967296*e}}function roundedInt64(t,e){return 4294967296*t+e}let NearUInt64=class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){let r=uint8ArrayToBuffer(t),n=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return roundedInt64(i,n)}encode(t,e,r=0){let n=divmodInt64(t),i=uint8ArrayToBuffer(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}};let NearInt64=class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){let r=uint8ArrayToBuffer(t),n=r.readUInt32LE(e),i=r.readInt32LE(e+4);return roundedInt64(i,n)}encode(t,e,r=0){let n=divmodInt64(t),i=uint8ArrayToBuffer(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}};let Sequence=class Sequence extends Layout{constructor(t,e,r){if(!(t instanceof Layout))throw TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout||!(0<t.span)||(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof ExternalLayout&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){let r=[],n=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){let n=this.elementLayout,i=t.reduce((t,i)=>t+n.encode(i,e,r+t),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,r),i}};let Structure=class Structure extends Layout{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((t,e)=>t&&e instanceof Layout,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof e&&void 0===r&&(r=e,e=void 0),t))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce((t,e)=>t+e.getSpan(),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(t,e);return e+=i,r+i},0)}catch(t){throw RangeError("indeterminate span")}return r}decode(t,e=0){checkUint8Array(t);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){let n=r,i=0,o=0;for(let n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){let i=t[n.property];void 0!==i&&(o=n.encode(i,e,r),0>s&&(s=n.getSpan(e,r)))}i=r,r+=s}return i+o-n}fromArray(t){let e=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw TypeError("property must be string");let e=0;for(let r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}};let UnionDiscriminator=class UnionDiscriminator{constructor(t){this.property=t}decode(t,e){throw Error("UnionDiscriminator is abstract")}encode(t,e,r){throw Error("UnionDiscriminator is abstract")}};let UnionLayoutDiscriminator=class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}};let Union=class Union extends Layout{constructor(t,e,r){let n;if(t instanceof UInt||t instanceof UIntBE)n=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())n=new UnionLayoutDiscriminator(t);else if(t instanceof UnionDiscriminator)n=t;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&0<=(i=e.span)&&(t instanceof UInt||t instanceof UIntBE)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=t instanceof UInt||t instanceof UIntBE,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let r=this.getVariant(t,e);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw Error("unable to infer src variant")}decode(t,e=0){let r;let n=this.discriminator,i=n.decode(t,e),o=this.registry[i];if(void 0===o){let o=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(t,e+s)}else r=o.decode(t,e);return r}encode(t,e,r=0){let n=this.getSourceVariant(t);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(t[n.property],e,r),o+i.encode(t[i.property],e,r+o)}return n.encode(t,e,r)}addVariant(t,e,r){let n=new VariantLayout(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e=0){let r;return r=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[r]}};let VariantLayout=class VariantLayout extends Layout{constructor(t,e,r,n){if(!(t instanceof Union))throw TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Layout))throw TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=t.span;0>t.span&&0<=(i=r?r.span:0)&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(t,e+r)),r+n}decode(t,e=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}let BitStructure=class BitStructure extends Layout{constructor(t,e,r){if(!(t instanceof UInt||t instanceof UIntBE))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=!1),4<t.span)throw RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=fixBitwiseResult(t),this},this._packedGetValue=function(){return n}}decode(t,e=0){let r=this.makeDestinationObject(),n=this.word.decode(t,e);for(let e of(this._packedSetValue(n),this.fields))void 0!==e.property&&(r[e.property]=e.decode(t));return r}encode(t,e,r=0){let n=this.word.decode(e,r);for(let e of(this._packedSetValue(n),this.fields))if(void 0!==e.property){let r=t[e.property];void 0!==r&&e.encode(r)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){let r=new BitField(this,t,e);return this.fields.push(r),r}addBoolean(t){let e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};let BitField=class BitField{constructor(t,e,r){if(!(t instanceof BitStructure))throw TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw TypeError("bits must be positive integer");let n=8*t.span,i=t.fields.reduce((t,e)=>t+e.bits,0);if(e+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(t,e){let r=this.container._packedGetValue(),n=fixBitwiseResult(r&this.wordMask),i=n>>>this.start;return i}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==fixBitwiseResult(t&this.valueMask))throw TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),r=fixBitwiseResult(t<<this.start);this.container._packedSetValue(fixBitwiseResult(e&~this.wordMask)|r)}};let Boolean=class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}};let Blob=class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),uint8ArrayToBuffer(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof ExternalLayout&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw RangeError("encoding overruns Uint8Array");let i=uint8ArrayToBuffer(t);return uint8ArrayToBuffer(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,e,r),n}};e.cv=(t,e,r)=>new OffsetLayout(t,e,r),e.u8=t=>new UInt(1,t),e.KB=t=>new UInt(2,t),e.Jq=t=>new UInt(4,t),e._O=t=>new NearUInt64(t),e.gM=t=>new NearInt64(t),e.n_=(t,e,r)=>new Structure(t,e,r),e.A9=(t,e,r)=>new Sequence(t,e,r),e.Ik=(t,e)=>new Blob(t,e)},8060:function(t,e,r){"use strict";r.r(e),r.d(e,{Account:function(){return Account},AddressLookupTableAccount:function(){return AddressLookupTableAccount},AddressLookupTableInstruction:function(){return AddressLookupTableInstruction},AddressLookupTableProgram:function(){return AddressLookupTableProgram},Authorized:function(){return Authorized},BLOCKHASH_CACHE_TIMEOUT_MS:function(){return eg},BPF_LOADER_DEPRECATED_PROGRAM_ID:function(){return tY},BPF_LOADER_PROGRAM_ID:function(){return ea},BpfLoader:function(){return BpfLoader},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:function(){return rF},ComputeBudgetInstruction:function(){return ComputeBudgetInstruction},ComputeBudgetProgram:function(){return ComputeBudgetProgram},Connection:function(){return Connection},Ed25519Program:function(){return Ed25519Program},Enum:function(){return Enum},EpochSchedule:function(){return EpochSchedule},FeeCalculatorLayout:function(){return er},Keypair:function(){return Keypair},LAMPORTS_PER_SOL:function(){return r4},LOOKUP_TABLE_INSTRUCTION_LAYOUTS:function(){return rK},Loader:function(){return Loader},Lockup:function(){return Lockup},MAX_SEED_LENGTH:function(){return tq},Message:function(){return Message},MessageAccountKeys:function(){return MessageAccountKeys},MessageV0:function(){return MessageV0},NONCE_ACCOUNT_LENGTH:function(){return ei},NonceAccount:function(){return NonceAccount},PACKET_DATA_SIZE:function(){return t$},PUBLIC_KEY_LENGTH:function(){return tV},PublicKey:function(){return PublicKey},SIGNATURE_LENGTH_IN_BYTES:function(){return tZ},SOLANA_SCHEMA:function(){return tH},STAKE_CONFIG_ID:function(){return rG},STAKE_INSTRUCTION_LAYOUTS:function(){return rY},SYSTEM_INSTRUCTION_LAYOUTS:function(){return eo},SYSVAR_CLOCK_PUBKEY:function(){return t2},SYSVAR_EPOCH_SCHEDULE_PUBKEY:function(){return t4},SYSVAR_INSTRUCTIONS_PUBKEY:function(){return t6},SYSVAR_RECENT_BLOCKHASHES_PUBKEY:function(){return t8},SYSVAR_RENT_PUBKEY:function(){return t3},SYSVAR_REWARDS_PUBKEY:function(){return t5},SYSVAR_SLOT_HASHES_PUBKEY:function(){return t7},SYSVAR_SLOT_HISTORY_PUBKEY:function(){return t9},SYSVAR_STAKE_HISTORY_PUBKEY:function(){return et},Secp256k1Program:function(){return Secp256k1Program},SendTransactionError:function(){return SendTransactionError},SolanaJSONRPCError:function(){return SolanaJSONRPCError},SolanaJSONRPCErrorCode:function(){return ee},StakeAuthorizationLayout:function(){return r$},StakeInstruction:function(){return StakeInstruction},StakeProgram:function(){return StakeProgram},Struct:function(){return index_browser_esm_Struct},SystemInstruction:function(){return SystemInstruction},SystemProgram:function(){return SystemProgram},Transaction:function(){return Transaction},TransactionExpiredBlockheightExceededError:function(){return TransactionExpiredBlockheightExceededError},TransactionExpiredNonceInvalidError:function(){return TransactionExpiredNonceInvalidError},TransactionExpiredTimeoutError:function(){return TransactionExpiredTimeoutError},TransactionInstruction:function(){return TransactionInstruction},TransactionMessage:function(){return TransactionMessage},TransactionStatus:function(){return t0},VALIDATOR_INFO_KEY:function(){return rQ},VERSION_PREFIX_MASK:function(){return tJ},VOTE_PROGRAM_ID:function(){return r0},ValidatorInfo:function(){return ValidatorInfo},VersionedMessage:function(){return tX},VersionedTransaction:function(){return VersionedTransaction},VoteAccount:function(){return VoteAccount},VoteAuthorizationLayout:function(){return rZ},VoteInit:function(){return VoteInit},VoteInstruction:function(){return VoteInstruction},VoteProgram:function(){return VoteProgram},clusterApiUrl:function(){return clusterApiUrl},sendAndConfirmRawTransaction:function(){return sendAndConfirmRawTransaction},sendAndConfirmTransaction:function(){return sendAndConfirmTransaction}});var n,i,o,s,a={};r.r(a),r.d(a,{Fy:function(){return utils_aInRange},uw:function(){return abool},gk:function(){return utils_abytes},Dd:function(){return bitLen},dQ:function(){return bitMask},ci:function(){return abstract_utils_bytesToHex},bytesToNumberBE:function(){return utils_bytesToNumberBE},ty:function(){return utils_bytesToNumberLE},eV:function(){return abstract_utils_concatBytes},n$:function(){return createHmacDrbg},ql:function(){return utils_ensureBytes},hexToBytes:function(){return utils_hexToBytes},Z2:function(){return utils_inRange},_t:function(){return abstract_utils_isBytes},H9:function(){return memoized},tL:function(){return utils_numberToBytesBE},S5:function(){return utils_numberToBytesLE},uz:function(){return numberToHexUnpadded},FF:function(){return validateObject}});var l=r(8764);function anumber(t){if(!Number.isSafeInteger(t)||t<0)throw Error("positive integer expected, got "+t)}function _assert_abytes(t,...e){if(!(t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw Error("Uint8Array expected of length "+e+", got length="+t.length)}function aexists(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")}function aoutput(t,e){_assert_abytes(t);let r=e.outputLen;if(t.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let u="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function createView(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rotr(t,e){return t<<32-e|t>>>e}let c=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function byteSwap32(t){for(let r=0;r<t.length;r++){var e;t[r]=(e=t[r])<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}}function toBytes(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(t)),_assert_abytes(t),t}let Hash=class Hash{clone(){return this._cloneInto()}};function utils_wrapConstructor(t){let hashC=e=>t().update(toBytes(e)).digest(),e=t();return hashC.outputLen=e.outputLen,hashC.blockLen=e.blockLen,hashC.create=()=>t(),hashC}function utils_randomBytes(t=32){if(u&&"function"==typeof u.getRandomValues)return u.getRandomValues(new Uint8Array(t));if(u&&"function"==typeof u.randomBytes)return u.randomBytes(t);throw Error("crypto.getRandomValues must be defined")}let HashMD=class HashMD extends Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView(this.buffer)}update(t){aexists(this);let{view:e,buffer:r,blockLen:n}=this;t=toBytes(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let e=createView(t);for(;n<=i-o;o+=n)this.process(e,o);continue}r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){aexists(this),aoutput(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,u=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=createView(t),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)s.setUint32(4*t,u[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}};let d=BigInt(4294967296-1),f=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&d),l:Number(t>>f&d)}:{h:0|Number(t>>f&d),l:0|Number(t&d)}}function split(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=fromBig(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}let rotlSH=(t,e,r)=>t<<r|e>>>32-r,rotlSL=(t,e,r)=>e<<r|t>>>32-r,rotlBH=(t,e,r)=>e<<r-32|t>>>64-r,rotlBL=(t,e,r)=>t<<r-32|e>>>64-r;var p={fromBig,split,toBig:(t,e)=>BigInt(t>>>0)<<f|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH,rotlSL,rotlBH,rotlBL,add:function(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/4294967296|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/4294967296|0)|0,add5H:(t,e,r,n,i,o)=>e+r+n+i+o+(t/4294967296|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let[g,y]=p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),m=new Uint32Array(80),b=new Uint32Array(80);let SHA512=class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:u,Fh:c,Fl:d,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[t,e,r,n,i,o,s,a,l,u,c,d,f,p,g,y]}set(t,e,r,n,i,o,s,a,l,u,c,d,f,p,g,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|g,this.Hl=0|y}process(t,e){for(let r=0;r<16;r++,e+=4)m[r]=t.getUint32(e),b[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|m[t-15],r=0|b[t-15],n=p.rotrSH(e,r,1)^p.rotrSH(e,r,8)^p.shrSH(e,r,7),i=p.rotrSL(e,r,1)^p.rotrSL(e,r,8)^p.shrSL(e,r,7),o=0|m[t-2],s=0|b[t-2],a=p.rotrSH(o,s,19)^p.rotrBH(o,s,61)^p.shrSH(o,s,6),l=p.rotrSL(o,s,19)^p.rotrBL(o,s,61)^p.shrSL(o,s,6),u=p.add4L(i,l,b[t-7],b[t-16]),c=p.add4H(u,n,a,m[t-7],m[t-16]);m[t]=0|c,b[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:l,Dl:u,Eh:c,El:d,Fh:f,Fl:w,Gh:v,Gl:S,Hh:_,Hl:M}=this;for(let t=0;t<80;t++){let e=p.rotrSH(c,d,14)^p.rotrSH(c,d,18)^p.rotrBH(c,d,41),I=p.rotrSL(c,d,14)^p.rotrSL(c,d,18)^p.rotrBL(c,d,41),k=c&f^~c&v,B=d&w^~d&S,A=p.add5L(M,I,B,y[t],b[t]),N=p.add5H(A,_,e,k,g[t],m[t]),T=0|A,x=p.rotrSH(r,n,28)^p.rotrBH(r,n,34)^p.rotrBH(r,n,39),L=p.rotrSL(r,n,28)^p.rotrBL(r,n,34)^p.rotrBL(r,n,39),P=r&i^r&s^i&s,R=n&o^n&a^o&a;_=0|v,M=0|S,v=0|f,S=0|w,f=0|c,w=0|d,({h:c,l:d}=p.add(0|l,0|u,0|N,0|T)),l=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let C=p.add3L(T,L,R);r=p.add3H(C,N,x,P),n=0|C}({h:r,l:n}=p.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=p.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=p.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:u}=p.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:d}=p.add(0|this.Eh,0|this.El,0|c,0|d)),({h:f,l:w}=p.add(0|this.Fh,0|this.Fl,0|f,0|w)),({h:v,l:S}=p.add(0|this.Gh,0|this.Gl,0|v,0|S)),({h:_,l:M}=p.add(0|this.Hh,0|this.Hl,0|_,0|M)),this.set(r,n,i,o,s,a,l,u,c,d,f,w,v,S,_,M)}roundClean(){m.fill(0),b.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};let w=utils_wrapConstructor(()=>new SHA512),v=BigInt(0),S=BigInt(1),_=BigInt(2);function abstract_utils_isBytes(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function utils_abytes(t){if(!abstract_utils_isBytes(t))throw Error("Uint8Array expected")}function abool(t,e){if("boolean"!=typeof e)throw Error(t+" boolean expected, got "+e)}let M=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function abstract_utils_bytesToHex(t){utils_abytes(t);let e="";for(let r=0;r<t.length;r++)e+=M[t[r]];return e}function numberToHexUnpadded(t){let e=t.toString(16);return 1&e.length?"0"+e:e}function hexToNumber(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return""===t?v:BigInt("0x"+t)}let I={_0:48,_9:57,A:65,F:70,a:97,f:102};function utils_asciiToBase16(t){return t>=I._0&&t<=I._9?t-I._0:t>=I.A&&t<=I.F?t-(I.A-10):t>=I.a&&t<=I.f?t-(I.a-10):void 0}function utils_hexToBytes(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){let r=utils_asciiToBase16(t.charCodeAt(i)),o=utils_asciiToBase16(t.charCodeAt(i+1));if(void 0===r||void 0===o){let e=t[i]+t[i+1];throw Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+o}return n}function utils_bytesToNumberBE(t){return hexToNumber(abstract_utils_bytesToHex(t))}function utils_bytesToNumberLE(t){return utils_abytes(t),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(t).reverse()))}function utils_numberToBytesBE(t,e){return utils_hexToBytes(t.toString(16).padStart(2*e,"0"))}function utils_numberToBytesLE(t,e){return utils_numberToBytesBE(t,e).reverse()}function utils_ensureBytes(t,e,r){let n;if("string"==typeof e)try{n=utils_hexToBytes(e)}catch(e){throw Error(t+" must be hex string or Uint8Array, cause: "+e)}else if(abstract_utils_isBytes(e))n=Uint8Array.from(e);else throw Error(t+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(t+" of length "+r+" expected, got "+i);return n}function abstract_utils_concatBytes(...t){let e=0;for(let r=0;r<t.length;r++){let n=t[r];utils_abytes(n),e+=n.length}let r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}let isPosBig=t=>"bigint"==typeof t&&v<=t;function utils_inRange(t,e,r){return isPosBig(t)&&isPosBig(e)&&isPosBig(r)&&e<=t&&t<r}function utils_aInRange(t,e,r,n){if(!utils_inRange(e,r,n))throw Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function bitLen(t){let e;for(e=0;t>v;t>>=S,e+=1);return e}let bitMask=t=>(_<<BigInt(t-1))-S,u8n=t=>new Uint8Array(t),u8fr=t=>Uint8Array.from(t);function createHmacDrbg(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=u8n(t),i=u8n(t),o=0,reset=()=>{n.fill(1),i.fill(0),o=0},h=(...t)=>r(i,n,...t),reseed=(t=u8n())=>{i=h(u8fr([0]),t),n=h(),0!==t.length&&(i=h(u8fr([1]),t),n=h())},gen=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){n=h();let e=n.slice();r.push(e),t+=n.length}return abstract_utils_concatBytes(...r)};return(t,e)=>{let r;for(reset(),reseed(t);!(r=e(gen()));)reseed();return reset(),r}}let k={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||abstract_utils_isBytes(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function validateObject(t,e,r={}){let checkField=(e,r,n)=>{let i=k[r];if("function"!=typeof i)throw Error("invalid validator function");let o=t[e];if((!n||void 0!==o)&&!i(o,t))throw Error("param "+String(e)+" is invalid. Expected "+r+", got "+o)};for(let[t,r]of Object.entries(e))checkField(t,r,!1);for(let[t,e]of Object.entries(r))checkField(t,e,!0);return t}function memoized(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(void 0!==i)return i;let o=t(r,...n);return e.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let B=BigInt(0),A=BigInt(1),N=BigInt(2),T=BigInt(3),x=BigInt(4),L=BigInt(5),P=BigInt(8);function modular_mod(t,e){let r=t%e;return r>=B?r:e+r}function modular_pow2(t,e,r){let n=t;for(;e-- >B;)n*=n,n%=r;return n}function invert(t,e){if(t===B)throw Error("invert: expected non-zero number");if(e<=B)throw Error("invert: expected positive modulus, got "+e);let r=modular_mod(t,e),n=e,i=B,o=A,s=A,a=B;for(;r!==B;){let t=n/r,e=n%r,l=i-s*t,u=o-a*t;n=r,r=e,i=s,o=a,s=l,a=u}let l=n;if(l!==A)throw Error("invert: does not exist");return modular_mod(i,e)}let modular_isNegativeLE=(t,e)=>(modular_mod(t,e)&A)===A,R=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(t,e){let r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function modular_Field(t,e,r=!1,n={}){let i;if(t<=B)throw Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:o,nByteLength:s}=nLength(t,e);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:s,MASK:bitMask(o),ZERO:B,ONE:A,create:e=>modular_mod(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return B<=e&&e<t},is0:t=>t===B,isOdd:t=>(t&A)===A,neg:e=>modular_mod(-e,t),eql:(t,e)=>t===e,sqr:e=>modular_mod(e*e,t),add:(e,r)=>modular_mod(e+r,t),sub:(e,r)=>modular_mod(e-r,t),mul:(e,r)=>modular_mod(e*r,t),pow:(t,e)=>(function(t,e,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return t.ONE;if(r===A)return e;let n=t.ONE,i=e;for(;r>B;)r&A&&(n=t.mul(n,i)),i=t.sqr(i),r>>=A;return n})(a,t,e),div:(e,r)=>modular_mod(e*invert(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>invert(e,t),sqrt:n.sqrt||(e=>(i||(i=function(t){if(t%x===T){let e=(t+A)/x;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%P===L){let e=(t-L)/P;return function(t,r){let n=t.mul(r,N),i=t.pow(n,e),o=t.mul(r,i),s=t.mul(t.mul(o,N),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),r))throw Error("Cannot find square root");return a}}return function(t){let e,r,n;let i=(t-A)/N;for(e=t-A,r=0;e%N===B;e/=N,r++);for(n=N;n<t&&function(t,e,r){if(e<B)throw Error("invalid exponent, negatives unsupported");if(r<=B)throw Error("invalid modulus");if(r===A)return B;let n=A;for(;e>B;)e&A&&(n=n*t%r),t=t*t%r,e>>=A;return n}(n,i,t)!==t-A;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let e=(t+A)/x;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(e+A)/N;return function(t,s){if(t.pow(s,i)===t.neg(t.ONE))throw Error("Cannot find square root");let a=r,l=t.pow(t.mul(t.ONE,n),e),u=t.pow(s,o),c=t.pow(s,e);for(;!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(c);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);let r=t.pow(l,A<<BigInt(a-e-1));l=t.sqr(r),u=t.mul(u,r),c=t.mul(c,l),a=e}return u}}(t)}(t)),i(a,e))),invertBatch:t=>(function(t,e){let r=Array(e.length),n=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),i=t.inv(n);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),i),r})(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?utils_numberToBytesLE(t,s):utils_numberToBytesBE(t,s),fromBytes:t=>{if(t.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);return r?utils_bytesToNumberLE(t):utils_bytesToNumberBE(t)}});return Object.freeze(a)}function getFieldBytesLength(t){if("bigint"!=typeof t)throw Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(t){let e=getFieldBytesLength(t);return e+Math.ceil(e/2)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let C=BigInt(0),O=BigInt(1);function constTimeNegate(t,e){let r=e.negate();return t?r:e}function validateW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw Error("invalid window size, expected [1.."+e+"], got W="+t)}function calcWOpts(t,e){validateW(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}let j=new WeakMap,D=new WeakMap;function getW(t){return D.get(t)||1}function wNAF(t,e){return{constTimeNegate,hasPrecomputes:t=>1!==getW(t),unsafeLadder(e,r,n=t.ZERO){let i=e;for(;r>C;)r&O&&(n=n.add(i)),i=i.double(),r>>=O;return n},precomputeWindow(t,r){let{windows:n,windowSize:i}=calcWOpts(r,e),o=[],s=t,a=s;for(let t=0;t<n;t++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){let{windows:o,windowSize:s}=calcWOpts(r,e),a=t.ZERO,l=t.BASE,u=BigInt(2**r-1),c=2**r,d=BigInt(r);for(let t=0;t<o;t++){let e=t*s,r=Number(i&u);i>>=d,r>s&&(r-=c,i+=O);let o=e+Math.abs(r)-1,f=t%2!=0,p=r<0;0===r?l=l.add(constTimeNegate(f,n[e])):a=a.add(constTimeNegate(p,n[o]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,o=t.ZERO){let{windows:s,windowSize:a}=calcWOpts(r,e),l=BigInt(2**r-1),u=2**r,c=BigInt(r);for(let t=0;t<s;t++){let e=t*a;if(i===C)break;let r=Number(i&l);if(i>>=c,r>a&&(r-=u,i+=O),0===r)continue;let s=n[e+Math.abs(r)-1];r<0&&(s=s.negate()),o=o.add(s)}return o},getPrecomputes(t,e,r){let n=j.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&j.set(e,r(n))),n},wNAFCached(t,e,r){let n=getW(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)},wNAFCachedUnsafe(t,e,r,n){let i=getW(t);return 1===i?this.unsafeLadder(t,e,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,n)},setWindowSize(t,r){validateW(r,e),D.set(t,r),j.delete(t)}}}function curve_pippenger(t,e,r,n){if(!function(t,e){if(!Array.isArray(t))throw Error("array expected");t.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)})}(r,t),!function(t,e){if(!Array.isArray(t))throw Error("array of scalars expected");t.forEach((t,r)=>{if(!e.isValid(t))throw Error("invalid scalar at index "+r)})}(n,e),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=t.ZERO,o=bitLen(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=Array(a+1).fill(i),u=Math.floor((e.BITS-1)/s)*s,c=i;for(let t=u;t>=0;t-=s){l.fill(i);for(let e=0;e<n.length;e++){let i=n[e],o=Number(i>>BigInt(t)&BigInt(a));l[o]=l[o].add(r[e])}let e=i;for(let t=l.length-1,r=i;t>0;t--)r=r.add(l[t]),e=e.add(r);if(c=c.add(e),0!==t)for(let t=0;t<s;t++)c=c.double()}return c}function validateBasic(t){return!function(t){let e=R.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});validateObject(t,e)}(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let z=BigInt(0),U=BigInt(1),W=BigInt(2),K=BigInt(8),F={zip215:!0},H=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),q=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),V=BigInt(0),G=BigInt(1),Y=BigInt(2);BigInt(3);let $=BigInt(5),J=BigInt(8);function uvRatio(t,e){let r=modular_mod(e*e*e,H),n=modular_mod(r*r*e,H),i=function(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=t*t%H,s=o*t%H,a=modular_pow2(s,Y,H)*s%H,l=modular_pow2(a,G,H)*t%H,u=modular_pow2(l,$,H)*l%H,c=modular_pow2(u,e,H)*u%H,d=modular_pow2(c,r,H)*c%H,f=modular_pow2(d,n,H)*d%H,p=modular_pow2(f,i,H)*f%H,g=modular_pow2(p,i,H)*f%H,y=modular_pow2(g,e,H)*u%H,m=modular_pow2(y,Y,H)*t%H;return{pow_p_5_8:m,b2:s}}(t*n).pow_p_5_8,o=modular_mod(t*r*i,H),s=modular_mod(e*o*o,H),a=o,l=modular_mod(o*q,H),u=s===t,c=s===modular_mod(-t,H),d=s===modular_mod(-t*q,H);return u&&(o=a),(c||d)&&(o=l),modular_isNegativeLE(o,H)&&(o=modular_mod(-o,H)),{isValid:u||c,value:o}}let Z=modular_Field(H,void 0,!0),Q={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Z,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:J,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:w,randomBytes:utils_randomBytes,adjustScalarBytes:function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},uvRatio},X=function(t){let e=function(t){let e=validateBasic(t);return validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=e,u=W<<BigInt(8*a)-U,c=r.create,d=modular_Field(e.n,e.nBitLength),f=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(t){return{isValid:!1,value:z}}}),p=e.adjustScalarBytes||(t=>t),g=e.domain||((t,e,r)=>{if(abool("phflag",r),e.length||r)throw Error("Contexts/pre-hash are not supported");return t});function aCoordinate(t,e){utils_aInRange("coordinate "+t,e,z,u)}function assertPoint(t){if(!(t instanceof Point))throw Error("ExtendedPoint expected")}let y=memoized((t,e)=>{let{ex:n,ey:i,ez:o}=t,s=t.is0();null==e&&(e=s?K:r.inv(o));let a=c(n*e),l=c(i*e),u=c(o*e);if(s)return{x:z,y:U};if(u!==U)throw Error("invZ was invalid");return{x:a,y:l}}),m=memoized(t=>{let{a:r,d:n}=e;if(t.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:s,et:a}=t,l=c(i*i),u=c(o*o),d=c(s*s),f=c(d*d),p=c(l*r),g=c(d*c(p+u)),y=c(f+c(n*c(l*u)));if(g!==y)throw Error("bad point: equation left != right (1)");let m=c(i*o),b=c(s*a);if(m!==b)throw Error("bad point: equation left != right (2)");return!0});let Point=class Point{constructor(t,e,r,n){this.ex=t,this.ey=e,this.ez=r,this.et=n,aCoordinate("x",t),aCoordinate("y",e),aCoordinate("z",r),aCoordinate("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof Point)throw Error("extended point not allowed");let{x:e,y:r}=t||{};return aCoordinate("x",e),aCoordinate("y",r),new Point(e,r,U,c(e*r))}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.ez));return t.map((t,r)=>t.toAffine(e[r])).map(Point.fromAffine)}static msm(t,e){return curve_pippenger(Point,d,t,e)}_setWindowSize(t){v.setWindowSize(this,t)}assertValidity(){m(this)}equals(t){assertPoint(t);let{ex:e,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=t,a=c(e*s),l=c(i*n),u=c(r*s),d=c(o*n);return a===l&&u===d}is0(){return this.equals(Point.ZERO)}negate(){return new Point(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,o=c(r*r),s=c(n*n),a=c(W*c(i*i)),l=c(t*o),u=r+n,d=c(c(u*u)-o-s),f=l+s,p=f-a,g=l-s,y=c(d*p),m=c(f*g),b=c(d*g),w=c(p*f);return new Point(y,m,w,b)}add(t){assertPoint(t);let{a:r,d:n}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:l,ey:u,ez:d,et:f}=t;if(r===BigInt(-1)){let t=c((o-i)*(u+l)),e=c((o+i)*(u-l)),r=c(e-t);if(r===z)return this.double();let n=c(s*W*f),p=c(a*W*d),g=p+n,y=e+t,m=p-n,b=c(g*r),w=c(y*m),v=c(g*m),S=c(r*y);return new Point(b,w,S,v)}let p=c(i*l),g=c(o*u),y=c(a*n*f),m=c(s*d),b=c((i+o)*(l+u)-p-g),w=m-y,v=m+y,S=c(g-r*p),_=c(b*w),M=c(v*S),I=c(b*S),k=c(w*v);return new Point(_,M,k,I)}subtract(t){return this.add(t.negate())}wNAF(t){return v.wNAFCached(this,t,Point.normalizeZ)}multiply(t){utils_aInRange("scalar",t,U,n);let{p:e,f:r}=this.wNAF(t);return Point.normalizeZ([e,r])[0]}multiplyUnsafe(t,e=Point.ZERO){return(utils_aInRange("scalar",t,z,n),t===z)?w:this.is0()||t===U?this:v.wNAFCachedUnsafe(this,t,Point.normalizeZ,e)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return v.unsafeLadder(this,n).is0()}toAffine(t){return y(this,t)}clearCofactor(){let{h:t}=e;return t===U?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){let{d:i,a:o}=e,s=r.BYTES;t=utils_ensureBytes("pointHex",t,s),abool("zip215",n);let a=t.slice(),l=t[s-1];a[s-1]=-129&l;let d=utils_bytesToNumberLE(a),p=n?u:r.ORDER;utils_aInRange("pointHex.y",d,z,p);let g=c(d*d),y=c(g-U),m=c(i*g-o),{isValid:b,value:w}=f(y,m);if(!b)throw Error("Point.fromHex: invalid y coordinate");let v=(w&U)===U,S=(128&l)!=0;if(!n&&w===z&&S)throw Error("Point.fromHex: x=0 and x_0=1");return S!==v&&(w=c(-w)),Point.fromAffine({x:w,y:d})}static fromPrivateKey(t){return getExtendedPublicKey(t).point}toRawBytes(){let{x:t,y:e}=this.toAffine(),n=utils_numberToBytesLE(e,r.BYTES);return n[n.length-1]|=t&U?128:0,n}toHex(){return abstract_utils_bytesToHex(this.toRawBytes())}};Point.BASE=new Point(e.Gx,e.Gy,U,c(e.Gx*e.Gy)),Point.ZERO=new Point(z,U,U,z);let{BASE:b,ZERO:w}=Point,v=wNAF(Point,8*a);function getExtendedPublicKey(t){let e=r.BYTES;t=utils_ensureBytes("private key",t,e);let i=utils_ensureBytes("hashed private key",o(t),2*e),s=p(i.slice(0,e)),a=i.slice(e,2*e),l=modular_mod(utils_bytesToNumberLE(s),n),u=b.multiply(l),c=u.toRawBytes();return{head:s,prefix:a,scalar:l,point:u,pointBytes:c}}function hashDomainToScalar(t=new Uint8Array,...e){let r=abstract_utils_concatBytes(...e);return modular_mod(utils_bytesToNumberLE(o(g(r,utils_ensureBytes("context",t),!!i))),n)}return b._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return getExtendedPublicKey(t).pointBytes},sign:function(t,e,o={}){t=utils_ensureBytes("message",t),i&&(t=i(t));let{prefix:s,scalar:a,pointBytes:l}=getExtendedPublicKey(e),u=hashDomainToScalar(o.context,s,t),c=b.multiply(u).toRawBytes(),d=hashDomainToScalar(o.context,c,l,t),f=modular_mod(u+d*a,n);utils_aInRange("signature.s",f,z,n);let p=abstract_utils_concatBytes(c,utils_numberToBytesLE(f,r.BYTES));return utils_ensureBytes("result",p,2*r.BYTES)},verify:function(t,e,n,o=F){let s,a,l;let{context:u,zip215:c}=o,d=r.BYTES;t=utils_ensureBytes("signature",t,2*d),e=utils_ensureBytes("message",e),n=utils_ensureBytes("publicKey",n,d),void 0!==c&&abool("zip215",c),i&&(e=i(e));let f=utils_bytesToNumberLE(t.slice(d,2*d));try{s=Point.fromHex(n,c),a=Point.fromHex(t.slice(0,d),c),l=b.multiplyUnsafe(f)}catch(t){return!1}if(!c&&s.isSmallOrder())return!1;let p=hashDomainToScalar(u,a.toRawBytes(),s.toRawBytes(),e),g=a.add(s.multiplyUnsafe(p));return g.subtract(l).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey,randomPrivateKey:()=>s(r.BYTES),precompute:(t=8,e=Point.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}(Q);function assertRstPoint(t){if(!(t instanceof RistPoint))throw Error("RistrettoPoint expected")}let invertSqrt=t=>uvRatio(G,t),bytes255ToNumberLE=t=>X.CURVE.Fp.create(null&bytesToNumberLE(t));function calcElligatorRistrettoMap(t){let{d:e}=X.CURVE,r=X.CURVE.Fp.ORDER,n=X.CURVE.Fp.create,i=n(null*t*t),o=n((i+G)*null),s=BigInt(-1),a=n((s-e*i)*n(i+e)),{isValid:l,value:u}=uvRatio(o,a),c=n(u*t);isNegativeLE(c,r)||(c=n(-c)),l||(u=c),l||(s=i);let d=n(s*(i-G)*null-a),f=u*u,p=n((u+u)*a),g=n(null*d),y=n(G-f),m=n(G+f);return new X.ExtendedPoint(n(p*m),n(y*g),n(g*m),n(p*y))}let RistPoint=class RistPoint{constructor(t){this.ep=t}static fromAffine(t){return new RistPoint(X.ExtendedPoint.fromAffine(t))}static hashToCurve(t){t=ensureBytes("ristrettoHash",t,64);let e=bytes255ToNumberLE(t.slice(0,32)),r=calcElligatorRistrettoMap(e),n=bytes255ToNumberLE(t.slice(32,64)),i=calcElligatorRistrettoMap(n);return new RistPoint(r.add(i))}static fromHex(t){t=ensureBytes("ristrettoHex",t,32);let{a:e,d:r}=X.CURVE,n=X.CURVE.Fp.ORDER,i=X.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=bytes255ToNumberLE(t);if(!equalBytes(numberToBytesLE(s,32),t)||isNegativeLE(s,n))throw Error(o);let a=i(s*s),l=i(G+e*a),u=i(G-e*a),c=i(l*l),d=i(u*u),f=i(e*r*c-d),{isValid:p,value:g}=invertSqrt(i(f*d)),y=i(g*u),m=i(g*y*f),b=i((s+s)*y);isNegativeLE(b,n)&&(b=i(-b));let w=i(l*m),v=i(b*w);if(!p||isNegativeLE(v,n)||w===V)throw Error(o);return new RistPoint(new X.ExtendedPoint(b,w,G,v))}static msm(t,e){let r=Field(X.CURVE.n,X.CURVE.nBitLength);return pippenger(RistPoint,r,t,e)}toRawBytes(){let t,{ex:e,ey:r,ez:n,et:i}=this.ep,o=X.CURVE.Fp.ORDER,s=X.CURVE.Fp.create,a=s(s(n+r)*s(n-r)),l=s(e*r),u=s(l*l),{value:c}=invertSqrt(s(a*u)),d=s(c*a),f=s(c*l),p=s(d*f*i);if(isNegativeLE(i*p,o)){let n=s(null*r),i=s(null*e);e=n,r=i,t=s(null*d)}else t=f;isNegativeLE(e*p,o)&&(r=s(-r));let g=s((n-r)*t);return isNegativeLE(g,o)&&(g=s(-g)),numberToBytesLE(g,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(t){assertRstPoint(t);let{ex:e,ey:r}=this.ep,{ex:n,ey:i}=t.ep,o=X.CURVE.Fp.create,s=o(e*i)===o(r*n),a=o(r*i)===o(e*n);return s||a}add(t){return assertRstPoint(t),new RistPoint(this.ep.add(t.ep))}subtract(t){return assertRstPoint(t),new RistPoint(this.ep.subtract(t.ep))}multiply(t){return new RistPoint(this.ep.multiply(t))}multiplyUnsafe(t){return new RistPoint(this.ep.multiplyUnsafe(t))}double(){return new RistPoint(this.ep.double())}negate(){return new RistPoint(this.ep.negate())}};var tt=r(3550),te=r.n(tt),tr=r(7191),tn=r.n(tr);let ti=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),to=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=new Uint32Array(64);let SHA256=class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|to[0],this.B=0|to[1],this.C=0|to[2],this.D=0|to[3],this.E=0|to[4],this.F=0|to[5],this.G=0|to[6],this.H=0|to[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)ts[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=ts[t-15],r=ts[t-2],n=rotr(e,7)^rotr(e,18)^e>>>3,i=rotr(r,17)^rotr(r,19)^r>>>10;ts[t]=i+ts[t-7]+n+ts[t-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let t=0;t<64;t++){var c,d,f,p;let e=rotr(s,6)^rotr(s,11)^rotr(s,25),g=u+e+((c=s)&a^~c&l)+ti[t]+ts[t]|0,y=rotr(r,2)^rotr(r,13)^rotr(r,22),m=y+((d=r)&(f=n)^d&(p=i)^f&p)|0;u=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+m|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){ts.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};let ta=utils_wrapConstructor(()=>new SHA256);var tl=r(5532),tu=r(9386),tc=r(475);let StructError=class StructError extends TypeError{constructor(t,e){let r;let{message:n,explanation:i,...o}=t,{path:s}=t,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}};function isObject(t){return"object"==typeof t&&null!=t}function isNonArrayObject(t){return isObject(t)&&!Array.isArray(t)}function print(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function*toFailures(t,e,r,n){var i;for(let o of(isObject(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]),t)){let t=function(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${print(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}(o,e,r,n);t&&(yield t)}}function*run(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(let n of e.validator(t,a))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[u,c,d]of e.entries(t,a)){let e=run(c,d,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,c],coerce:o,mask:s,message:r.message});for(let r of e)r[0]?(l=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(c=r[1],void 0===u?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):isObject(t)&&(void 0!==c||u in t)&&(t[u]=c))}if("not_valid"!==l)for(let n of e.refiner(t,a))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,t])}let Struct=class Struct{constructor(t){let{type:e,schema:r,validator:n,refiner:i,coercer:o=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=o,n?this.validator=(t,e)=>{let r=n(t,e);return toFailures(r,e,this,t)}:this.validator=()=>[],i?this.refiner=(t,e)=>{let r=i(t,e);return toFailures(r,e,this,t)}:this.refiner=()=>[]}assert(t,e){return assert(t,this,e)}create(t,e){return create(t,this,e)}is(t){return is(t,this)}mask(t,e){return function(t,e,r){let n=validate(t,e,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(t,this,e)}validate(t,e={}){return validate(t,this,e)}};function assert(t,e,r){let n=validate(t,e,{message:r});if(n[0])throw n[0]}function create(t,e,r){let n=validate(t,e,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function is(t,e){let r=validate(t,e);return!r[0]}function validate(t,e,r={}){let n=run(t,e,r),i=function(t){let{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){let t=new StructError(i[0],function*(){for(let t of n)t[0]&&(yield t[0])});return[t,void 0]}{let t=i[1];return[void 0,t]}}function dist_define(t,e){return new Struct({type:t,schema:null,validator:e})}function array(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${print(t)}`})}function dist_boolean(){return dist_define("boolean",t=>"boolean"==typeof t)}function instance(t){return dist_define("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${print(e)}`)}function literal(t){let e=print(t),r=typeof t;return new Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${print(r)}`})}function nullable(t){return new Struct({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function number(){return dist_define("number",t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${print(t)}`)}function optional(t){return new Struct({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function record(t,e){return new Struct({type:"record",schema:null,*entries(r){if(isObject(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>isNonArrayObject(t)||`Expected an object, but received: ${print(t)}`,coercer:t=>isNonArrayObject(t)?{...t}:t})}function string(){return dist_define("string",t=>"string"==typeof t||`Expected a string, but received: ${print(t)}`)}function tuple(t){let e=dist_define("never",()=>!1);return new Struct({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${print(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function type(t){let e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(r){if(isObject(r))for(let n of e)yield[n,r[n],t[n]]},validator:t=>isNonArrayObject(t)||`Expected an object, but received: ${print(t)}`,coercer:t=>isNonArrayObject(t)?{...t}:t})}function union(t){let e=t.map(t=>t.type).join(" | ");return new Struct({type:"union",schema:null,coercer(e,r){for(let n of t){let[t,i]=n.validate(e,{coerce:!0,mask:r.mask});if(!t)return i}return e},validator(r,n){let i=[];for(let e of t){let[...t]=run(r,e,n),[o]=t;if(!o[0])return[];for(let[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${print(r)}`,...i]}})}function unknown(){return dist_define("unknown",()=>!0)}function coerce(t,e,r){return new Struct({...t,coercer:(n,i)=>is(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var th=r(1198),td=r.n(th),tf=r(4790),tp=class extends tf{socket;constructor(t,e,r){super(),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(t){n(t)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}},tg=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},ty=class extends tf{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},a,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new tg,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(Error("socket not ready"));let s=this.generate_request_id(t,e);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:t,params:e||void 0,id:s}),n,t=>{if(t)return o(t);this.queue[s]={promise:[i,o]},r&&(this.queue[s].timeout=setTimeout(()=>{delete this.queue[s],o(Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:t,params:e}),t=>{if(t)return n(t);r()})})}async subscribe(t){"string"==typeof t&&(t=[t]);let e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);let e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=l.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(t){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);let e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let r=0;r<t.params.length;r++)e.push(t.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,e)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};let tm=[],tb=[],tw=[],tv=BigInt(0),tS=BigInt(1),t_=BigInt(2),tE=BigInt(7),tM=BigInt(256),tI=BigInt(113);for(let t=0,e=tS,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],tm.push(2*(5*n+r)),tb.push((t+1)*(t+2)/2%64);let i=tv;for(let t=0;t<7;t++)(e=(e<<tS^(e>>tE)*tI)%tM)&t_&&(i^=tS<<(tS<<BigInt(t))-tS);tw.push(i)}let[tk,tB]=split(tw,!0),rotlH=(t,e,r)=>r>32?rotlBH(t,e,r):rotlSH(t,e,r),rotlL=(t,e,r)=>r>32?rotlBL(t,e,r):rotlSL(t,e,r);let Keccak=class Keccak extends Hash{constructor(t,e,r,n=!1,i=24){var o;if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,anumber(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){c||byteSwap32(this.state32),function(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){let n=(e+8)%10,i=(e+2)%10,o=r[i],s=r[i+1],a=rotlH(o,s,1)^r[n],l=rotlL(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=l}let e=t[2],i=t[3];for(let r=0;r<24;r++){let n=tb[r],o=rotlH(e,i,n),s=rotlL(e,i,n),a=tm[r];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=tk[n],t[1]^=tB[n]}r.fill(0)}(this.state32,this.rounds),c||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(t){aexists(this);let{blockLen:e,state:r}=this;t=toBytes(t);let n=t.length;for(let i=0;i<n;){let o=Math.min(e-this.pos,n-i);for(let e=0;e<o;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,(128&e)!=0&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){aexists(this,!1),_assert_abytes(t),this.finish();let e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return anumber(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(aoutput(t,this),this.finished)throw Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new Keccak(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}};let tA=utils_wrapConstructor(()=>new Keccak(136,1,32));let HMAC=class HMAC extends Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");anumber(t.outputLen),anumber(t.blockLen)}(t);let r=toBytes(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return aexists(this),this.iHash.update(t),this}digestInto(t){aexists(this),_assert_abytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};let hmac=(t,e,r)=>new HMAC(t,e).update(r).digest();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(t){void 0!==t.lowS&&abool("lowS",t.lowS),void 0!==t.prehash&&abool("prehash",t.prehash)}hmac.create=(t,e)=>new HMAC(t,e);let{bytesToNumberBE:tN,hexToBytes:tT}=a,tx={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(t,e)=>{let{Err:r}=tx;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?numberToHexUnpadded(i.length/2|128):"",s=numberToHexUnpadded(t);return s+o+i+e},decode(t,e){let{Err:r}=tx,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(128&i),s=0;if(o){let t=127&i;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");let o=e.subarray(n,n+t);if(o.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let t of o)s=s<<8|t;if(n+=t,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=tx;if(t<tL)throw new e("integer: negative integers are not allowed");let r=numberToHexUnpadded(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=tx;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return tN(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=tx,i="string"==typeof t?tT(t):t;utils_abytes(i);let{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:l}=n.decode(2,o),{v:u,l:c}=n.decode(2,l);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){let{_tlv:e,_int:r}=tx,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s));return e.encode(48,n+i)}},tL=BigInt(0),tP=BigInt(1),tR=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let tC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tj=BigInt(1),tD=BigInt(2),divNearest=(t,e)=>(t+e/tD)/e,tz=modular_Field(tC,void 0,void 0,{sqrt:function(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),l=t*t*t%tC,u=l*l*t%tC,c=modular_pow2(u,e,tC)*u%tC,d=modular_pow2(c,e,tC)*u%tC,f=modular_pow2(d,tD,tC)*l%tC,p=modular_pow2(f,n,tC)*f%tC,g=modular_pow2(p,i,tC)*p%tC,y=modular_pow2(g,s,tC)*g%tC,m=modular_pow2(y,a,tC)*y%tC,b=modular_pow2(m,s,tC)*g%tC,w=modular_pow2(b,e,tC)*u%tC,v=modular_pow2(w,o,tC)*p%tC,S=modular_pow2(v,r,tC)*l%tC,_=modular_pow2(S,tD,tC);if(!tz.eql(tz.sqr(_),t))throw Error("Cannot find square root");return _}}),tU=function(t,e){let create=e=>(function(t){let e=function(t){let e=validateBasic(t);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function modN(t){return modular_mod(t,n)}let{ProjectivePoint:s,normPrivateKeyToScalar:a,weierstrassEquation:l,isWithinCurveOrder:u}=function(t){let e=function(t){let e=validateBasic(t);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=modular_Field(e.n,e.nBitLength),i=e.toBytes||((t,e,n)=>{let i=e.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),o=e.fromBytes||(t=>{let e=t.subarray(1),n=r.fromBytes(e.subarray(0,r.BYTES)),i=r.fromBytes(e.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function weierstrassEquation(t){let{a:n,b:i}=e,o=r.sqr(t),s=r.mul(o,t);return r.add(r.add(s,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),weierstrassEquation(e.Gx)))throw Error("bad generator point: equation left != right");function normPrivateKeyToScalar(t){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=e;if(n&&"bigint"!=typeof t){if(abstract_utils_isBytes(t)&&(t=abstract_utils_bytesToHex(t)),"string"!=typeof t||!n.includes(t.length))throw Error("invalid private key");t=t.padStart(2*i,"0")}try{r="bigint"==typeof t?t:utils_bytesToNumberBE(utils_ensureBytes("private key",t,i))}catch(e){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof t)}return o&&(r=modular_mod(r,s)),utils_aInRange("private key",r,tP,s),r}function assertPrjPoint(t){if(!(t instanceof Point))throw Error("ProjectivePoint expected")}let s=memoized((t,e)=>{let{px:n,py:i,pz:o}=t;if(r.eql(o,r.ONE))return{x:n,y:i};let s=t.is0();null==e&&(e=s?r.ONE:r.inv(o));let a=r.mul(n,e),l=r.mul(i,e),u=r.mul(o,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),a=memoized(t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not FE");let o=r.sqr(i),s=weierstrassEquation(n);if(!r.eql(o,s))throw Error("bad point: equation left != right");if(!t.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});let Point=class Point{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw Error("x required");if(null==e||!r.isValid(e))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required");Object.freeze(this)}static fromAffine(t){let{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw Error("invalid affine point");if(t instanceof Point)throw Error("projective point not allowed");let is0=t=>r.eql(t,r.ZERO);return is0(e)&&is0(n)?Point.ZERO:new Point(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(Point.fromAffine)}static fromHex(t){let e=Point.fromAffine(o(utils_ensureBytes("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return Point.BASE.multiply(normPrivateKeyToScalar(t))}static msm(t,e){return curve_pippenger(Point,n,t,e)}_setWindowSize(t){u.setWindowSize(this,t)}assertValidity(){a(this)}hasEvenY(){let{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){assertPrjPoint(t);let{px:e,py:n,pz:i}=this,{px:o,py:s,pz:a}=t,l=r.eql(r.mul(e,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return l&&u}negate(){return new Point(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,tR),{px:o,py:s,pz:a}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,d=r.mul(o,o),f=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),c=r.mul(o,a),c=r.add(c,c),l=r.mul(t,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(f,u),u=r.add(f,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(t,p),g=r.sub(d,p),g=r.mul(t,g),g=r.add(g,c),c=r.add(d,d),d=r.add(c,d),d=r.add(d,p),d=r.mul(d,g),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),c=r.mul(p,f),c=r.add(c,c),c=r.add(c,c),new Point(l,u,c)}add(t){assertPrjPoint(t);let{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=t,u=r.ZERO,c=r.ZERO,d=r.ZERO,f=e.a,p=r.mul(e.b,tR),g=r.mul(n,s),y=r.mul(i,a),m=r.mul(o,l),b=r.add(n,i),w=r.add(s,a);b=r.mul(b,w),w=r.add(g,y),b=r.sub(b,w),w=r.add(n,o);let v=r.add(s,l);return w=r.mul(w,v),v=r.add(g,m),w=r.sub(w,v),v=r.add(i,o),u=r.add(a,l),v=r.mul(v,u),u=r.add(y,m),v=r.sub(v,u),d=r.mul(f,w),u=r.mul(p,m),d=r.add(u,d),u=r.sub(y,d),d=r.add(y,d),c=r.mul(u,d),y=r.add(g,g),y=r.add(y,g),m=r.mul(f,m),w=r.mul(p,w),y=r.add(y,m),m=r.sub(g,m),m=r.mul(f,m),w=r.add(w,m),g=r.mul(y,w),c=r.add(c,g),g=r.mul(v,w),u=r.mul(b,u),u=r.sub(u,g),g=r.mul(b,y),d=r.mul(v,d),d=r.add(d,g),new Point(u,c,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(Point.ZERO)}wNAF(t){return u.wNAFCached(this,t,Point.normalizeZ)}multiplyUnsafe(t){let{endo:n,n:i}=e;utils_aInRange("scalar",t,tL,i);let o=Point.ZERO;if(t===tL)return o;if(this.is0()||t===tP)return this;if(!n||u.hasPrecomputes(this))return u.wNAFCachedUnsafe(this,t,Point.normalizeZ);let{k1neg:s,k1:a,k2neg:l,k2:c}=n.splitScalar(t),d=o,f=o,p=this;for(;a>tL||c>tL;)a&tP&&(d=d.add(p)),c&tP&&(f=f.add(p)),p=p.double(),a>>=tP,c>>=tP;return s&&(d=d.negate()),l&&(f=f.negate()),f=new Point(r.mul(f.px,n.beta),f.py,f.pz),d.add(f)}multiply(t){let n,i;let{endo:o,n:s}=e;if(utils_aInRange("scalar",t,tP,s),o){let{k1neg:e,k1:s,k2neg:a,k2:l}=o.splitScalar(t),{p:c,f:d}=this.wNAF(s),{p:f,f:p}=this.wNAF(l);c=u.constTimeNegate(e,c),f=u.constTimeNegate(a,f),f=new Point(r.mul(f.px,o.beta),f.py,f.pz),n=c.add(f),i=d.add(p)}else{let{p:e,f:r}=this.wNAF(t);n=e,i=r}return Point.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=Point.BASE,mul=(t,e)=>e!==tL&&e!==tP&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),i=mul(this,e).add(mul(t,r));return i.is0()?void 0:i}toAffine(t){return s(this,t)}isTorsionFree(){let{h:t,isTorsionFree:r}=e;if(t===tP)return!0;if(r)return r(Point,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:r}=e;return t===tP?this:r?r(Point,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return abool("isCompressed",t),this.assertValidity(),i(Point,this,t)}toHex(t=!0){return abool("isCompressed",t),abstract_utils_bytesToHex(this.toRawBytes(t))}};Point.BASE=new Point(e.Gx,e.Gy,r.ONE),Point.ZERO=new Point(r.ZERO,r.ONE,r.ZERO);let l=e.nBitLength,u=wNAF(Point,e.endo?Math.ceil(l/2):l);return{CURVE:e,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder:function(t){return utils_inRange(t,tP,e.n)}}}({...e,toBytes(t,e,n){let i=e.toAffine(),o=r.toBytes(i.x),s=abstract_utils_concatBytes;return(abool("isCompressed",n),n)?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(t){let e=t.length,n=t[0],s=t.subarray(1);if(e===i&&(2===n||3===n)){let t;let e=utils_bytesToNumberBE(s);if(!utils_inRange(e,tP,r.ORDER))throw Error("Point is not on curve");let i=l(e);try{t=r.sqrt(i)}catch(e){let t=e instanceof Error?": "+e.message:"";throw Error("Point is not on curve"+t)}let o=(t&tP)===tP;return(1&n)==1!==o&&(t=r.neg(t)),{x:e,y:t}}if(e===o&&4===n){let t=r.fromBytes(s.subarray(0,r.BYTES)),e=r.fromBytes(s.subarray(r.BYTES,2*r.BYTES));return{x:t,y:e}}throw Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+e)}}),numToNByteStr=t=>abstract_utils_bytesToHex(utils_numberToBytesBE(t,e.nByteLength));function isBiggerThanHalfOrder(t){let e=n>>tP;return t>e}let slcNum=(t,e,r)=>utils_bytesToNumberBE(t.slice(e,r));let Signature=class Signature{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let r=e.nByteLength;return t=utils_ensureBytes("compactSignature",t,2*r),new Signature(slcNum(t,0,r),slcNum(t,r,2*r))}static fromDER(t){let{r:e,s:r}=tx.toSig(utils_ensureBytes("DER",t));return new Signature(e,r)}assertValidity(){utils_aInRange("r",this.r,tP,n),utils_aInRange("s",this.s,tP,n)}addRecoveryBit(t){return new Signature(this.r,this.s,t)}recoverPublicKey(t){let{r:i,s:o,recovery:a}=this,l=d(utils_ensureBytes("msgHash",t));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let u=2===a||3===a?i+e.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let c=(1&a)==0?"02":"03",f=s.fromHex(c+numToNByteStr(u)),p=invert(u,n),g=modN(-l*p),y=modN(o*p),m=s.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return utils_hexToBytes(this.toDERHex())}toDERHex(){return tx.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}};function isProbPub(t){let e=abstract_utils_isBytes(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===o:r?n===2*i||n===2*o:t instanceof s}let c=e.bits2int||function(t){if(t.length>8192)throw Error("input is too large");let r=utils_bytesToNumberBE(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},d=e.bits2int_modN||function(t){return modN(c(t))},f=bitMask(e.nBitLength);function int2octets(t){return utils_aInRange("num < 2^"+e.nBitLength,t,tL,f),utils_numberToBytesBE(t,e.nByteLength)}let p={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};return s.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return s.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(isProbPub(t))throw Error("first arg must be private key");if(!isProbPub(e))throw Error("second arg must be public key");let n=s.fromHex(e);return n.multiply(a(t)).toRawBytes(r)},sign:function(t,i,o=p){let{seed:l,k2sig:f}=function(t,i,o=p){if(["recovered","canonical"].some(t=>t in o))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:f}=e,{lowS:g,prehash:y,extraEntropy:m}=o;null==g&&(g=!0),t=utils_ensureBytes("msgHash",t),validateSigVerOpts(o),y&&(t=utils_ensureBytes("prehashed msgHash",l(t)));let b=d(t),w=a(i),v=[int2octets(w),int2octets(b)];if(null!=m&&!1!==m){let t=!0===m?f(r.BYTES):m;v.push(utils_ensureBytes("extraEntropy",t))}let S=abstract_utils_concatBytes(...v);return{seed:S,k2sig:function(t){let e=c(t);if(!u(e))return;let r=invert(e,n),i=s.BASE.multiply(e).toAffine(),o=modN(i.x);if(o===tL)return;let a=modN(r*modN(b+o*w));if(a===tL)return;let l=(i.x===o?0:2)|Number(i.y&tP),d=a;return g&&isBiggerThanHalfOrder(a)&&(d=isBiggerThanHalfOrder(a)?modN(-a):a,l^=1),new Signature(o,d,l)}}}(t,i,o),g=createHmacDrbg(e.hash.outputLen,e.nByteLength,e.hmac);return g(l,f)},verify:function(t,r,i,o=g){let a,l;r=utils_ensureBytes("msgHash",r),i=utils_ensureBytes("publicKey",i);let{lowS:u,prehash:c,format:f}=o;if(validateSigVerOpts(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let p="string"==typeof t||abstract_utils_isBytes(t),y=!p&&!f&&"object"==typeof t&&null!==t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!p&&!y)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(y&&(l=new Signature(t.r,t.s)),p){try{"compact"!==f&&(l=Signature.fromDER(t))}catch(t){if(!(t instanceof tx.Err))throw t}l||"der"===f||(l=Signature.fromCompact(t))}a=s.fromHex(i)}catch(t){return!1}if(!l||u&&l.hasHighS())return!1;c&&(r=e.hash(r));let{r:m,s:b}=l,w=d(r),v=invert(b,n),S=modN(w*v),_=modN(m*v),M=s.BASE.multiplyAndAddUnsafe(a,S,_)?.toAffine();if(!M)return!1;let I=modN(M.x);return I===m},ProjectivePoint:s,Signature,utils:{isValidPrivateKey(t){try{return a(t),!0}catch(t){return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{let t=getMinHashLength(e.n);return function(t,e,r=!1){let n=t.length,i=getFieldBytesLength(e),o=getMinHashLength(e);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=r?utils_bytesToNumberLE(t):utils_bytesToNumberBE(t),a=modular_mod(s,e-A)+A;return r?utils_numberToBytesLE(a,i):utils_numberToBytesBE(a,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=s.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}})({...t,hash:e,hmac:(t,...r)=>hmac(e,t,function(...t){let e=0;for(let r=0;r<t.length;r++){let n=t[r];_assert_abytes(n),e+=n.length}let r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:utils_randomBytes});return{...create(e),create}}({a:BigInt(0),b:BigInt(7),Fp:tz,n:tO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tj*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=divNearest(e*t,tO),s=divNearest(-r*t,tO),a=modular_mod(t-o*e-s*n,tO),l=modular_mod(-o*r-s*e,tO),u=a>i,c=l>i;if(u&&(a=tO-a),c&&(l=tO-l),a>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:a,k2neg:c,k2:l}}}},ta),tW=(BigInt(0),tU.ProjectivePoint,X.utils.randomPrivateKey),generateKeypair=()=>{let t=X.utils.randomPrivateKey(),e=tK(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},tK=X.getPublicKey;function isOnCurve(t){try{return X.ExtendedPoint.fromHex(t),!0}catch{return!1}}let sign=(t,e)=>X.sign(t,e.slice(0,32)),tF=X.verify,toBuffer=t=>l.Buffer.isBuffer(t)?t:t instanceof Uint8Array?l.Buffer.from(t.buffer,t.byteOffset,t.byteLength):l.Buffer.from(t);let index_browser_esm_Struct=class index_browser_esm_Struct{constructor(t){Object.assign(this,t)}encode(){return l.Buffer.from((0,tl.serialize)(tH,this))}static decode(t){return(0,tl.deserialize)(tH,this,t)}static decodeUnchecked(t){return(0,tl.deserializeUnchecked)(tH,this,t)}};let Enum=class Enum extends index_browser_esm_Struct{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw Error("Enum can only take single value");Object.keys(t).map(t=>{this.enum=t})}};let tH=new Map,tq=32,tV=32,tG=1;let PublicKey=class PublicKey extends index_browser_esm_Struct{constructor(t){if(super({}),this._bn=void 0,void 0!==t._bn)this._bn=t._bn;else{if("string"==typeof t){let e=tn().decode(t);if(e.length!=tV)throw Error("Invalid public key input");this._bn=new(te())(e)}else this._bn=new(te())(t);if(this._bn.byteLength()>tV)throw Error("Invalid public key input")}}static unique(){let t=new PublicKey(tG);return tG+=1,new PublicKey(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return tn().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(l.Buffer);if(t.length===tV)return t;let e=l.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){let n=l.Buffer.concat([t.toBuffer(),l.Buffer.from(e),r.toBuffer()]),i=ta(n);return new PublicKey(i)}static createProgramAddressSync(t,e){let r=l.Buffer.alloc(0);t.forEach(function(t){if(t.length>tq)throw TypeError("Max seed length exceeded");r=l.Buffer.concat([r,toBuffer(t)])}),r=l.Buffer.concat([r,e.toBuffer(),l.Buffer.from("ProgramDerivedAddress")]);let n=ta(r);if(isOnCurve(n))throw Error("Invalid seeds, address must fall off the curve");return new PublicKey(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{let i=t.concat(l.Buffer.from([n]));r=this.createProgramAddressSync(i,e)}catch(t){if(t instanceof TypeError)throw t;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new PublicKey(t);return isOnCurve(e.toBytes())}};PublicKey.default=new PublicKey("11111111111111111111111111111111"),tH.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});let Account=class Account{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){let e=toBuffer(t);if(64!==t.length)throw Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=toBuffer(tW()),this._publicKey=toBuffer(tK(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return l.Buffer.concat([this._secretKey,this._publicKey],64)}};let tY=new PublicKey("BPFLoader1111111111111111111111111111111111"),t$=1232,tJ=127,tZ=64;let TransactionExpiredBlockheightExceededError=class TransactionExpiredBlockheightExceededError extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let TransactionExpiredTimeoutError=class TransactionExpiredTimeoutError extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});let TransactionExpiredNonceInvalidError=class TransactionExpiredNonceInvalidError extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let MessageAccountKeys=class MessageAccountKeys{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw Error("Account index overflow encountered during compilation");let e=new Map;this.keySegments().flat().forEach((t,r)=>{e.set(t.toBase58(),r)});let findKeyIndex=t=>{let r=e.get(t.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return t.map(t=>({programIdIndex:findKeyIndex(t.programId),accountKeyIndexes:t.keys.map(t=>findKeyIndex(t.pubkey)),data:t.data}))}};let publicKey=(t="publicKey")=>tu.Ik(32,t),signature=(t="signature")=>tu.Ik(64,t),rustString=(t="string")=>{let e=tu.n_([tu.Jq("length"),tu.Jq("lengthPadding"),tu.Ik(tu.cv(tu.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e);return e.decode=(t,e)=>{let n=r(t,e);return n.chars.toString()},e.encode=(t,e,r)=>{let i={chars:l.Buffer.from(t,"utf8")};return n(i,e,r)},e.alloc=t=>tu.Jq().span+tu.Jq().span+l.Buffer.from(t,"utf8").length,e};function decodeLength(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,(128&n)==0)break}return e}function encodeLength(t,e){let r=e;for(;;){let e=127&r;if(0==(r>>=7)){t.push(e);break}e|=128,t.push(e)}}function index_browser_esm_assert(t,e){if(!t)throw Error(e||"Assertion failed")}let CompiledKeys=class CompiledKeys{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let r=new Map,getOrInsertDefault=t=>{let e=t.toBase58(),n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},n=getOrInsertDefault(e);for(let e of(n.isSigner=!0,n.isWritable=!0,t))for(let t of(getOrInsertDefault(e.programId).isInvoked=!0,e.keys)){let e=getOrInsertDefault(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}return new CompiledKeys(e,r)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];index_browser_esm_assert(t.length<=256,"Max static account keys length exceeded");let e=t.filter(([,t])=>t.isSigner&&t.isWritable),r=t.filter(([,t])=>t.isSigner&&!t.isWritable),n=t.filter(([,t])=>!t.isSigner&&t.isWritable),i=t.filter(([,t])=>!t.isSigner&&!t.isWritable),o={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{index_browser_esm_assert(e.length>0,"Expected at least one writable signer key");let[t]=e[0];index_browser_esm_assert(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let s=[...e.map(([t])=>new PublicKey(t)),...r.map(([t])=>new PublicKey(t)),...n.map(([t])=>new PublicKey(t)),...i.map(([t])=>new PublicKey(t))];return[o,s]}extractTableLookup(t){let[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&t.isWritable),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&!t.isWritable);if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){let r=[],n=[];for(let[i,o]of this.keyMetaMap.entries())if(e(o)){let e=new PublicKey(i),o=t.findIndex(t=>t.equals(e));o>=0&&(index_browser_esm_assert(o<256,"Max lookup table index exceeded"),r.push(o),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}};let tQ="Reached end of buffer unexpectedly";function guardedShift(t){if(0===t.length)throw Error(tQ);return t.shift()}function guardedSplice(t,...e){let[r]=e;if(2===e.length?r+(e[1]??0)>t.length:r>=t.length)throw Error(tQ);return t.splice(...e)}let Message=class Message{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new PublicKey(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:tn().decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(t){let e=CompiledKeys.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new MessageAccountKeys(n),o=i.compileInstructions(t.instructions).map(t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:tn().encode(t.data)}));return new Message({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let r=this.accountKeys.length-e,n=r-this.header.numReadonlyUnsignedAccounts;return t-e<n}{let r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];encodeLength(e,t);let r=this.instructions.map(t=>{let{accounts:e,programIdIndex:r}=t,n=Array.from(tn().decode(t.data)),i=[];encodeLength(i,e.length);let o=[];return encodeLength(o,n.length),{programIdIndex:r,keyIndicesCount:l.Buffer.from(i),keyIndices:e,dataLength:l.Buffer.from(o),data:n}}),n=[];encodeLength(n,r.length);let i=l.Buffer.alloc(t$);l.Buffer.from(n).copy(i);let o=n.length;r.forEach(t=>{let e=tu.n_([tu.u8("programIdIndex"),tu.Ik(t.keyIndicesCount.length,"keyIndicesCount"),tu.A9(tu.u8("keyIndex"),t.keyIndices.length,"keyIndices"),tu.Ik(t.dataLength.length,"dataLength"),tu.A9(tu.u8("userdatum"),t.data.length,"data")]),r=e.encode(t,i,o);o+=r}),i=i.slice(0,o);let s=tu.n_([tu.Ik(1,"numRequiredSignatures"),tu.Ik(1,"numReadonlySignedAccounts"),tu.Ik(1,"numReadonlyUnsignedAccounts"),tu.Ik(e.length,"keyCount"),tu.A9(publicKey("key"),t,"keys"),publicKey("recentBlockhash")]),a={numRequiredSignatures:l.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:l.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:l.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:l.Buffer.from(e),keys:this.accountKeys.map(t=>toBuffer(t.toBytes())),recentBlockhash:tn().decode(this.recentBlockhash)},u=l.Buffer.alloc(2048),c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(t){let e=[...t],r=guardedShift(e);if(r!==(r&tJ))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=guardedShift(e),i=guardedShift(e),o=decodeLength(e),s=[];for(let t=0;t<o;t++){let t=guardedSplice(e,0,tV);s.push(new PublicKey(l.Buffer.from(t)))}let a=guardedSplice(e,0,tV),u=decodeLength(e),c=[];for(let t=0;t<u;t++){let t=guardedShift(e),r=decodeLength(e),n=guardedSplice(e,0,r),i=decodeLength(e),o=guardedSplice(e,0,i),s=tn().encode(l.Buffer.from(o));c.push({programIdIndex:t,accounts:n,data:s})}let d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:tn().encode(l.Buffer.from(a)),accountKeys:s,instructions:c};return new Message(d)}};let MessageV0=class MessageV0{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){let e=this.addressTableLookups.reduce((t,e)=>t+e.writableIndexes.length,0);return t-r<e}if(t>=this.header.numRequiredSignatures){let n=r-e-this.header.numReadonlyUnsignedAccounts;return t-e<n}{let r=e-this.header.numReadonlySignedAccounts;return t<r}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=t.find(t=>t.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let t of r.writableIndexes)if(t<n.state.addresses.length)e.writable.push(n.state.addresses[t]);else throw Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);for(let t of r.readonlyIndexes)if(t<n.state.addresses.length)e.readonly.push(n.state.addresses[t]);else throw Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){let e=CompiledKeys.compile(t.instructions,t.payerKey),r=[],n={writable:[],readonly:[]},i=t.addressLookupTableAccounts||[];for(let t of i){let i=e.extractTableLookup(t);if(void 0!==i){let[t,{writable:e,readonly:o}]=i;r.push(t),n.writable.push(...e),n.readonly.push(...o)}}let[o,s]=e.getMessageComponents(),a=new MessageAccountKeys(s,n),l=a.compileInstructions(t.instructions);return new MessageV0({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){let t=[];encodeLength(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),r=[];encodeLength(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];encodeLength(i,this.addressTableLookups.length);let o=tu.n_([tu.u8("prefix"),tu.n_([tu.u8("numRequiredSignatures"),tu.u8("numReadonlySignedAccounts"),tu.u8("numReadonlyUnsignedAccounts")],"header"),tu.Ik(t.length,"staticAccountKeysLength"),tu.A9(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),tu.Ik(r.length,"instructionsLength"),tu.Ik(e.length,"serializedInstructions"),tu.Ik(i.length,"addressTableLookupsLength"),tu.Ik(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(t$),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(t=>t.toBytes()),recentBlockhash:tn().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let t=0,e=new Uint8Array(t$);for(let r of this.compiledInstructions){let n=[];encodeLength(n,r.accountKeyIndexes.length);let i=[];encodeLength(i,r.data.length);let o=tu.n_([tu.u8("programIdIndex"),tu.Ik(n.length,"encodedAccountKeyIndexesLength"),tu.A9(tu.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),tu.Ik(i.length,"encodedDataLength"),tu.Ik(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(t$);for(let r of this.addressTableLookups){let n=[];encodeLength(n,r.writableIndexes.length);let i=[];encodeLength(i,r.readonlyIndexes.length);let o=tu.n_([publicKey("accountKey"),tu.Ik(n.length,"encodedWritableIndexesLength"),tu.A9(tu.u8(),r.writableIndexes.length,"writableIndexes"),tu.Ik(i.length,"encodedReadonlyIndexesLength"),tu.A9(tu.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],r=guardedShift(e),n=r&tJ;index_browser_esm_assert(r!==n,"Expected versioned message but received legacy message"),index_browser_esm_assert(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:guardedShift(e),numReadonlySignedAccounts:guardedShift(e),numReadonlyUnsignedAccounts:guardedShift(e)},o=[],s=decodeLength(e);for(let t=0;t<s;t++)o.push(new PublicKey(guardedSplice(e,0,tV)));let a=tn().encode(guardedSplice(e,0,tV)),l=decodeLength(e),u=[];for(let t=0;t<l;t++){let t=guardedShift(e),r=decodeLength(e),n=guardedSplice(e,0,r),i=decodeLength(e),o=new Uint8Array(guardedSplice(e,0,i));u.push({programIdIndex:t,accountKeyIndexes:n,data:o})}let c=decodeLength(e),d=[];for(let t=0;t<c;t++){let t=new PublicKey(guardedSplice(e,0,tV)),r=decodeLength(e),n=guardedSplice(e,0,r),i=decodeLength(e),o=guardedSplice(e,0,i);d.push({accountKey:t,writableIndexes:n,readonlyIndexes:o})}return new MessageV0({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:d})}};let tX={deserializeMessageVersion(t){let e=t[0],r=e&tJ;return r===e?"legacy":r},deserialize:t=>{let e=tX.deserializeMessageVersion(t);if("legacy"===e)return Message.from(t);if(0===e)return MessageV0.deserialize(t);throw Error(`Transaction message version ${e} deserialization is not supported`)}},t0=((n={})[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n),t1=l.Buffer.alloc(tZ).fill(0);let TransactionInstruction=class TransactionInstruction{constructor(t){this.keys=void 0,this.programId=void 0,this.data=l.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}};let Transaction=class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!t)return;if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){let{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{let{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction(t))}),this}compileMessage(){let t,e,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw Error(`Transaction instruction index ${t} has undefined program id`);let n=[],i=[];e.forEach(t=>{t.keys.forEach(t=>{i.push({...t})});let e=t.programId.toString();n.includes(e)||n.push(e)}),n.forEach(t=>{i.push({pubkey:new PublicKey(t),isSigner:!1,isWritable:!1})});let o=[];i.forEach(t=>{let e=t.pubkey.toString(),r=o.findIndex(t=>t.pubkey.toString()===e);r>-1?(o[r].isWritable=o[r].isWritable||t.isWritable,o[r].isSigner=o[r].isSigner||t.isSigner):o.push(t)}),o.sort(function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let s=o.findIndex(t=>t.pubkey.equals(r));if(s>-1){let[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let t of this.signatures){let e=o.findIndex(e=>e.pubkey.equals(t.publicKey));if(e>-1)o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${t.publicKey.toString()}`)}let a=0,l=0,u=0,c=[],d=[];o.forEach(({pubkey:t,isSigner:e,isWritable:r})=>{e?(c.push(t.toString()),a+=1,r||(l+=1)):(d.push(t.toString()),r||(u+=1))});let f=c.concat(d),p=e.map(t=>{let{data:e,programId:r}=t;return{programIdIndex:f.indexOf(r.toString()),accounts:t.keys.map(t=>f.indexOf(t.pubkey.toString())),data:tn().encode(e)}});return p.forEach(t=>{index_browser_esm_assert(t.programIdIndex>=0),t.accounts.forEach(t=>index_browser_esm_assert(t>=0))}),new Message({header:{numRequiredSignatures:a,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:t,instructions:p})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){let r=this.signatures.every((t,r)=>e[r].equals(t.publicKey));if(r)return t}return this.signatures=e.map(t=>({signature:null,publicKey:t})),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw Error("No signers");let e=new Set;this.signatures=t.filter(t=>{let r=t.toString();return!e.has(r)&&(e.add(r),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw Error("No signers");let e=new Set,r=[];for(let n of t){let t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}this.signatures=r.map(t=>({signature:null,publicKey:t.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw Error("No signers");let e=new Set,r=[];for(let n of t){let t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){let r=t.serialize();e.forEach(t=>{let e=sign(r,t.secretKey);this._addSignature(t.publicKey,toBuffer(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){index_browser_esm_assert(64===e.length);let r=this.signatures.findIndex(e=>t.equals(e.publicKey));if(r<0)throw Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=l.Buffer.from(e)}verifySignatures(t=!0){let e=this._getMessageSignednessErrors(this.serializeMessage(),t);return!e}_getMessageSignednessErrors(t,e){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?e&&(r.missing||=[]).push(i):tF(n,t,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r){let t=this._getMessageSignednessErrors(n,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`
Invalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map(t=>t.toBase58()).join("`, `")}\`].`),t.missing&&(e+=`
Missing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map(t=>t.toBase58()).join("`, `")}\`].`),Error(e)}}return this._serialize(n)}_serialize(t){let{signatures:e}=this,r=[];encodeLength(r,e.length);let n=r.length+64*e.length+t.length,i=l.Buffer.alloc(n);return index_browser_esm_assert(e.length<256),l.Buffer.from(r).copy(i,0),e.forEach(({signature:t},e)=>{null!==t&&(index_browser_esm_assert(64===t.length,"signature has invalid length"),l.Buffer.from(t).copy(i,r.length+64*e))}),t.copy(i,r.length+64*e.length),index_browser_esm_assert(i.length<=t$,`Transaction too large: ${i.length} > ${t$}`),i}get keys(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].programId}get data(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t],r=decodeLength(e),n=[];for(let t=0;t<r;t++){let t=guardedSplice(e,0,tZ);n.push(tn().encode(l.Buffer.from(t)))}return Transaction.populate(Message.from(e),n)}static populate(t,e=[]){let r=new Transaction;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((e,n)=>{let i={signature:e==tn().encode(t1)?null:tn().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)}),t.instructions.forEach(e=>{let n=e.accounts.map(e=>{let n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some(t=>t.publicKey.toString()===n.toString())||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});r.instructions.push(new TransactionInstruction({keys:n,programId:t.accountKeys[e.programIdIndex],data:tn().decode(e.data)}))}),r._message=t,r._json=r.toJSON(),r}};let TransactionMessage=class TransactionMessage{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){let{header:r,compiledInstructions:n,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=r,l=o-s;index_browser_esm_assert(l>0,"Message header is invalid");let u=t.staticAccountKeys.length-o-a;index_browser_esm_assert(u>=0,"Message header is invalid");let c=t.getAccountKeys(e),d=c.get(0);if(void 0===d)throw Error("Failed to decompile message because no account keys were found");let f=[];for(let t of n){let e=[];for(let n of t.accountKeyIndexes){let t;let i=c.get(n);if(void 0===i)throw Error(`Failed to find key for account key index ${n}`);let s=n<o;t=s?n<l:n<c.staticAccountKeys.length?n-o<u:n-c.staticAccountKeys.length<c.accountKeysFromLookups.writable.length,e.push({pubkey:i,isSigner:n<r.numRequiredSignatures,isWritable:t})}let n=c.get(t.programIdIndex);if(void 0===n)throw Error(`Failed to find program id for program id index ${t.programIdIndex}`);f.push(new TransactionInstruction({programId:n,data:toBuffer(t.data),keys:e}))}return new TransactionMessage({payerKey:d,instructions:f,recentBlockhash:i})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}};let VersionedTransaction=class VersionedTransaction{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)index_browser_esm_assert(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{let e=[];for(let r=0;r<t.header.numRequiredSignatures;r++)e.push(new Uint8Array(tZ));this.signatures=e}this.message=t}serialize(){let t=this.message.serialize(),e=[];encodeLength(e,this.signatures.length);let r=tu.n_([tu.Ik(e.length,"encodedSignaturesLength"),tu.A9(signature(),this.signatures.length,"signatures"),tu.Ik(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}static deserialize(t){let e=[...t],r=[],n=decodeLength(e);for(let t=0;t<n;t++)r.push(new Uint8Array(guardedSplice(e,0,tZ)));let i=tX.deserialize(new Uint8Array(e));return new VersionedTransaction(i,r)}sign(t){let e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let n of t){let t=r.findIndex(t=>t.equals(n.publicKey));index_browser_esm_assert(t>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[t]=sign(e,n.secretKey)}}addSignature(t,e){index_browser_esm_assert(64===e.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),n=r.findIndex(e=>e.equals(t));index_browser_esm_assert(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}};let t2=new PublicKey("SysvarC1ock11111111111111111111111111111111"),t4=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),t6=new PublicKey("Sysvar1nstructions1111111111111111111111111"),t8=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),t3=new PublicKey("SysvarRent111111111111111111111111111111111"),t5=new PublicKey("SysvarRewards111111111111111111111111111111"),t7=new PublicKey("SysvarS1otHashes111111111111111111111111111"),t9=new PublicKey("SysvarS1otHistory11111111111111111111111111"),et=new PublicKey("SysvarStakeHistory1111111111111111111111111");let SendTransactionError=class SendTransactionError extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:n}){let i;let o=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(t){case"send":i=`Transaction ${e} resulted in an error. 
${r}. `+o+s;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:i=`Unknown action '${t}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(t=>{if(t&&t.meta&&t.meta.logMessages){let r=t.meta.logMessages;this.transactionLogs=r,e(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};let ee={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let SolanaJSONRPCError=class SolanaJSONRPCError extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};async function sendAndConfirmTransaction(t,e,r,n){let i;let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,o);if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)i=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){let{nonceInstruction:r}=e.nonceInfo,o=r.keys[0].pubkey;i=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:o,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err){if(null!=s)throw new SendTransactionError({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${s} failed (${JSON.stringify(i)})`)}return s}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData(t,e){let r=t.layout.span>=0?t.layout.span:function getAlloc(t,e){let getItemAlloc=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){let r=e[t.property];if(Array.isArray(r))return r.length*getItemAlloc(t.elementLayout)}else if("fields"in t)return getAlloc({layout:t},e[t.property]);return 0},r=0;return t.layout.fields.forEach(t=>{r+=getItemAlloc(t)}),r}(t,e),n=l.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function decodeData$1(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw Error("invalid instruction; "+t)}if(r.instruction!==t.index)throw Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}let er=tu._O("lamportsPerSignature"),en=tu.n_([tu.Jq("version"),tu.Jq("state"),publicKey("authorizedPubkey"),publicKey("nonce"),tu.n_([er],"feeCalculator")]),ei=en.span;let NonceAccount=class NonceAccount{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let e=en.decode(toBuffer(t),0);return new NonceAccount({authorizedPubkey:new PublicKey(e.authorizedPubkey),nonce:new PublicKey(e.nonce).toString(),feeCalculator:e.feeCalculator})}};let encodeDecode=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},index_browser_esm_u64=t=>{let e=(0,tu.Ik)(8,t),{encode:r,decode:n}=encodeDecode(e);return e.decode=(t,e)=>{let r=n(t,e);return(0,tc.oU)(l.Buffer.from(r))},e.encode=(t,e,n)=>{let i=(0,tc.k$)(t,8);return r(i,e,n)},e};let SystemInstruction=class SystemInstruction{constructor(){}static decodeInstructionType(t){let e;this.checkProgramId(t.programId);let r=tu.Jq("instruction"),n=r.decode(t.data);for(let[t,r]of Object.entries(eo))if(r.index==n){e=t;break}if(!e)throw Error("Instruction type incorrect; not a SystemInstruction");return e}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e,space:r,programId:n}=decodeData$1(eo.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new PublicKey(n)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e}=decodeData$1(eo.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e,seed:r,programId:n}=decodeData$1(eo.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new PublicKey(n)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{space:e}=decodeData$1(eo.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:r,space:n,programId:i}=decodeData$1(eo.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:r,space:n,programId:new PublicKey(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{programId:e}=decodeData$1(eo.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new PublicKey(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:r,programId:n}=decodeData$1(eo.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:r,programId:new PublicKey(n)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{base:e,seed:r,lamports:n,space:i,programId:o}=decodeData$1(eo.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new PublicKey(e),seed:r,lamports:n,space:i,programId:new PublicKey(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{authorized:e}=decodeData$1(eo.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new PublicKey(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),decodeData$1(eo.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=decodeData$1(eo.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e}=decodeData$1(eo.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(e)}}static checkProgramId(t){if(!t.equals(SystemProgram.programId))throw Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}};let eo=Object.freeze({Create:{index:0,layout:tu.n_([tu.Jq("instruction"),tu.gM("lamports"),tu.gM("space"),publicKey("programId")])},Assign:{index:1,layout:tu.n_([tu.Jq("instruction"),publicKey("programId")])},Transfer:{index:2,layout:tu.n_([tu.Jq("instruction"),index_browser_esm_u64("lamports")])},CreateWithSeed:{index:3,layout:tu.n_([tu.Jq("instruction"),publicKey("base"),rustString("seed"),tu.gM("lamports"),tu.gM("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:tu.n_([tu.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:tu.n_([tu.Jq("instruction"),tu.gM("lamports")])},InitializeNonceAccount:{index:6,layout:tu.n_([tu.Jq("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:tu.n_([tu.Jq("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:tu.n_([tu.Jq("instruction"),tu.gM("space")])},AllocateWithSeed:{index:9,layout:tu.n_([tu.Jq("instruction"),publicKey("base"),rustString("seed"),tu.gM("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:tu.n_([tu.Jq("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:tu.n_([tu.Jq("instruction"),index_browser_esm_u64("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:tu.n_([tu.Jq("instruction")])}});let SystemProgram=class SystemProgram{constructor(){}static createAccount(t){let e=eo.Create,r=encodeData(e,{lamports:t.lamports,space:t.space,programId:toBuffer(t.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if("basePubkey"in t){let n=eo.TransferWithSeed;e=encodeData(n,{lamports:BigInt(t.lamports),seed:t.seed,programId:toBuffer(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let n=eo.Transfer;e=encodeData(n,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){let n=eo.AssignWithSeed;e=encodeData(n,{base:toBuffer(t.basePubkey.toBuffer()),seed:t.seed,programId:toBuffer(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=eo.Assign;e=encodeData(n,{programId:toBuffer(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=eo.CreateWithSeed,r=encodeData(e,{base:toBuffer(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:toBuffer(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createNonceAccount(t){let e=new Transaction;"basePubkey"in t&&"seed"in t?e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:ei,programId:this.programId})):e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:ei,programId:this.programId}));let r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){let e=eo.InitializeNonceAccount,r=encodeData(e,{authorized:toBuffer(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t8,isSigner:!1,isWritable:!1},{pubkey:t3,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceAdvance(t){let e=eo.AdvanceNonceAccount,r=encodeData(e),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t8,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceWithdraw(t){let e=eo.WithdrawNonceAccount,r=encodeData(e,{lamports:t.lamports});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:t8,isSigner:!1,isWritable:!1},{pubkey:t3,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){let e=eo.AuthorizeNonceAccount,r=encodeData(e,{authorized:toBuffer(t.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if("basePubkey"in t){let n=eo.AllocateWithSeed;e=encodeData(n,{base:toBuffer(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:toBuffer(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=eo.Allocate;e=encodeData(n,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}};SystemProgram.programId=new PublicKey("11111111111111111111111111111111");let es=t$-300;let Loader=class Loader{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Loader.chunkSize)+1+1)}static async load(t,e,r,n,i){{let o=await t.getMinimumBalanceForRentExemption(i.length),s=await t.getAccountInfo(r.publicKey,"confirmed"),a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new Transaction).add(SystemProgram.allocate({accountPubkey:r.publicKey,space:i.length})),s.owner.equals(n)||(a=a||new Transaction).add(SystemProgram.assign({accountPubkey:r.publicKey,programId:n})),s.lamports<o&&(a=a||new Transaction).add(SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports}))}else a=new Transaction().add(SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await sendAndConfirmTransaction(t,a,[e,r],{commitment:"confirmed"})}let o=tu.n_([tu.Jq("instruction"),tu.Jq("offset"),tu.Jq("bytesLength"),tu.Jq("bytesLengthPadding"),tu.A9(tu.u8("byte"),tu.cv(tu.Jq(),-8),"bytes")]),s=Loader.chunkSize,a=0,u=i,c=[];for(;u.length>0;){let i=u.slice(0,s),d=l.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},d);let f=new Transaction().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});c.push(sendAndConfirmTransaction(t,f,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await sleep(250),a+=s,u=u.slice(s)}await Promise.all(c);{let i=tu.n_([tu.Jq("instruction")]),o=l.Buffer.alloc(i.span);i.encode({instruction:1},o);let s=new Transaction().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:t3,isSigner:!1,isWritable:!1}],programId:n,data:o}),a="processed",u=await t.sendTransaction(s,[e,r],{preflightCommitment:a}),{context:c,value:d}=await t.confirmTransaction({signature:u,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(d.err)throw Error(`Transaction ${u} failed (${JSON.stringify(d)})`);for(;;){try{let e=await t.getSlot({commitment:a});if(e>c.slot)break}catch{}await new Promise(t=>setTimeout(t,Math.round(200)))}}return!0}};Loader.chunkSize=es;let ea=new PublicKey("BPFLoader2111111111111111111111111111111111");let BpfLoader=class BpfLoader{static getMinNumSignatures(t){return Loader.getMinNumSignatures(t)}static load(t,e,r,n,i){return Loader.load(t,e,r,i,n)}};var el=(i=function(){if(s)return o;s=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};return o=function(r){var n=function stringify(r,n){var i,o,s,a,l,u,c;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return stringify(r.toJSON(),n);if("[object Array]"===(c=t.call(r))){for(i=0,s="[",o=r.length-1;i<o;i++)s+=stringify(r[i],!0)+",";return o>-1&&(s+=stringify(r[i],!0)),s+"]"}if("[object Object]"!==c)return JSON.stringify(r);for(o=(a=e(r).sort()).length,s="",i=0;i<o;)void 0!==(u=stringify(r[l=a[i]],!1))&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u),i++;return"{"+s+"}";case"function":case"undefined":return n?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}(r,!1);if(void 0!==n)return""+n}}())&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}let EpochSchedule=class EpochSchedule{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){var e;let r=trailingZeros(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,(e|=e>>32)+1))-trailingZeros(32)-1,n=this.getSlotsInEpoch(r),i=t-(n-32);return[r,i]}{let e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),n=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[n,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*32:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+trailingZeros(32)):this.slotsPerEpoch}};var eu=globalThis.fetch;let RpcWebSocketClient=class RpcWebSocketClient extends ty{constructor(t,e,r){super(t=>{var r;let n=(r={autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e},new tp(t,r));return"socket"in n?this.underlyingSocket=n.socket:this.underlyingSocket=n,n},t,e,r),this.underlyingSocket=void 0}call(...t){let e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){let e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}};let AddressLookupTableAccount=class AddressLookupTableAccount{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){let e=function(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(ec,t),r=t.length-56;index_browser_esm_assert(r>=0,"lookup table is invalid"),index_browser_esm_assert(r%32==0,"lookup table is invalid");let n=r/32,{addresses:i}=tu.n_([tu.A9(publicKey(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new PublicKey(e.authority[0]):void 0,addresses:i.map(t=>new PublicKey(t))}}};let ec={index:1,layout:tu.n_([tu.Jq("typeIndex"),index_browser_esm_u64("deactivationSlot"),tu._O("lastExtendedSlot"),tu.u8("lastExtendedStartIndex"),tu.u8(),tu.A9(publicKey(),tu.cv(tu.u8(),-1),"authority")])},eh=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,ed=coerce(instance(PublicKey),string(),t=>new PublicKey(t)),ef=tuple([string(),literal("base64")]),ep=coerce(instance(l.Buffer),ef,t=>l.Buffer.from(t[0],"base64")),eg=3e4;function extractCommitmentFromConfig(t){let e,r;if("string"==typeof t)e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function applyDefaultMemcmpEncodingToFilters(t){return t.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function createRpcResult(t){return union([type({jsonrpc:literal("2.0"),id:string(),result:t}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(dist_define("any",()=>!0))})})])}let ey=createRpcResult(unknown());function jsonRpcResult(t){return coerce(createRpcResult(t),ey,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext(t){return type({context:type({slot:number()}),value:t})}function versionedMessageFromResponse(t,e){return 0===t?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:tn().decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}let em=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),eb=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))})))),ew=array(type({slot:number(),prioritizationFee:number()})),ev=type({total:number(),validator:number(),foundation:number(),epoch:number()}),eS=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),e_=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:dist_boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),eE=record(string(),array(number())),eM=nullable(union([type({}),string()])),eI=type({err:eM}),ek=literal("receivedSignature"),eB=type({"solana-core":string(),"feature-set":optional(number())}),eA=type({program:string(),programId:ed,parsed:unknown()}),eN=type({programId:ed,accounts:array(ed),data:string()}),eT=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:dist_boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])}))),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(union([eA,eN]))}))))})),ex=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})})),eL=jsonRpcResult(em),eP=jsonRpcResult(ev),eR=jsonRpcResult(ew),eC=jsonRpcResult(eS),eO=jsonRpcResult(e_),ej=jsonRpcResult(eE),eD=jsonRpcResult(number()),ez=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(ed)})),eU=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),eW=jsonRpcResultAndContext(array(type({address:ed,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),eK=jsonRpcResultAndContext(array(type({pubkey:ed,account:type({executable:dist_boolean(),owner:ed,lamports:number(),data:ep,rentEpoch:number()})}))),eF=type({program:string(),parsed:unknown(),space:number()}),eH=jsonRpcResultAndContext(array(type({pubkey:ed,account:type({executable:dist_boolean(),owner:ed,lamports:number(),data:eF,rentEpoch:number()})}))),eq=jsonRpcResultAndContext(array(type({lamports:number(),address:ed}))),eV=type({executable:dist_boolean(),owner:ed,lamports:number(),data:ep,rentEpoch:number()}),eG=type({pubkey:ed,account:eV}),eY=coerce(union([instance(l.Buffer),eF]),union([ef,eF]),t=>Array.isArray(t)?create(t,ep):t),e$=type({executable:dist_boolean(),owner:ed,lamports:number(),data:eY,rentEpoch:number()}),eJ=type({pubkey:ed,account:e$}),eZ=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),eQ=jsonRpcResult(array(type({signature:string(),slot:number(),err:eM,memo:nullable(string()),blockTime:optional(nullable(number()))}))),eX=jsonRpcResult(array(type({signature:string(),slot:number(),err:eM,memo:nullable(string()),blockTime:optional(nullable(number()))}))),e0=type({subscription:number(),result:notificationResultAndContext(eV)}),e1=type({pubkey:ed,account:eV}),e2=type({subscription:number(),result:notificationResultAndContext(e1)}),e4=type({parent:number(),slot:number(),root:number()}),e6=type({subscription:number(),result:e4}),e8=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),e3=type({subscription:number(),result:e8}),e5=type({subscription:number(),result:notificationResultAndContext(union([eI,ek]))}),e7=type({subscription:number(),result:number()}),e9=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),rt=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:dist_boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),re=jsonRpcResult(type({current:array(rt),delinquent:array(rt)})),rr=union([literal("processed"),literal("confirmed"),literal("finalized")]),rn=type({slot:number(),confirmations:nullable(number()),err:eM,confirmationStatus:optional(rr)}),ri=jsonRpcResultAndContext(array(nullable(rn))),ro=jsonRpcResult(number()),rs=type({accountKey:ed,writableIndexes:array(number()),readonlyIndexes:array(number())}),ra=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(rs))})}),rl=type({pubkey:ed,signer:dist_boolean(),writable:dist_boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ru=type({accountKeys:array(rl),signatures:array(string())}),rc=type({parsed:unknown(),program:string(),programId:ed}),rh=type({accounts:array(ed),data:string(),programId:ed}),rd=union([rh,rc]),rf=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),rp=coerce(rd,rf,t=>"accounts"in t?create(t,rh):create(t,rc)),rg=type({signatures:array(string()),message:type({accountKeys:array(rl),instructions:array(rp),recentBlockhash:string(),addressTableLookups:optional(nullable(array(rs)))})}),ry=type({accountIndex:number(),mint:string(),owner:optional(string()),programId:optional(string()),uiTokenAmount:eU}),rm=type({writable:array(ed),readonly:array(ed)}),rb=type({err:eM,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(ry))),postTokenBalances:optional(nullable(array(ry))),loadedAddresses:optional(rm),computeUnitsConsumed:optional(number())}),rw=type({err:eM,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(rp)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(ry))),postTokenBalances:optional(nullable(array(ry))),loadedAddresses:optional(rm),computeUnitsConsumed:optional(number())}),rv=union([literal(0),literal("legacy")]),rS=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))}),r_=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ra,meta:nullable(rb),version:optional(rv)})),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rE=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rM=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ru,meta:nullable(rb),version:optional(rv)})),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rI=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:rg,meta:nullable(rw),version:optional(rv)})),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rk=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ru,meta:nullable(rw),version:optional(rv)})),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rB=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(rS)),blockTime:nullable(number()),blockHeight:nullable(number())}))),rA=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ra,meta:nullable(rb)})),rewards:optional(array(rS)),blockTime:nullable(number())}))),rN=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),rT=jsonRpcResult(nullable(type({slot:number(),meta:nullable(rb),blockTime:optional(nullable(number())),transaction:ra,version:optional(rv)}))),rx=jsonRpcResult(nullable(type({slot:number(),transaction:rg,meta:nullable(rw),blockTime:optional(nullable(number())),version:optional(rv)}))),rL=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),rP=jsonRpcResultAndContext(dist_boolean()),rR=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),rC=jsonRpcResult(array(rR)),rO=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),rj=jsonRpcResult(string()),rD=jsonRpcResult(string()),rz=type({err:eM,logs:array(string()),signature:string()}),rU=type({result:notificationResultAndContext(rz),subscription:number()}),rW={"solana-client":"js/1.0.0-maintenance"};let Connection=class Connection{constructor(t,e){var r,n;let i,o,s,a,l,u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let t={};return async e=>{let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),o=el(i);return t[o]=t[o]??(async()=>{try{let t=await this._rpcRequest("getBlockHeight",i),e=create(t,jsonRpcResult(number()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get block height information");return e.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,i=e.wsEndpoint,o=e.httpHeaders,s=e.fetch,a=e.fetchMiddleware,l=e.disableRetryOnRateLimit,u=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=i||function(t){let e=t.match(eh);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10),l=null==a?"":`:${a+1}`;return`${s}//${n}${l}${o}`}(t),this._rpcClient=function(t,e,r,n,i,o){let s,a;let l=r||eu;null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{let r=await new Promise((r,i)=>{try{n(t,e,(t,e)=>r([t,e]))}catch(t){i(t)}});return await l(...r)});let u=new(td())(async(r,n)=>{let o={method:"POST",body:r,agent:s,headers:Object.assign({"Content-Type":"application/json"},e||{},rW)};try{let e,r=5,s=500;for(;e=a?await a(t,o):await l(t,o),429===e.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${s}ms delay...`),await sleep(s),s*=2;let u=await e.text();e.ok?n(null,u):n(Error(`${e.status} ${e.statusText}: ${u}`))}catch(t){t instanceof Error&&n(t)}},{});return u}(t,o,s,a,l,u),this._rpcRequest=(r=this._rpcClient,(t,e)=>new Promise((n,i)=>{r.request(t,e,(t,e)=>{if(t){i(t);return}n(e)})})),this._rpcBatchRequest=(n=this._rpcClient,t=>new Promise((e,r)=>{0===t.length&&e([]);let i=t.map(t=>n.request(t.methodName,t.args));n.request(i,(t,n)=>{if(t){r(t);return}e(n)})})),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getBalance",i),s=create(o,jsonRpcResultAndContext(number()));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(t=>t.value).catch(e=>{throw Error("failed to get balance of account "+t.toBase58()+": "+e)})}async getBlockTime(t){let e=await this._rpcRequest("getBlockTime",[t]),r=create(e,jsonRpcResult(nullable(number())));if("error"in r)throw new SolanaJSONRPCError(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){let t=await this._rpcRequest("minimumLedgerSlot",[]),e=create(t,jsonRpcResult(number()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){let t=await this._rpcRequest("getFirstAvailableBlock",[]),e=create(t,eD);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};let r=await this._rpcRequest("getSupply",[e]),n=create(r,ez);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){let r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenSupply",r),i=create(n,jsonRpcResultAndContext(eU));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){let r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenAccountBalance",r),i=create(n,jsonRpcResultAndContext(eU));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){let{commitment:n,config:i}=extractCommitmentFromConfig(r),o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});let s=this._buildArgs(o,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),l=create(a,eK);if("error"in l)throw new SolanaJSONRPCError(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});let i=this._buildArgs(n,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=create(o,eH);if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){let e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=await this._rpcRequest("getLargestAccounts",r),i=create(n,eq);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){let r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenLargestAccounts",r),i=create(n,eW);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([t.toBase58()],r,"base64",n),o=await this._rpcRequest("getAccountInfo",i),s=create(o,jsonRpcResultAndContext(nullable(eV)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getAccountInfo",i),s=create(o,jsonRpcResultAndContext(nullable(e$)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{let r=await this.getAccountInfoAndContext(t,e);return r.value}catch(e){throw Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=t.map(t=>t.toBase58()),o=this._buildArgs([i],r,"jsonParsed",n),s=await this._rpcRequest("getMultipleAccounts",o),a=create(s,jsonRpcResultAndContext(array(nullable(e$))));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfoAndContext(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=t.map(t=>t.toBase58()),o=this._buildArgs([i],r,"base64",n),s=await this._rpcRequest("getMultipleAccounts",o),a=create(s,jsonRpcResultAndContext(array(nullable(eV))));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(t,e){let r=await this.getMultipleAccountsInfoAndContext(t,e);return r.value}async getStakeActivation(t,e,r){let{commitment:n,config:i}=extractCommitmentFromConfig(e),o=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=create(s,jsonRpcResult(eZ));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get Stake Activation ${t.toBase58()}`);return a.result}async getProgramAccounts(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),{encoding:i,...o}=n||{},s=this._buildArgs([t.toBase58()],r,i||"base64",{...o,...o.filters?{filters:applyDefaultMemcmpEncodingToFilters(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),l=array(eG),u=!0===o.withContext?create(a,jsonRpcResultAndContext(l)):create(a,jsonRpcResult(l));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getProgramAccounts",i),s=create(o,jsonRpcResult(array(eJ)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);r=t.signature}try{n=tn().decode(r)}catch(t){throw Error("signature must be base58 encoded: "+r)}return(index_browser_esm_assert(64===n.length,"signature has invalid length"),"string"==typeof t)?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n;let i=!1,o=new Promise((o,s)=>{try{r=this.onSignature(e,(t,e)=>{r=void 0,o({__type:t0.PROCESSED,response:{context:e,value:t}})},t);let a=new Promise(t=>{null==r?t():n=this._onSubscriptionStateChange(r,e=>{"subscribed"===e&&t()})});(async()=>{if(await a,i)return;let r=await this.getSignatureStatus(e);if(i||null==r)return;let{context:n,value:l}=r;if(null!=l){if(l?.err)s(l.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===l.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)return}i=!0,o({__type:t0.PROCESSED,response:{context:n,value:l}})}}})()}catch(t){s(t)}});return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i,o=!1,s=new Promise(e=>{let checkBlockHeight=async()=>{try{let e=await this.getBlockHeight(t);return e}catch(t){return -1}};(async()=>{let t=await checkBlockHeight();if(!o){for(;t<=r;)if(await sleep(1e3),o||(t=await checkBlockHeight(),o))return;e({__type:t0.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),u=this.getCancellationPromise(e);try{let t=await Promise.race([u,l,s]);if(t.__type===t0.PROCESSED)i=t.response;else throw new TransactionExpiredBlockheightExceededError(n)}finally{o=!0,a()}return i}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s,a=!1,l=new Promise(e=>{let o=i,s=null,getCurrentNonceValue=async()=>{try{let{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return s=e.slot,i?.nonce}catch(t){return o}};(async()=>{if(o=await getCurrentNonceValue(),!a)for(;;){if(i!==o){e({__type:t0.NONCE_INVALID,slotInWhichNonceDidAdvance:s});return}if(await sleep(2e3),a||(o=await getCurrentNonceValue(),a))return}})()}),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),d=this.getCancellationPromise(e);try{let e=await Promise.race([d,c,l]);if(e.__type===t0.PROCESSED)s=e.response;else{let n;for(;;){let t=await this.getSignatureStatus(o);if(null==t)break;if(t.context.slot<(e.slotInWhichNonceDidAdvance??r)){await sleep(400);continue}n=t;break}if(n?.value){let e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new TransactionExpiredNonceInvalidError(o)}s={context:n.context,value:{err:n.value.err}}}else throw new TransactionExpiredNonceInvalidError(o)}}finally{a=!0,u()}return s}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r,n;let i=new Promise(e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout(()=>e({__type:t0.TIMED_OUT,timeoutMs:n}),n)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});try{let t=await Promise.race([s,i]);if(t.__type===t0.PROCESSED)n=t.response;else throw new TransactionExpiredTimeoutError(e,t.timeoutMs/1e3)}finally{clearTimeout(r),o()}return n}async getClusterNodes(){let t=await this._rpcRequest("getClusterNodes",[]),e=create(t,jsonRpcResult(array(e9)));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){let e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),n=create(r,re);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get vote accounts");return n.result}async getSlot(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",n),o=create(i,jsonRpcResult(number()));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get slot");return o.result}async getSlotLeader(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",n),o=create(i,jsonRpcResult(string()));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){let r=await this._rpcRequest("getSlotLeaders",[t,e]),n=create(r,jsonRpcResult(array(ed)));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){let{context:r,value:n}=await this.getSignatureStatuses([t],e);index_browser_esm_assert(1===n.length);let i=n[0];return{context:r,value:i}}async getSignatureStatuses(t,e){let r=[t];e&&r.push(e);let n=await this._rpcRequest("getSignatureStatuses",r),i=create(n,ri);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",n),o=create(i,jsonRpcResult(number()));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){let e=await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0});return e.value.total}async getInflationGovernor(t){let e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),n=create(r,eL);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,r){let{commitment:n,config:i}=extractCommitmentFromConfig(r),o=this._buildArgs([t.map(t=>t.toBase58())],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=await this._rpcRequest("getInflationReward",o),a=create(s,eb);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){let t=await this._rpcRequest("getInflationRate",[]),e=create(t,eP);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",n),o=create(i,eC);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){let t=await this._rpcRequest("getEpochSchedule",[]),e=create(t,eO);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get epoch schedule");let r=e.result;return new EpochSchedule(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let t=await this._rpcRequest("getLeaderSchedule",[]),e=create(t,ej);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){let r=this._buildArgs([t],e),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=create(n,ro);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){let{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(t){let e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=create(e,rC);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){let r=this._buildArgs([t],e),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=create(n,rO);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get fee calculator");let{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){let r=toBuffer(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",n),o=create(i,jsonRpcResultAndContext(nullable(number())));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get fee for message");if(null===o.result)throw Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){let e=t?.lockedWritableAccounts?.map(t=>t.toBase58()),r=e?.length?[e]:[],n=await this._rpcRequest("getRecentPrioritizationFees",r),i=create(n,eR);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{let e=await this.getRecentBlockhashAndContext(t);return e.value}catch(t){throw Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{let e=await this.getLatestBlockhashAndContext(t);return e.value}catch(t){throw Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),o=create(i,rL);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([t],r,void 0,n),o=await this._rpcRequest("isBlockhashValid",i),s=create(o,rP);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){let t=await this._rpcRequest("getVersion",[]),e=create(t,jsonRpcResult(eB));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get version");return e.result}async getGenesisHash(){let t=await this._rpcRequest("getGenesisHash",[]),e=create(t,jsonRpcResult(string()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let t=create(o,rM);if("error"in t)throw t.error;return t.result}case"none":{let t=create(o,rE);if("error"in t)throw t.error;return t.result}default:{let t=create(o,r_);if("error"in t)throw t.error;let{result:e}=t;return e?{...e,transactions:e.transactions.map(({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:versionedMessageFromResponse(r,t.message)},version:r}))}:null}}}catch(t){throw new SolanaJSONRPCError(t,"failed to get confirmed block")}}async getParsedBlock(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let t=create(o,rk);if("error"in t)throw t.error;return t.result}case"none":{let t=create(o,rB);if("error"in t)throw t.error;return t.result}default:{let t=create(o,rI);if("error"in t)throw t.error;return t.result}}}catch(t){throw new SolanaJSONRPCError(t,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){let{commitment:n,...i}=t;r=n,e=i}let n=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",n),o=create(i,ex);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=await this._rpcRequest("getTransaction",i),s=create(o,rT);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");let a=s.result;return a?{...a,transaction:{...a.transaction,message:versionedMessageFromResponse(a.version,a.transaction.message)}}:a}async getParsedTransaction(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=await this._rpcRequest("getTransaction",i),s=create(o,rx);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=t.map(t=>{let e=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n);return{methodName:"getTransaction",args:e}}),o=await this._rpcBatchRequest(i),s=o.map(t=>{let e=create(t,rx);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");return e.result});return s}async getTransactions(t,e){let{commitment:r,config:n}=extractCommitmentFromConfig(e),i=t.map(t=>{let e=this._buildArgsAtLeastConfirmed([t],r,void 0,n);return{methodName:"getTransaction",args:e}}),o=await this._rpcBatchRequest(i),s=o.map(t=>{let e=create(t,rT);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");let r=e.result;return r?{...r,transaction:{...r.transaction,message:versionedMessageFromResponse(r.version,r.transaction.message)}}:r});return s}async getConfirmedBlock(t,e){let r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getBlock",r),i=create(n,rA);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw Error("Confirmed block "+t+" not found");let s={...o,transactions:o.transactions.map(({transaction:t,meta:e})=>{let r=new Message(t.message);return{meta:e,transaction:{...t,message:r}}})};return{...s,transactions:s.transactions.map(({transaction:t,meta:e})=>({meta:e,transaction:Transaction.populate(t.message,t.signatures)}))}}async getBlocks(t,e,r){let n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",n),o=create(i,jsonRpcResult(array(number())));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=create(n,rN);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get block");let o=i.result;if(!o)throw Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=create(n,rN);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){let r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getTransaction",r),i=create(n,rT);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get transaction");let o=i.result;if(!o)return o;let s=new Message(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:Transaction.populate(s,a)}}async getParsedConfirmedTransaction(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=create(n,rx);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){let r=t.map(t=>{let r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed");return{methodName:"getTransaction",args:r}}),n=await this._rpcBatchRequest(r),i=n.map(t=>{let e=create(t,rx);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get confirmed transactions");return e.result});return i}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0)&&!(e<i);)try{let t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{let t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let s=await this.getConfirmedSignaturesForAddress2(t,n);return s.map(t=>t.signature)}async getConfirmedSignaturesForAddress2(t,e,r){let n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),o=create(i,eQ);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,r){let n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",n),o=create(i,eX);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){let{context:r,value:n}=await this.getAccountInfoAndContext(t,e),i=null;return null!==n&&(i=new AddressLookupTableAccount({key:t,state:AddressLookupTableAccount.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){let{context:r,value:n}=await this.getAccountInfoAndContext(t,e),i=null;return null!==n&&(i=NonceAccount.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(t=>t.value).catch(e=>{throw Error("failed to get nonce for account "+t.toBase58()+": "+e)})}async requestAirdrop(t,e){let r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),n=create(r,rj);if("error"in n)throw new SolanaJSONRPCError(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await sleep(100);let t=Date.now()-this._blockhashInfo.lastFetch;if(null!==this._blockhashInfo.latestBlockhash&&!(t>=eg))return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let t=0;t<50;t++){let t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await sleep(200)}throw Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){let{commitment:e,config:r}=extractCommitmentFromConfig(t),n=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),o=create(i,jsonRpcResultAndContext(number()));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,r){let n;if("message"in t){let n=t.serialize(),i=l.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw Error("Invalid arguments");let o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);let s=[i,o],a=await this._rpcRequest("simulateTransaction",s),u=create(a,eT);if("error"in u)throw Error("failed to simulate transaction: "+u.error.message);return u.result}if(t instanceof Transaction?((n=new Transaction).feePayer=t.feePayer,n.instructions=t.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures):(n=Transaction.populate(t))._message=n._json=void 0,void 0!==e&&!Array.isArray(e))throw Error("Invalid arguments");if(n.nonceInfo&&e)n.sign(...e);else{let t=this._disableBlockhashCaching;for(;;){let r=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!e)break;if(n.sign(...e),!n.signature)throw Error("!signature");let i=n.signature.toString("base64");if(this._blockhashInfo.simulatedSignatures.includes(i)||this._blockhashInfo.transactionSignatures.includes(i))t=!0;else{this._blockhashInfo.simulatedSignatures.push(i);break}}}let i=n._compile(),o=i.serialize(),s=n._serialize(o),a=s.toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){let t=(Array.isArray(r)?r:i.nonProgramIds()).map(t=>t.toBase58());u.accounts={encoding:"base64",addresses:t}}e&&(u.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(u.innerInstructions=e.innerInstructions);let c=[a,u],d=await this._rpcRequest("simulateTransaction",c),f=create(d,eT);if("error"in f){let t;if("data"in f.error&&(t=f.error.data.logs)&&Array.isArray(t)){let e="\n    ",r=e+t.join(e);console.error(f.error.message,r)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:f.error.message,logs:t})}return f.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw Error("Invalid arguments");let r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw Error("Invalid arguments");if(t.nonceInfo)t.sign(...e);else{let r=this._disableBlockhashCaching;for(;;){let n=await this._blockhashWithExpiryBlockHeight(r);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...e),!t.signature)throw Error("!signature");let i=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(i))r=!0;else{this._blockhashInfo.transactionSignatures.push(i);break}}}let n=t.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(t,e){let r=toBuffer(t).toString("base64"),n=await this.sendEncodedTransaction(r,e);return n}async sendEncodedTransaction(t,e){let r={encoding:"base64"},n=e&&e.skipPreflight,i=!0===n?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);let o=[t,r],s=await this._rpcRequest("sendTransaction",o),a=create(s,rD);if("error"in a){let t;throw"data"in a.error&&(t=a.error.data.logs),new SendTransactionError({action:n?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:t})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===t){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,e])=>{this._setSubscription(t,{...e,state:"pending"})})}_setSubscription(t,e){let r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){let r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach(t=>{try{t(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){let r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};let n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(e),()=>{n.delete(e),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}},500));return}if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,isCurrentConnectionStillActive=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async t=>{let e=this._subscriptionsByHash[t];if(void 0!==e)switch(e.state){case"pending":case"unsubscribed":if(0===e.callbacks.size){delete this._subscriptionsByHash[t],"unsubscribed"===e.state&&delete this._subscriptionCallbacksByServerSubscriptionId[e.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{let{args:r,method:n}=e;try{this._setSubscription(t,{...e,state:"subscribing"});let i=await this._rpcWebSocket.call(n,r);this._setSubscription(t,{...e,serverSubscriptionId:i,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[i]=e.callbacks,await this._updateSubscriptions()}catch(i){if(console.error(`Received ${i instanceof Error?"":"JSON-RPC "}error calling \`${n}\``,{args:r,error:i}),!isCurrentConnectionStillActive())return;this._setSubscription(t,{...e,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===e.callbacks.size&&await (async()=>{let{serverSubscriptionId:r,unsubscribeMethod:n}=e;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...e,state:"unsubscribing"}),this._setSubscription(t,{...e,state:"unsubscribing"});try{await this._rpcWebSocket.call(n,[r])}catch(r){if(r instanceof Error&&console.error(`${n} error:`,r.message),!isCurrentConnectionStillActive())return;this._setSubscription(t,{...e,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(t,{...e,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(t,e){let r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach(t=>{try{t(...e)}catch(t){console.error(t)}})}_wsOnAccountNotification(t){let{result:e,subscription:r}=create(t,e0);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){let r=this._nextClientSubscriptionId++,n=el([t.method,e]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let e=this._subscriptionsByHash[n];index_browser_esm_assert(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){let{commitment:n,config:i}=extractCommitmentFromConfig(r),o=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){let{result:e,subscription:r}=create(t,e2);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){let{commitment:i,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(n?{filters:applyDefaultMemcmpEncodingToFilters(n)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){let n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){let{result:e,subscription:r}=create(t,rU);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){let{result:e,subscription:r}=create(t,e6);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){let{result:e,subscription:r}=create(t,e3);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){let i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){let i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){let{result:e,subscription:r}=create(t,e5);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){let n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){let{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],n,void 0,i),s=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(s)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){let{result:e,subscription:r}=create(t,e7);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};let Keypair=class Keypair{constructor(t){this._keypair=void 0,this._keypair=t??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(t,e){if(64!==t.byteLength)throw Error("bad secret key size");let r=t.slice(32,64);if(!e||!e.skipValidation){let e=t.slice(0,32),n=tK(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw Error("provided secretKey is invalid")}return new Keypair({publicKey:r,secretKey:t})}static fromSeed(t){let e=tK(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Keypair({publicKey:e,secretKey:r})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};let rK=Object.freeze({CreateLookupTable:{index:0,layout:tu.n_([tu.Jq("instruction"),index_browser_esm_u64("recentSlot"),tu.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:tu.n_([tu.Jq("instruction")])},ExtendLookupTable:{index:2,layout:tu.n_([tu.Jq("instruction"),index_browser_esm_u64(),tu.A9(publicKey(),tu.cv(tu.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:tu.n_([tu.Jq("instruction")])},CloseLookupTable:{index:4,layout:tu.n_([tu.Jq("instruction")])}});let AddressLookupTableInstruction=class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(t){let e;this.checkProgramId(t.programId);let r=tu.Jq("instruction"),n=r.decode(t.data);for(let[t,r]of Object.entries(rK))if(r.index==n){e=t;break}if(!e)throw Error("Invalid Instruction. Should be a LookupTable Instruction");return e}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);let{recentSlot:e}=decodeData$1(rK.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);let{addresses:e}=decodeData$1(rK.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map(t=>new PublicKey(t))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(AddressLookupTableProgram.programId))throw Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}};let AddressLookupTableProgram=class AddressLookupTableProgram{constructor(){}static createLookupTable(t){let[e,r]=PublicKey.findProgramAddressSync([t.authority.toBuffer(),(0,tc.k$)(BigInt(t.recentSlot),8)],this.programId),n=rK.CreateLookupTable,i=encodeData(n,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:o,data:i}),e]}static freezeLookupTable(t){let e=rK.FreezeLookupTable,r=encodeData(e),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static extendLookupTable(t){let e=rK.ExtendLookupTable,r=encodeData(e,{addresses:t.addresses.map(t=>t.toBytes())}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:r})}static deactivateLookupTable(t){let e=rK.DeactivateLookupTable,r=encodeData(e),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static closeLookupTable(t){let e=rK.CloseLookupTable,r=encodeData(e),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}};AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");let ComputeBudgetInstruction=class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(t){let e;this.checkProgramId(t.programId);let r=tu.u8("instruction"),n=r.decode(t.data);for(let[t,r]of Object.entries(rF))if(r.index==n){e=t;break}if(!e)throw Error("Instruction type incorrect; not a ComputeBudgetInstruction");return e}static decodeRequestUnits(t){this.checkProgramId(t.programId);let{units:e,additionalFee:r}=decodeData$1(rF.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);let{bytes:e}=decodeData$1(rF.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);let{units:e}=decodeData$1(rF.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);let{microLamports:e}=decodeData$1(rF.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(ComputeBudgetProgram.programId))throw Error("invalid instruction; programId is not ComputeBudgetProgram")}};let rF=Object.freeze({RequestUnits:{index:0,layout:tu.n_([tu.u8("instruction"),tu.Jq("units"),tu.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:tu.n_([tu.u8("instruction"),tu.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:tu.n_([tu.u8("instruction"),tu.Jq("units")])},SetComputeUnitPrice:{index:3,layout:tu.n_([tu.u8("instruction"),index_browser_esm_u64("microLamports")])}});let ComputeBudgetProgram=class ComputeBudgetProgram{constructor(){}static requestUnits(t){let e=rF.RequestUnits,r=encodeData(e,t);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){let e=rF.RequestHeapFrame,r=encodeData(e,t);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){let e=rF.SetComputeUnitLimit,r=encodeData(e,t);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){let e=rF.SetComputeUnitPrice,r=encodeData(e,{microLamports:BigInt(t.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}};ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");let rH=tu.n_([tu.u8("numSignatures"),tu.u8("padding"),tu.KB("signatureOffset"),tu.KB("signatureInstructionIndex"),tu.KB("publicKeyOffset"),tu.KB("publicKeyInstructionIndex"),tu.KB("messageDataOffset"),tu.KB("messageDataSize"),tu.KB("messageInstructionIndex")]);let Ed25519Program=class Ed25519Program{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:r,signature:n,instructionIndex:i}=t;index_browser_esm_assert(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),index_browser_esm_assert(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let o=rH.span,s=o+e.length,a=s+n.length,u=l.Buffer.alloc(a+r.length),c=null==i?65535:i;return rH.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(e,o),u.fill(n,s),u.fill(r,a),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:u})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:r,instructionIndex:n}=t;index_browser_esm_assert(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{let t=Keypair.fromSecretKey(e),i=t.publicKey.toBytes(),o=sign(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(t){throw Error(`Error creating instruction; ${t}`)}}};Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");let ecdsaSign=(t,e)=>{let r=tU.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};tU.utils.isValidPrivateKey;let rq=tU.getPublicKey,rV=tu.n_([tu.u8("numSignatures"),tu.KB("signatureOffset"),tu.u8("signatureInstructionIndex"),tu.KB("ethAddressOffset"),tu.u8("ethAddressInstructionIndex"),tu.KB("messageDataOffset"),tu.KB("messageDataSize"),tu.u8("messageInstructionIndex"),tu.Ik(20,"ethAddress"),tu.Ik(64,"signature"),tu.u8("recoveryId")]);let Secp256k1Program=class Secp256k1Program{constructor(){}static publicKeyToEthAddress(t){index_browser_esm_assert(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return l.Buffer.from(tA(toBuffer(t))).slice(-20)}catch(t){throw Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:o}=t;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){let e;let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=t;index_browser_esm_assert(20===(e="string"==typeof r?r.startsWith("0x")?l.Buffer.from(r.substr(2),"hex"):l.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${e.length} bytes`);let a=12+e.length,u=a+i.length+1,c=l.Buffer.alloc(rV.span+n.length);return rV.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:toBuffer(i),ethAddress:toBuffer(e),recoveryId:o},c),c.fill(toBuffer(n),rV.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:c})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:r,instructionIndex:n}=t;index_browser_esm_assert(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{let t=toBuffer(e),i=rq(t,!1).slice(1),o=l.Buffer.from(tA(toBuffer(r))),[s,a]=ecdsaSign(o,t);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,recoveryId:a,instructionIndex:n})}catch(t){throw Error(`Error creating instruction; ${t}`)}}};Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");let rG=new PublicKey("StakeConfig11111111111111111111111111111111");let Authorized=class Authorized{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}};let Lockup=class Lockup{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}};Lockup.default=new Lockup(0,0,PublicKey.default);let StakeInstruction=class StakeInstruction{constructor(){}static decodeInstructionType(t){let e;this.checkProgramId(t.programId);let r=tu.Jq("instruction"),n=r.decode(t.data);for(let[t,r]of Object.entries(rY))if(r.index==n){e=t;break}if(!e)throw Error("Instruction type incorrect; not a StakeInstruction");return e}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e,lockup:r}=decodeData$1(rY.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Authorized(new PublicKey(e.staker),new PublicKey(e.withdrawer)),lockup:new Lockup(r.unixTimestamp,r.epoch,new PublicKey(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),decodeData$1(rY.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,stakeAuthorizationType:r}=decodeData$1(rY.Authorize,t.data),n={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(n.custodianPubkey=t.keys[3].pubkey),n}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=decodeData$1(rY.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:n,authorityOwner:new PublicKey(i),newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=decodeData$1(rY.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),decodeData$1(rY.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=decodeData$1(rY.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),decodeData$1(rY.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(StakeProgram.programId))throw Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}};let rY=Object.freeze({Initialize:{index:0,layout:tu.n_([tu.Jq("instruction"),((t="authorized")=>tu.n_([publicKey("staker"),publicKey("withdrawer")],t))(),((t="lockup")=>tu.n_([tu.gM("unixTimestamp"),tu.gM("epoch"),publicKey("custodian")],t))()])},Authorize:{index:1,layout:tu.n_([tu.Jq("instruction"),publicKey("newAuthorized"),tu.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:tu.n_([tu.Jq("instruction")])},Split:{index:3,layout:tu.n_([tu.Jq("instruction"),tu.gM("lamports")])},Withdraw:{index:4,layout:tu.n_([tu.Jq("instruction"),tu.gM("lamports")])},Deactivate:{index:5,layout:tu.n_([tu.Jq("instruction")])},Merge:{index:7,layout:tu.n_([tu.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:tu.n_([tu.Jq("instruction"),publicKey("newAuthorized"),tu.Jq("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),r$=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let StakeProgram=class StakeProgram{constructor(){}static initialize(t){let{stakePubkey:e,authorized:r,lockup:n}=t,i=n||Lockup.default,o=rY.Initialize,s=encodeData(o,{authorized:{staker:toBuffer(r.staker.toBuffer()),withdrawer:toBuffer(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:toBuffer(i.custodian.toBuffer())}}),a={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t3,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(a)}static createAccountWithSeed(t){let e=new Transaction;e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){let e=new Transaction;e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=rY.Delegate,o=encodeData(i);return new Transaction().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:rG,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(t){let{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=t,s=rY.Authorize,a=encodeData(s,{newAuthorized:toBuffer(n.toBuffer()),stakeAuthorizationType:i.index}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new Transaction().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,l=rY.AuthorizeWithSeed,u=encodeData(l,{newAuthorized:toBuffer(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:toBuffer(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:t2,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),new Transaction().add({keys:c,programId:this.programId,data:u})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,o=rY.Split,s=encodeData(o,{lamports:i});return new TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t,e){let r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=t,l=new Transaction;return l.add(SystemProgram.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),e&&e>0&&l.add(SystemProgram.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=rY.Merge,o=encodeData(i);return new Transaction().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=t,s=rY.Withdraw,a=encodeData(s,{lamports:i}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new Transaction().add({keys:l,programId:this.programId,data:a})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:r}=t,n=rY.Deactivate,i=encodeData(n);return new Transaction().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;let VoteInit=class VoteInit{constructor(t,e,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=n}};let VoteInstruction=class VoteInstruction{constructor(){}static decodeInstructionType(t){let e;this.checkProgramId(t.programId);let r=tu.Jq("instruction"),n=r.decode(t.data);for(let[t,r]of Object.entries(rJ))if(r.index==n){e=t;break}if(!e)throw Error("Instruction type incorrect; not a VoteInstruction");return e}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);let{voteInit:e}=decodeData$1(rJ.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(e.nodePubkey),new PublicKey(e.authorizedVoter),new PublicKey(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,voteAuthorizationType:r}=decodeData$1(rJ.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=decodeData$1(rJ.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey(n),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=decodeData$1(rJ.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(VoteProgram.programId))throw Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}};let rJ=Object.freeze({InitializeAccount:{index:0,layout:tu.n_([tu.Jq("instruction"),((t="voteInit")=>tu.n_([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),tu.u8("commission")],t))()])},Authorize:{index:1,layout:tu.n_([tu.Jq("instruction"),publicKey("newAuthorized"),tu.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:tu.n_([tu.Jq("instruction"),tu.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:tu.n_([tu.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:tu.n_([tu.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>tu.n_([tu.Jq("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],t))()])}}),rZ=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let VoteProgram=class VoteProgram{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=rJ.InitializeAccount,o=encodeData(i,{voteInit:{nodePubkey:toBuffer(n.nodePubkey.toBuffer()),authorizedVoter:toBuffer(n.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t3,isSigner:!1,isWritable:!1},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new TransactionInstruction(s)}static createAccount(t){let e=new Transaction;return e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,o=rJ.Authorize,s=encodeData(o,{newAuthorized:toBuffer(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=rJ.AuthorizeWithSeed,l=encodeData(a,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:toBuffer(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t2,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:u,programId:this.programId,data:l})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,o=rJ.Withdraw,s=encodeData(o,{lamports:n}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:a,programId:this.programId,data:s})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:n}=t,i=rJ.UpdateValidatorIdentity,o=encodeData(i),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:s,programId:this.programId,data:o})}};VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;let rQ=new PublicKey("Va1idator1nfo111111111111111111111111111111"),rX=type({name:string(),website:optional(string()),details:optional(string()),iconUrl:optional(string()),keybaseUsername:optional(string())});let ValidatorInfo=class ValidatorInfo{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t],r=decodeLength(e);if(2!==r)return null;let n=[];for(let t=0;t<2;t++){let t=new PublicKey(guardedSplice(e,0,tV)),r=1===guardedShift(e);n.push({publicKey:t,isSigner:r})}if(n[0].publicKey.equals(rQ)&&n[1].isSigner){let t=rustString().decode(l.Buffer.from(e)),r=JSON.parse(t);return assert(r,rX),new ValidatorInfo(n[1].publicKey,r)}return null}};let r0=new PublicKey("Vote111111111111111111111111111111111111111"),r1=tu.n_([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),tu.u8("commission"),tu._O(),tu.A9(tu.n_([tu._O("slot"),tu.Jq("confirmationCount")]),tu.cv(tu.Jq(),-8),"votes"),tu.u8("rootSlotValid"),tu._O("rootSlot"),tu._O(),tu.A9(tu.n_([tu._O("epoch"),publicKey("authorizedVoter")]),tu.cv(tu.Jq(),-8),"authorizedVoters"),tu.n_([tu.A9(tu.n_([publicKey("authorizedPubkey"),tu._O("epochOfLastAuthorizedSwitch"),tu._O("targetEpoch")]),32,"buf"),tu._O("idx"),tu.u8("isEmpty")],"priorVoters"),tu._O(),tu.A9(tu.n_([tu._O("epoch"),tu._O("credits"),tu._O("prevCredits")]),tu.cv(tu.Jq(),-8),"epochCredits"),tu.n_([tu._O("slot"),tu._O("timestamp")],"lastTimestamp")]);let VoteAccount=class VoteAccount{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){let e=r1.decode(toBuffer(t),4),r=e.rootSlot;return e.rootSlotValid||(r=null),new VoteAccount({nodePubkey:new PublicKey(e.nodePubkey),authorizedWithdrawer:new PublicKey(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:r,authorizedVoters:e.authorizedVoters.map(parseAuthorizedVoter),priorVoters:function({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(parsePriorVoters),...t.slice(0,e).map(parsePriorVoters)]}(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}};function parseAuthorizedVoter({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function parsePriorVoters({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}let r2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(t,e){let r=!1===e?"http":"https";if(!t)return r2[r].devnet;let n=r2[r][t];if(!n)throw Error(`Unknown ${r} cluster: ${t}`);return n}async function sendAndConfirmRawTransaction(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,o=n):r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,u=i?t.confirmTransaction(i,l):t.confirmTransaction(a,l),c=(await u).value;if(c.err){if(null!=a)throw new SendTransactionError({action:s?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(c)})`});throw Error(`Raw transaction ${a} failed (${JSON.stringify(c)})`)}return a}let r4=1e9},8162:function(t,e,r){"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw TypeError(o+" is ambiguous");e[s]=i}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function decodeUnsafe(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===l;)i++,r++;for(var s=(t.length-r)*u+1>>>0,c=new Uint8Array(s);r<t.length;){var d=e[t.charCodeAt(r)];if(255===d)return;for(var f=0,p=s-1;(0!==d||f<o)&&-1!==p;p--,f++)d+=a*c[p]>>>0,c[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");o=f,r++}for(var g=s-o;g!==s&&0===c[g];)g++;var y=n.allocUnsafe(i+(s-g));y.fill(0,0,i);for(var m=i;g!==s;)y[m++]=c[g++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var u=(s-o)*c+1>>>0,d=new Uint8Array(u);o!==s;){for(var f=e[o],p=0,g=u-1;(0!==f||p<i)&&-1!==g;g--,p++)f+=256*d[g]>>>0,d[g]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");i=p,o++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var m=l.repeat(r);y<u;++y)m+=t.charAt(d[y]);return m},decodeUnsafe:decodeUnsafe,decode:function(t){var e=decodeUnsafe(t);if(e)return e;throw Error("Non-base"+a+" character")}}}},9742:function(t,e){"use strict";e.byteLength=function(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n},e.toByteArray=function(t){var e,r,o=getLens(t),s=o[0],a=o[1],l=new i((s+a)*3/4-a),u=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,l[u++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function getLens(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},475:function(t,e,r){"use strict";var n=r(8764).Buffer;e.oU=function(t){{let e=n.from(t);e.reverse();let r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{let r=t.toString(16),i=n.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}}},3550:function(t,e,r){!function(t,e){"use strict";function assert(t,e){if(!t)throw Error(e||"Assertion failed")}function inherits(t,e){t.super_=e;var TempCtor=function(){};TempCtor.prototype=e.prototype,t.prototype=new TempCtor,t.prototype.constructor=t}function BN(t,e,r){if(BN.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}"object"==typeof t?t.exports=BN:e.BN=BN,BN.BN=BN,BN.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(t){}function parseHex4Bits(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void assert(!1,"Invalid character in "+t)}function parseHexByte(t,e,r){var n=parseHex4Bits(t,r);return r-1>=e&&(n|=parseHex4Bits(t,r-1)<<4),n}function parseBase(t,e,r,n){for(var i=0,o=0,s=Math.min(t.length,r),a=e;a<s;a++){var l=t.charCodeAt(a)-48;i*=n,o=l>=49?l-49+10:l>=17?l-17+10:l,assert(l>=0&&o<n,"Invalid character"),i+=o}return i}function move(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(BN.isBN=function(t){return t instanceof BN||null!==t&&"object"==typeof t&&t.constructor.wordSize===BN.wordSize&&Array.isArray(t.words)},BN.max=function(t,e){return t.cmp(e)>0?t:e},BN.min=function(t,e){return 0>t.cmp(e)?t:e},BN.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),assert(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},BN.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(assert(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},BN.prototype._initArray=function(t,e,r){if(assert("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var n,i,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=t.length-1,n=0;o>=0;o-=3)i=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(o=0,n=0;o<t.length;o+=3)i=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);return this._strip()},BN.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},BN.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,l=0,u=r;u<a;u+=n)l=parseBase(t,u,u+n,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var c=1;for(l=parseBase(t,u,t.length,e),u=0;u<s;u++)c*=e;this.imuln(c),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},BN.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},BN.prototype._move=function(t){move(t,this)},BN.prototype.clone=function(){var t=new BN(null);return this.copy(t),t},BN.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},BN.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(t){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var n,i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,d=67108863&l,f=Math.min(u,e.length-1),p=Math.max(0,u-t.length+1);p<=f;p++){var g=u-p|0;c+=(s=(i=0|t.words[g])*(o=0|e.words[p])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r._strip()}BN.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var r,n=0,a=0,l=0;l<this.length;l++){var u=this.words[l],c=((u<<n|a)&16777215).toString(16);a=u>>>24-n&16777215,(n+=2)>=26&&(n-=26,l--),r=0!==a||l!==this.length-1?i[6-c.length]+c+r:c+r}for(0!==a&&(r=a.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var d=o[t],f=s[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);r=(p=p.idivn(f)).isZero()?g+r:i[d-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},BN.prototype.toJSON=function(){return this.toString(16,2)},n&&(BN.prototype.toBuffer=function(t,e){return this.toArrayLike(n,t,e)}),BN.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},BN.prototype.toArrayLike=function(t,e,r){this._strip();var n=this.byteLength(),i=r||Math.max(1,n);assert(n<=i,"byte array longer than desired length"),assert(i>0,"Requested array length <= 0");var o=t.allocUnsafe?t.allocUnsafe(i):new t(i);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},BN.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},BN.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?BN.prototype._countBits=function(t){return 32-Math.clz32(t)}:BN.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},BN.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},BN.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},BN.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},BN.prototype.ior=function(t){return assert((this.negative|t.negative)==0),this.iuor(t)},BN.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},BN.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},BN.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},BN.prototype.iand=function(t){return assert((this.negative|t.negative)==0),this.iuand(t)},BN.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},BN.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},BN.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},BN.prototype.ixor=function(t){return assert((this.negative|t.negative)==0),this.iuxor(t)},BN.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},BN.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},BN.prototype.inotn=function(t){assert("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},BN.prototype.notn=function(t){return this.clone().inotn(t)},BN.prototype.setn=function(t,e){assert("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this._strip()},BN.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var e,r,n,i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},BN.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},BN.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,n=this.iadd(t);return t.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(e=this,r=t):(e=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(n=(0|e.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&n;for(;0!==o&&s<e.length;s++)o=(n=(0|e.words[s])+o)>>26,this.words[s]=67108863&n;if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function(t){return this.clone().isub(t)};var comb10MulTo=function(t,e,r){var n,i,o,s=t.words,a=e.words,l=r.words,u=0,c=0|s[0],d=8191&c,f=c>>>13,p=0|s[1],g=8191&p,y=p>>>13,m=0|s[2],b=8191&m,w=m>>>13,v=0|s[3],S=8191&v,_=v>>>13,M=0|s[4],I=8191&M,k=M>>>13,B=0|s[5],A=8191&B,N=B>>>13,T=0|s[6],x=8191&T,L=T>>>13,P=0|s[7],R=8191&P,C=P>>>13,O=0|s[8],j=8191&O,D=O>>>13,z=0|s[9],U=8191&z,W=z>>>13,K=0|a[0],F=8191&K,H=K>>>13,q=0|a[1],V=8191&q,G=q>>>13,Y=0|a[2],$=8191&Y,J=Y>>>13,Z=0|a[3],Q=8191&Z,X=Z>>>13,tt=0|a[4],te=8191&tt,tr=tt>>>13,tn=0|a[5],ti=8191&tn,to=tn>>>13,ts=0|a[6],ta=8191&ts,tl=ts>>>13,tu=0|a[7],tc=8191&tu,th=tu>>>13,td=0|a[8],tf=8191&td,tp=td>>>13,tg=0|a[9],ty=8191&tg,tm=tg>>>13;r.negative=t.negative^e.negative,r.length=19;var tb=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,H))+Math.imul(f,F)|0))<<13)|0;u=((o=Math.imul(f,H))+(i>>>13)|0)+(tb>>>26)|0,tb&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,H))+Math.imul(y,F)|0,o=Math.imul(y,H);var tw=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(tw>>>26)|0,tw&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,H))+Math.imul(w,F)|0,o=Math.imul(w,H),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0;var tv=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(tv>>>26)|0,tv&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,H))+Math.imul(_,F)|0,o=Math.imul(_,H),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,J)|0;var tS=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(tS>>>26)|0,tS&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,H))+Math.imul(k,F)|0,o=Math.imul(k,H),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,X)|0;var t_=(u+(n=n+Math.imul(d,te)|0)|0)+((8191&(i=(i=i+Math.imul(d,tr)|0)+Math.imul(f,te)|0))<<13)|0;u=((o=o+Math.imul(f,tr)|0)+(i>>>13)|0)+(t_>>>26)|0,t_&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,H))+Math.imul(N,F)|0,o=Math.imul(N,H),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,te)|0,i=(i=i+Math.imul(g,tr)|0)+Math.imul(y,te)|0,o=o+Math.imul(y,tr)|0;var tE=(u+(n=n+Math.imul(d,ti)|0)|0)+((8191&(i=(i=i+Math.imul(d,to)|0)+Math.imul(f,ti)|0))<<13)|0;u=((o=o+Math.imul(f,to)|0)+(i>>>13)|0)+(tE>>>26)|0,tE&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,H))+Math.imul(L,F)|0,o=Math.imul(L,H),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,G)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(b,te)|0,i=(i=i+Math.imul(b,tr)|0)+Math.imul(w,te)|0,o=o+Math.imul(w,tr)|0,n=n+Math.imul(g,ti)|0,i=(i=i+Math.imul(g,to)|0)+Math.imul(y,ti)|0,o=o+Math.imul(y,to)|0;var tM=(u+(n=n+Math.imul(d,ta)|0)|0)+((8191&(i=(i=i+Math.imul(d,tl)|0)+Math.imul(f,ta)|0))<<13)|0;u=((o=o+Math.imul(f,tl)|0)+(i>>>13)|0)+(tM>>>26)|0,tM&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,H))+Math.imul(C,F)|0,o=Math.imul(C,H),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(S,te)|0,i=(i=i+Math.imul(S,tr)|0)+Math.imul(_,te)|0,o=o+Math.imul(_,tr)|0,n=n+Math.imul(b,ti)|0,i=(i=i+Math.imul(b,to)|0)+Math.imul(w,ti)|0,o=o+Math.imul(w,to)|0,n=n+Math.imul(g,ta)|0,i=(i=i+Math.imul(g,tl)|0)+Math.imul(y,ta)|0,o=o+Math.imul(y,tl)|0;var tI=(u+(n=n+Math.imul(d,tc)|0)|0)+((8191&(i=(i=i+Math.imul(d,th)|0)+Math.imul(f,tc)|0))<<13)|0;u=((o=o+Math.imul(f,th)|0)+(i>>>13)|0)+(tI>>>26)|0,tI&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,H))+Math.imul(D,F)|0,o=Math.imul(D,H),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(I,te)|0,i=(i=i+Math.imul(I,tr)|0)+Math.imul(k,te)|0,o=o+Math.imul(k,tr)|0,n=n+Math.imul(S,ti)|0,i=(i=i+Math.imul(S,to)|0)+Math.imul(_,ti)|0,o=o+Math.imul(_,to)|0,n=n+Math.imul(b,ta)|0,i=(i=i+Math.imul(b,tl)|0)+Math.imul(w,ta)|0,o=o+Math.imul(w,tl)|0,n=n+Math.imul(g,tc)|0,i=(i=i+Math.imul(g,th)|0)+Math.imul(y,tc)|0,o=o+Math.imul(y,th)|0;var tk=(u+(n=n+Math.imul(d,tf)|0)|0)+((8191&(i=(i=i+Math.imul(d,tp)|0)+Math.imul(f,tf)|0))<<13)|0;u=((o=o+Math.imul(f,tp)|0)+(i>>>13)|0)+(tk>>>26)|0,tk&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,H))+Math.imul(W,F)|0,o=Math.imul(W,H),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(A,te)|0,i=(i=i+Math.imul(A,tr)|0)+Math.imul(N,te)|0,o=o+Math.imul(N,tr)|0,n=n+Math.imul(I,ti)|0,i=(i=i+Math.imul(I,to)|0)+Math.imul(k,ti)|0,o=o+Math.imul(k,to)|0,n=n+Math.imul(S,ta)|0,i=(i=i+Math.imul(S,tl)|0)+Math.imul(_,ta)|0,o=o+Math.imul(_,tl)|0,n=n+Math.imul(b,tc)|0,i=(i=i+Math.imul(b,th)|0)+Math.imul(w,tc)|0,o=o+Math.imul(w,th)|0,n=n+Math.imul(g,tf)|0,i=(i=i+Math.imul(g,tp)|0)+Math.imul(y,tf)|0,o=o+Math.imul(y,tp)|0;var tB=(u+(n=n+Math.imul(d,ty)|0)|0)+((8191&(i=(i=i+Math.imul(d,tm)|0)+Math.imul(f,ty)|0))<<13)|0;u=((o=o+Math.imul(f,tm)|0)+(i>>>13)|0)+(tB>>>26)|0,tB&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(W,V)|0,o=Math.imul(W,G),n=n+Math.imul(j,$)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(x,te)|0,i=(i=i+Math.imul(x,tr)|0)+Math.imul(L,te)|0,o=o+Math.imul(L,tr)|0,n=n+Math.imul(A,ti)|0,i=(i=i+Math.imul(A,to)|0)+Math.imul(N,ti)|0,o=o+Math.imul(N,to)|0,n=n+Math.imul(I,ta)|0,i=(i=i+Math.imul(I,tl)|0)+Math.imul(k,ta)|0,o=o+Math.imul(k,tl)|0,n=n+Math.imul(S,tc)|0,i=(i=i+Math.imul(S,th)|0)+Math.imul(_,tc)|0,o=o+Math.imul(_,th)|0,n=n+Math.imul(b,tf)|0,i=(i=i+Math.imul(b,tp)|0)+Math.imul(w,tf)|0,o=o+Math.imul(w,tp)|0;var tA=(u+(n=n+Math.imul(g,ty)|0)|0)+((8191&(i=(i=i+Math.imul(g,tm)|0)+Math.imul(y,ty)|0))<<13)|0;u=((o=o+Math.imul(y,tm)|0)+(i>>>13)|0)+(tA>>>26)|0,tA&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,J))+Math.imul(W,$)|0,o=Math.imul(W,J),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,te)|0,i=(i=i+Math.imul(R,tr)|0)+Math.imul(C,te)|0,o=o+Math.imul(C,tr)|0,n=n+Math.imul(x,ti)|0,i=(i=i+Math.imul(x,to)|0)+Math.imul(L,ti)|0,o=o+Math.imul(L,to)|0,n=n+Math.imul(A,ta)|0,i=(i=i+Math.imul(A,tl)|0)+Math.imul(N,ta)|0,o=o+Math.imul(N,tl)|0,n=n+Math.imul(I,tc)|0,i=(i=i+Math.imul(I,th)|0)+Math.imul(k,tc)|0,o=o+Math.imul(k,th)|0,n=n+Math.imul(S,tf)|0,i=(i=i+Math.imul(S,tp)|0)+Math.imul(_,tf)|0,o=o+Math.imul(_,tp)|0;var tN=(u+(n=n+Math.imul(b,ty)|0)|0)+((8191&(i=(i=i+Math.imul(b,tm)|0)+Math.imul(w,ty)|0))<<13)|0;u=((o=o+Math.imul(w,tm)|0)+(i>>>13)|0)+(tN>>>26)|0,tN&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,X))+Math.imul(W,Q)|0,o=Math.imul(W,X),n=n+Math.imul(j,te)|0,i=(i=i+Math.imul(j,tr)|0)+Math.imul(D,te)|0,o=o+Math.imul(D,tr)|0,n=n+Math.imul(R,ti)|0,i=(i=i+Math.imul(R,to)|0)+Math.imul(C,ti)|0,o=o+Math.imul(C,to)|0,n=n+Math.imul(x,ta)|0,i=(i=i+Math.imul(x,tl)|0)+Math.imul(L,ta)|0,o=o+Math.imul(L,tl)|0,n=n+Math.imul(A,tc)|0,i=(i=i+Math.imul(A,th)|0)+Math.imul(N,tc)|0,o=o+Math.imul(N,th)|0,n=n+Math.imul(I,tf)|0,i=(i=i+Math.imul(I,tp)|0)+Math.imul(k,tf)|0,o=o+Math.imul(k,tp)|0;var tT=(u+(n=n+Math.imul(S,ty)|0)|0)+((8191&(i=(i=i+Math.imul(S,tm)|0)+Math.imul(_,ty)|0))<<13)|0;u=((o=o+Math.imul(_,tm)|0)+(i>>>13)|0)+(tT>>>26)|0,tT&=67108863,n=Math.imul(U,te),i=(i=Math.imul(U,tr))+Math.imul(W,te)|0,o=Math.imul(W,tr),n=n+Math.imul(j,ti)|0,i=(i=i+Math.imul(j,to)|0)+Math.imul(D,ti)|0,o=o+Math.imul(D,to)|0,n=n+Math.imul(R,ta)|0,i=(i=i+Math.imul(R,tl)|0)+Math.imul(C,ta)|0,o=o+Math.imul(C,tl)|0,n=n+Math.imul(x,tc)|0,i=(i=i+Math.imul(x,th)|0)+Math.imul(L,tc)|0,o=o+Math.imul(L,th)|0,n=n+Math.imul(A,tf)|0,i=(i=i+Math.imul(A,tp)|0)+Math.imul(N,tf)|0,o=o+Math.imul(N,tp)|0;var tx=(u+(n=n+Math.imul(I,ty)|0)|0)+((8191&(i=(i=i+Math.imul(I,tm)|0)+Math.imul(k,ty)|0))<<13)|0;u=((o=o+Math.imul(k,tm)|0)+(i>>>13)|0)+(tx>>>26)|0,tx&=67108863,n=Math.imul(U,ti),i=(i=Math.imul(U,to))+Math.imul(W,ti)|0,o=Math.imul(W,to),n=n+Math.imul(j,ta)|0,i=(i=i+Math.imul(j,tl)|0)+Math.imul(D,ta)|0,o=o+Math.imul(D,tl)|0,n=n+Math.imul(R,tc)|0,i=(i=i+Math.imul(R,th)|0)+Math.imul(C,tc)|0,o=o+Math.imul(C,th)|0,n=n+Math.imul(x,tf)|0,i=(i=i+Math.imul(x,tp)|0)+Math.imul(L,tf)|0,o=o+Math.imul(L,tp)|0;var tL=(u+(n=n+Math.imul(A,ty)|0)|0)+((8191&(i=(i=i+Math.imul(A,tm)|0)+Math.imul(N,ty)|0))<<13)|0;u=((o=o+Math.imul(N,tm)|0)+(i>>>13)|0)+(tL>>>26)|0,tL&=67108863,n=Math.imul(U,ta),i=(i=Math.imul(U,tl))+Math.imul(W,ta)|0,o=Math.imul(W,tl),n=n+Math.imul(j,tc)|0,i=(i=i+Math.imul(j,th)|0)+Math.imul(D,tc)|0,o=o+Math.imul(D,th)|0,n=n+Math.imul(R,tf)|0,i=(i=i+Math.imul(R,tp)|0)+Math.imul(C,tf)|0,o=o+Math.imul(C,tp)|0;var tP=(u+(n=n+Math.imul(x,ty)|0)|0)+((8191&(i=(i=i+Math.imul(x,tm)|0)+Math.imul(L,ty)|0))<<13)|0;u=((o=o+Math.imul(L,tm)|0)+(i>>>13)|0)+(tP>>>26)|0,tP&=67108863,n=Math.imul(U,tc),i=(i=Math.imul(U,th))+Math.imul(W,tc)|0,o=Math.imul(W,th),n=n+Math.imul(j,tf)|0,i=(i=i+Math.imul(j,tp)|0)+Math.imul(D,tf)|0,o=o+Math.imul(D,tp)|0;var tR=(u+(n=n+Math.imul(R,ty)|0)|0)+((8191&(i=(i=i+Math.imul(R,tm)|0)+Math.imul(C,ty)|0))<<13)|0;u=((o=o+Math.imul(C,tm)|0)+(i>>>13)|0)+(tR>>>26)|0,tR&=67108863,n=Math.imul(U,tf),i=(i=Math.imul(U,tp))+Math.imul(W,tf)|0,o=Math.imul(W,tp);var tC=(u+(n=n+Math.imul(j,ty)|0)|0)+((8191&(i=(i=i+Math.imul(j,tm)|0)+Math.imul(D,ty)|0))<<13)|0;u=((o=o+Math.imul(D,tm)|0)+(i>>>13)|0)+(tC>>>26)|0,tC&=67108863;var tO=(u+(n=Math.imul(U,ty))|0)+((8191&(i=(i=Math.imul(U,tm))+Math.imul(W,ty)|0))<<13)|0;return u=((o=Math.imul(W,tm))+(i>>>13)|0)+(tO>>>26)|0,tO&=67108863,l[0]=tb,l[1]=tw,l[2]=tv,l[3]=tS,l[4]=t_,l[5]=tE,l[6]=tM,l[7]=tI,l[8]=tk,l[9]=tB,l[10]=tA,l[11]=tN,l[12]=tT,l[13]=tx,l[14]=tL,l[15]=tP,l[16]=tR,l[17]=tC,l[18]=tO,0!==u&&(l[19]=u,r.length++),r};function bigMulTo(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,d=(0|t.words[c])*(0|e.words[u]),f=67108863&d;s=s+(d/67108864|0)|0,a=67108863&(f=f+a|0),i+=(s=s+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function FFTM(t,e){this.x=t,this.y=e}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return 10===this.length&&10===t.length?comb10MulTo(this,t,e):n<63?smallMulTo(this,t,e):bigMulTo(this,t,e)},FFTM.prototype.makeRBT=function(t){for(var e=Array(t),r=BN.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},FFTM.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},FFTM.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},FFTM.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var d=l,f=u,p=0;p<s;p++){var g=r[c+p],y=n[c+p],m=r[c+p+s],b=n[c+p+s],w=d*m-f*b;b=d*b+f*m,m=w,r[c+p]=g+m,n[c+p]=y+b,r[c+p+s]=g-m,n[c+p+s]=y-b,p!==a&&(w=l*d-u*f,f=l*f+u*d,d=w)}},FFTM.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},FFTM.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},FFTM.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},FFTM.prototype.convert13b=function(t,e,r,n){for(var i=0,o=0;o<e;o++)i+=0|t[o],r[2*o]=8191&i,i>>>=13,r[2*o+1]=8191&i,i>>>=13;for(o=2*e;o<n;++o)r[o]=0;assert(0===i),assert((-8192&i)==0)},FFTM.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},FFTM.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=Array(n),a=Array(n),l=Array(n),u=Array(n),c=Array(n),d=Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,l,n,i),this.transform(u,o,c,d,n,i);for(var p=0;p<n;p++){var g=a[p]*c[p]-l[p]*d[p];l[p]=a[p]*d[p]+l[p]*c[p],a[p]=g}return this.conjugate(a,l,n),this.transform(a,l,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},BN.prototype.mul=function(t){var e=new BN(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},BN.prototype.mulf=function(t){var e=new BN(null);return e.words=Array(this.length+t.length),bigMulTo(this,t,e)},BN.prototype.imul=function(t){return this.clone().mulTo(t,this)},BN.prototype.imuln=function(t){var e=t<0;e&&(t=-t),assert("number"==typeof t),assert(t<67108864);for(var r=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&r);r>>=26,r+=(i/67108864|0)+(o>>>26),this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),e?this.ineg():this},BN.prototype.muln=function(t){return this.clone().imuln(t)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new BN(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},BN.prototype.iushln=function(t){assert("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var s=this.words[e]&i,a=(0|this.words[e])-s<<r;this.words[e]=a|o,o=s>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},BN.prototype.ishln=function(t){return assert(0===this.negative),this.iushln(t)},BN.prototype.iushrn=function(t,e,r){assert("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var n,i=t%26,o=Math.min((t-i)/26,this.length),s=67108863^67108863>>>i<<i;if(n-=o,n=Math.max(0,n),r){for(var a=0;a<o;a++)r.words[a]=this.words[a];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var u=0|this.words[a];this.words[a]=l<<26-i|u>>>i,l=u&s}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function(t,e,r){return assert(0===this.negative),this.iushrn(t,e,r)},BN.prototype.shln=function(t){return this.clone().ishln(t)},BN.prototype.ushln=function(t){return this.clone().iushln(t)},BN.prototype.shrn=function(t){return this.clone().ishrn(t)},BN.prototype.ushrn=function(t){return this.clone().iushrn(t)},BN.prototype.testn=function(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},BN.prototype.imaskn=function(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},BN.prototype.maskn=function(t){return this.clone().imaskn(t)},BN.prototype.iaddn=function(t){return(assert("number"==typeof t),assert(t<67108864),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},BN.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},BN.prototype.isubn=function(t){if(assert("number"==typeof t),assert(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},BN.prototype.addn=function(t){return this.clone().iaddn(t)},BN.prototype.subn=function(t){return this.clone().isubn(t)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(t,e,r){var n,i,o=t.length+r;this._expand(o);var s=0;for(n=0;n<t.length;n++){i=(0|this.words[n+r])+s;var a=(0|t.words[n])*e;i-=67108863&a,s=(i>>26)-(a/67108864|0),this.words[n+r]=67108863&i}for(;n<this.length-r;n++)s=(i=(0|this.words[n+r])+s)>>26,this.words[n+r]=67108863&i;if(0===s)return this._strip();for(assert(-1===s),s=0,n=0;n<this.length;n++)s=(i=-(0|this.words[n])+s)>>26,this.words[n]=67108863&i;return this.negative=1,this._strip()},BN.prototype._wordDiv=function(t,e){var r,n=this.length-t.length,i=this.clone(),o=t,s=0|o.words[o.length-1];0!=(n=26-this._countBits(s))&&(o=o.ushln(n),i.iushln(n),s=0|o.words[o.length-1]);var a=i.length-o.length;if("mod"!==e){(r=new BN(null)).length=a+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var u=i.clone()._ishlnsubmul(o,1,a);0===u.negative&&(i=u,r&&(r.words[a]=1));for(var c=a-1;c>=0;c--){var d=(0|i.words[o.length+c])*67108864+(0|i.words[o.length+c-1]);for(d=Math.min(d/s|0,67108863),i._ishlnsubmul(o,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(o,1,c),i.isZero()||(i.negative^=1);r&&(r.words[c]=d)}return r&&r._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},BN.prototype.divmod=function(t,e,r){var n,i,o;return(assert(!t.isZero()),this.isZero())?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(n=o.div.neg()),"div"!==e&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(t)),{div:n,mod:i}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(n=o.div.neg()),{div:n,mod:o.mod}):(this.negative&t.negative)!=0?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(t)),{div:o.div,mod:i}):t.length>this.length||0>this.cmp(t)?{div:new BN(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new BN(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new BN(this.modrn(t.words[0]))}:this._wordDiv(t,e)},BN.prototype.div=function(t){return this.divmod(t,"div",!1).div},BN.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},BN.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},BN.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},BN.prototype.modrn=function(t){var e=t<0;e&&(t=-t),assert(t<=67108863);for(var r=67108864%t,n=0,i=this.length-1;i>=0;i--)n=(r*n+(0|this.words[i]))%t;return e?-n:n},BN.prototype.modn=function(t){return this.modrn(t)},BN.prototype.idivn=function(t){var e=t<0;e&&(t=-t),assert(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*r;this.words[n]=i/t|0,r=i%t}return this._strip(),e?this.ineg():this},BN.prototype.divn=function(t){return this.clone().idivn(t)},BN.prototype.egcd=function(t){assert(0===t.negative),assert(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new BN(1),i=new BN(0),o=new BN(0),s=new BN(1),a=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++a;for(var l=r.clone(),u=e.clone();!e.isZero();){for(var c=0,d=1;(e.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(n.isOdd()||i.isOdd())&&(n.iadd(l),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var f=0,p=1;(r.words[0]&p)==0&&f<26;++f,p<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(u)),o.iushrn(1),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(o),i.isub(s)):(r.isub(e),o.isub(n),s.isub(i))}return{a:o,b:s,gcd:r.iushln(a)}},BN.prototype._invmp=function(t){assert(0===t.negative),assert(!t.isZero());var e,r=this,n=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var i=new BN(1),o=new BN(0),s=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;(r.words[0]&l)==0&&a<26;++a,l<<=1);if(a>0)for(r.iushrn(a);a-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var u=0,c=1;(n.words[0]&c)==0&&u<26;++u,c<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);r.cmp(n)>=0?(r.isub(n),i.isub(o)):(n.isub(r),o.isub(i))}return 0>(e=0===r.cmpn(1)?i:o).cmpn(0)&&e.iadd(t),e},BN.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},BN.prototype.invm=function(t){return this.egcd(t).a.umod(t)},BN.prototype.isEven=function(){return(1&this.words[0])==0},BN.prototype.isOdd=function(){return(1&this.words[0])==1},BN.prototype.andln=function(t){return this.words[0]&t},BN.prototype.bincn=function(t){assert("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var i=n,o=r;0!==i&&o<this.length;o++){var s=0|this.words[o];s+=i,i=s>>>26,s&=67108863,this.words[o]=s}return 0!==i&&(this.words[o]=i,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),assert(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},BN.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},BN.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},BN.prototype.gtn=function(t){return 1===this.cmpn(t)},BN.prototype.gt=function(t){return 1===this.cmp(t)},BN.prototype.gten=function(t){return this.cmpn(t)>=0},BN.prototype.gte=function(t){return this.cmp(t)>=0},BN.prototype.ltn=function(t){return -1===this.cmpn(t)},BN.prototype.lt=function(t){return -1===this.cmp(t)},BN.prototype.lten=function(t){return 0>=this.cmpn(t)},BN.prototype.lte=function(t){return 0>=this.cmp(t)},BN.prototype.eqn=function(t){return 0===this.cmpn(t)},BN.prototype.eq=function(t){return 0===this.cmp(t)},BN.red=function(t){return new Red(t)},BN.prototype.toRed=function(t){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(t){return this.red=t,this},BN.prototype.forceRed=function(t){return assert(!this.red,"Already a number in reduction context"),this._forceRed(t)},BN.prototype.redAdd=function(t){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},BN.prototype.redIAdd=function(t){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},BN.prototype.redSub=function(t){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},BN.prototype.redISub=function(t){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},BN.prototype.redShl=function(t){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},BN.prototype.redMul=function(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},BN.prototype.redIMul=function(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(t){return assert(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var a={k256:null,p224:null,p192:null,p25519:null};function MPrime(t,e){this.name=t,this.p=new BN(e,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(t){if("string"==typeof t){var e=BN._prime(t);this.m=e.p,this.prime=e}else assert(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function Mont(t){Red.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var t=new BN(null);return t.words=Array(Math.ceil(this.n/13)),t},MPrime.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function(t,e){t.iushrn(this.n,0,e)},MPrime.prototype.imulK=function(t){return t.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var i=t.words[9];for(n=10,e.words[e.length++]=4194303&i;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},K256.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=(0|t.words[r])*19+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},BN._prime=function(t){var e;if(a[t])return a[t];if("k256"===t)e=new K256;else if("p224"===t)e=new P224;else if("p192"===t)e=new P192;else if("p25519"===t)e=new P25519;else throw Error("Unknown prime "+t);return a[t]=e,e},Red.prototype._verify1=function(t){assert(0===t.negative,"red works only with positives"),assert(t.red,"red works only with red numbers")},Red.prototype._verify2=function(t,e){assert((t.negative|e.negative)==0,"red works only with positives"),assert(t.red&&t.red===e.red,"red works only with red numbers")},Red.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(move(t,t.umod(this.m)._forceRed(this)),t)},Red.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Red.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},Red.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},Red.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},Red.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},Red.prototype.isqr=function(t){return this.imul(t,t.clone())},Red.prototype.sqr=function(t){return this.mul(t,t)},Red.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(assert(e%2==1),3===e){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);assert(!n.isZero());var o=new BN(1).toRed(this),s=o.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new BN(2*l*l).toRed(this);0!==this.pow(l,a).cmp(s);)l.redIAdd(s);for(var u=this.pow(l,n),c=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),f=i;0!==d.cmp(o);){for(var p=d,g=0;0!==p.cmp(o);g++)p=p.redSqr();assert(g<f);var y=this.pow(u,new BN(1).iushln(f-g-1));c=c.redMul(y),u=y.redSqr(),d=d.redMul(u),f=g}return c},Red.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},Red.prototype.pow=function(t,e){if(e.isZero())return new BN(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new BN(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,s=0,a=e.bitLength()%26;for(0===a&&(a=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=a-1;u>=0;u--){var c=l>>u&1;if(i!==r[0]&&(i=this.sqr(i)),0===c&&0===o){s=0;continue}o<<=1,o|=c,(4==++s||0===n&&0===u)&&(i=this.mul(i,r[o]),s=0,o=0)}a=26}return i},Red.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},Red.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},BN.mont=function(t){return new Mont(t)},inherits(Mont,Red),Mont.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Mont.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},Mont.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},Mont.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new BN(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},Mont.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5532:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;let u=l(r(3550)),c=l(r(7191)),d=a(r(1127)),f="function"!=typeof TextDecoder?d.TextDecoder:TextDecoder,p=new f("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=n.from(t,"utf8")),c.default.encode(n.from(t))},e.baseDecode=function(t){return n.from(c.default.decode(t))};let BorshError=class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};e.BorshError=BorshError;let BinaryWriter=class BinaryWriter{constructor(){this.buf=n.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(1024)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),t,n.alloc(1024)]),this.length+=t.length}writeString(t){this.maybeResize();let e=n.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(n.from(t))}writeArray(t,e){for(let r of(this.maybeResize(),this.writeU32(t.length),t))this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}};function handlingRangeError(t,e,r){let n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){let e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=BinaryWriter;let BinaryReader=class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new u.default(t,"le")}readU128(){let t=this.readBuffer(16);return new u.default(t,"le")}readU256(){let t=this.readBuffer(32);return new u.default(t,"le")}readU512(){let t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return p.decode(e)}catch(t){throw new BorshError(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),r=[];for(let n=0;n<e;++n)r.push(t());return r}};function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,r,n,i){try{if("string"==typeof n)i[`write${capitalizeFirstLetter(n)}`](r);else if(n instanceof Array){if("number"==typeof n[0]){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)serializeField(t,null,r[e],n[0],i)}else i.writeArray(r,r=>{serializeField(t,e,r,n[0],i)})}else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),serializeField(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{serializeField(t,e,o,n.key,i),serializeField(t,e,r,n.value,i)});break;default:throw new BorshError(`FieldType ${n} unrecognized`)}else serializeStruct(t,r,i)}catch(t){throw t instanceof BorshError&&t.addToFieldPath(e),t}}function serializeStruct(t,e,r){if("function"==typeof e.borshSerialize){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{serializeField(t,n,e[n],i,r)});else if("enum"===n.kind){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),serializeField(t,s,e[s],a,r);break}}}else throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function deserializeField(t,e,r,n){try{if("string"==typeof r)return n[`read${capitalizeFirstLetter(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"!=typeof r[1])return n.readArray(()=>deserializeField(t,e,r[0],n));{let e=[];for(let i=0;i<r[1];i++)e.push(deserializeField(t,null,r[0],n));return e}}if("option"===r.kind){let i=n.readU8();if(i)return deserializeField(t,e,r.type,n);return}if("map"===r.kind){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let o=deserializeField(t,e,r.key,n),s=deserializeField(t,e,r.value,n);i.set(o,s)}return i}return deserializeStruct(t,r,n)}catch(t){throw t instanceof BorshError&&t.addToFieldPath(e),t}}function deserializeStruct(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,o]of t.get(e).fields)n[i]=deserializeField(t,i,o,r);return new e(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new BorshError(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=deserializeField(t,o,s,r);return new e({[o]:a})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}s([handlingRangeError],BinaryReader.prototype,"readU8",null),s([handlingRangeError],BinaryReader.prototype,"readU16",null),s([handlingRangeError],BinaryReader.prototype,"readU32",null),s([handlingRangeError],BinaryReader.prototype,"readU64",null),s([handlingRangeError],BinaryReader.prototype,"readU128",null),s([handlingRangeError],BinaryReader.prototype,"readU256",null),s([handlingRangeError],BinaryReader.prototype,"readU512",null),s([handlingRangeError],BinaryReader.prototype,"readString",null),s([handlingRangeError],BinaryReader.prototype,"readFixedArray",null),s([handlingRangeError],BinaryReader.prototype,"readArray",null),e.BinaryReader=BinaryReader,e.serialize=function(t,e,r=BinaryWriter){let n=new r;return serializeStruct(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=BinaryReader){let i=new n(r),o=deserializeStruct(t,e,i);if(i.offset<r.length)throw new BorshError(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,r,n=BinaryReader){let i=new n(r);return deserializeStruct(t,e,i)}},7191:function(t,e,r){var n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8764:function(t,e,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Buffer.prototype),e}function Buffer(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(t)}return from(t,e,r)}function from(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!Buffer.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|byteLength(t,e),n=createBuffer(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(isInstance(t,Uint8Array)){let e=new Uint8Array(t);return fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength)}return fromArrayLike(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(isInstance(t,ArrayBuffer)||t&&isInstance(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(t,SharedArrayBuffer)||t&&isInstance(t.buffer,SharedArrayBuffer)))return fromArrayBuffer(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return Buffer.from(n,e,r);let i=function(t){var e;if(Buffer.isBuffer(t)){let e=0|checked(t.length),r=createBuffer(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?createBuffer(0):fromArrayLike(t):"Buffer"===t.type&&Array.isArray(t.data)?fromArrayLike(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return Buffer.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function assertSize(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function allocUnsafe(t){return assertSize(t),createBuffer(t<0?0:0|checked(t))}function fromArrayLike(t){let e=t.length<0?0:0|checked(t.length),r=createBuffer(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function fromArrayBuffer(t,e,r){let n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Buffer.prototype),n}function checked(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||isInstance(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(i)return n?-1:utf8ToBytes(t).length;e=(""+e).toLowerCase(),i=!0}}function slowToString(t,e,r){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=l[t[n]];return i}(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}(this,e,r);case"base64":var o,s;return o=e,s=r,0===o&&s===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){let n=t.slice(e,r),i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}(this,e,r);default:if(i)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function swap(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,i){var o;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,i);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,i){let o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;s=2,a/=2,l/=2,r/=2}function read(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(read(t,o)===read(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(read(t,o+n)!==read(e,n)){r=!1;break}if(r)return o}return -1}function utf8Slice(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let e=t[i],o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,l;switch(s){case 1:e<128&&(o=e);break;case 2:(192&(r=t[i+1]))==128&&(l=(31&e)<<6|63&r)>127&&(o=l);break;case 3:r=t[i+1],n=t[i+2],(192&r)==128&&(192&n)==128&&(l=(15&e)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(l=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function checkOffset(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,i,o){if(!Buffer.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function wrtBigUInt64LE(t,e,r,n,i){checkIntBI(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function wrtBigUInt64BE(t,e,r,n,i){checkIntBI(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function checkIEEE754(t,e,r,n,i,o){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function writeFloat(t,e,r,n,o){return e=+e,r>>>=0,o||checkIEEE754(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,o){return e=+e,r>>>=0,o||checkIEEE754(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}e.Buffer=Buffer,e.SlowBuffer=function(t){return+t!=t&&(t=0),Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,Buffer.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(t,e,r){return from(t,e,r)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(t,e,r){return(assertSize(t),t<=0)?createBuffer(t):void 0!==e?"string"==typeof r?createBuffer(t).fill(e,r):createBuffer(t).fill(e):createBuffer(t)},Buffer.allocUnsafe=function(t){return allocUnsafe(t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(t)},Buffer.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==Buffer.prototype},Buffer.compare=function(t,e){if(isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){let r;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let n=Buffer.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){let e=t[r];if(isInstance(e,Uint8Array))i+e.length>n.length?(Buffer.isBuffer(e)||(e=Buffer.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else if(Buffer.isBuffer(e))e.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=e.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(Buffer.prototype[o]=Buffer.prototype.inspect),Buffer.prototype.compare=function(t,e,r,n,i){if(isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;let o=i-n,s=r-e,a=Math.min(o,s),l=this.slice(n,i),u=t.slice(e,r);for(let t=0;t<a;++t)if(l[t]!==u[t]){o=l[t],s=u[t];break}return o<s?-1:s<o?1:0},Buffer.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function(t,e,r,n){var i,o,s,a,l,u,c,d;if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(t,e,r,n){let i;r=Number(r)||0;let o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=e.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(e.substr(2*i,2),16);if(n!=n)break;t[r+i]=n}return i}(this,t,e,r);case"utf8":case"utf-8":return i=e,o=r,blitBuffer(utf8ToBytes(t,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=e,a=r,blitBuffer(function(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(t),this,s,a);case"base64":return l=e,u=r,blitBuffer(base64ToBytes(t),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=e,d=r,blitBuffer(function(t,e){let r,n;let i=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(t,this.length-c),this,c,d);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let n=this.subarray(t,e);return Object.setPrototypeOf(n,Buffer.prototype),n},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||checkOffset(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||checkOffset(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(t,e){return t>>>=0,e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(t,e){return t>>>=0,e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(t,e){return t>>>=0,e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod(function(t){validateNumber(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&boundsError(t,this.length-8);let n=e+256*this[++t]+65536*this[++t]+16777216*this[++t],i=this[++t]+256*this[++t]+65536*this[++t]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),Buffer.prototype.readBigUInt64BE=defineBigIntMethod(function(t){validateNumber(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&boundsError(t,this.length-8);let n=16777216*e+65536*this[++t]+256*this[++t]+this[++t],i=16777216*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),Buffer.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||checkOffset(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||checkOffset(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Buffer.prototype.readInt8=function(t,e){return(t>>>=0,e||checkOffset(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},Buffer.prototype.readInt16LE=function(t,e){t>>>=0,e||checkOffset(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){t>>>=0,e||checkOffset(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod(function(t){validateNumber(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&boundsError(t,this.length-8);let n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),Buffer.prototype.readBigInt64BE=defineBigIntMethod(function(t){validateNumber(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&boundsError(t,this.length-8);let n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+r)}),Buffer.prototype.readFloatLE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),i.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return t>>>=0,e||checkOffset(t,4,this.length),i.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return t>>>=0,e||checkOffset(t,8,this.length),i.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return t>>>=0,e||checkOffset(t,8,this.length),i.read(this,t,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;checkInt(this,t,e,r,n,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;checkInt(this,t,e,r,n,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,1,255,0),this[e]=255&t,e+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod(function(t,e=0){return wrtBigUInt64LE(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod(function(t,e=0){return wrtBigUInt64BE(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);checkInt(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);checkInt(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod(function(t,e=0){return wrtBigUInt64LE(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeBigInt64BE=defineBigIntMethod(function(t,e=0){return wrtBigUInt64BE(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(!Buffer.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);let i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},Buffer.prototype.fill=function(t,e,r,n){let i;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){let e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{let o=Buffer.isBuffer(t)?t:Buffer.from(t,n),s=o.length;if(0===s)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};let s={};function E(t,e,r){s[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function addNumericalSeparator(t){let e="",r=t.length,n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function checkIntBI(t,e,r,n,i,o){if(t>r||t<e){let n;let i="bigint"==typeof e?"n":"";throw n=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new s.ERR_OUT_OF_RANGE("value",n,t)}validateNumber(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&boundsError(i,n.length-(o+1))}function validateNumber(t,e){if("number"!=typeof t)throw new s.ERR_INVALID_ARG_TYPE(e,"number",t)}function boundsError(t,e,r){if(Math.floor(t)!==t)throw validateNumber(t,r),new s.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new s.ERR_BUFFER_OUT_OF_BOUNDS;throw new s.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}E("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),E("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=addNumericalSeparator(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=addNumericalSeparator(i)),i+="n"),n+=` It must be ${e}. Received ${i}`},RangeError);let a=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(t,e){let r;e=e||1/0;let n=t.length,i=null,o=[];for(let s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function base64ToBytes(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(a,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function blitBuffer(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length)&&!(i>=t.length);++i)e[i+r]=t[i];return i}function isInstance(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}let l=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function defineBigIntMethod(t){return"undefined"==typeof BigInt?BufferBigIntNotDefined:t}function BufferBigIntNotDefined(){throw Error("BigInt not supported")}},5987:function(t){"use strict";var e={single_source_shortest_paths:function(t,r,n){var i,o,s,a,l,u,c,d={},f={};f[r]=0;var p=e.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(s in o=(i=p.pop()).value,a=i.cost,l=t[o]||{})l.hasOwnProperty(s)&&(u=a+l[s],c=f[s],(void 0===f[s]||c>u)&&(f[s]=u,p.push(s,u),d[s]=o));if(void 0!==n&&void 0===f[n])throw Error(["Could not find a path from ",r," to ",n,"."].join(""));return d},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},6729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function Events(){}function EE(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function addListener(t,e,n,i,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new EE(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function clearEvent(t,e){0==--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(r=!1)),EventEmitter.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},EventEmitter.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=Array(o);i<o;i++)s[i]=n[i].fn;return s},EventEmitter.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},EventEmitter.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(u=1,l=Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,i);break;default:if(!l)for(f=1,l=Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},EventEmitter.prototype.on=function(t,e,r){return addListener(this,t,e,r,!1)},EventEmitter.prototype.once=function(t,e,r){return addListener(this,t,e,r,!0)},EventEmitter.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return clearEvent(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||clearEvent(this,o);else{for(var a=0,l=[],u=s.length;a<u;a++)(s[a].fn!==e||i&&!s[a].once||n&&s[a].context!==n)&&l.push(s[a]);l.length?this._events[o]=1===l.length?l[0]:l:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=r,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},645:function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,p=t[e+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+d],d+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?5960464477539062e-23:0,p=n?0:o-1,g=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+p]=255&s,p+=g,s/=256,u-=8);t[r+p-g]|=128*y}},1198:function(t,e,r){"use strict";let n=r(4880).v4,i=r(7741),ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=ClientBrowser,ClientBrowser.prototype.request=function(t,e,r,n){let o;let s=this,a=null,l=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&l)throw TypeError("JSON-RPC 1.0 does not support batching");let u=!l&&t&&"object"==typeof t&&"function"==typeof e;if(l||u)n=e,a=t;else{"function"==typeof r&&(n=r,r=void 0);let o="function"==typeof n;try{a=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return n(t);throw t}if(!o)return a}try{o=JSON.stringify(a,this.options.replacer)}catch(t){return n(t)}return this.callServer(o,function(t,e){s._parseResponse(t,e,n)}),a},ClientBrowser.prototype._parseResponse=function(t,e,r){let n;if(t){r(t);return}if(!e)return r();try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(!Array.isArray(n))return r(null,n.error,n.result);{let isError=function(t){return void 0!==t.error};return r(null,n.filter(isError),n.filter(function(t){return!isError(t)}))}}r(null,n)}},7741:function(t,e,r){"use strict";let n=r(4880).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw TypeError(t+" must be a string");i=i||{};let o="number"==typeof i.version?i.version:2;if(1!==o&&2!==o)throw TypeError(o+" must be 1 or 2");let s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===r){let t="function"==typeof i.generator?i.generator:function(){return n()};s.id=t(s,i)}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s}},6840:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(7002)}])},7002:function(t,e,r){"use strict";let n,i,o,s;r.r(e),r.d(e,{default:function(){return MyApp}});var a,l,u,c,d,f,p,g,y,m,b,w,v,S,_,M,I,k,B,A,N,T,x,L,P,R,C,O,j,D,z,U,W,K,F,H,q,V,G=r(5893);(a=u||(u={})).Mainnet="mainnet-beta",a.Testnet="testnet",a.Devnet="devnet";var Y=r(8060),$=r(7294),J=r(4718);let ConnectionProvider=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{let n=(0,$.useMemo)(()=>new Y.Connection(e,r),[e,r]);return $.createElement(J.h.Provider,{value:{connection:n}},t)};var Z=r(9607),Q=r(5615);function isVersionedTransaction(t){return"version"in t}let BaseSignerWalletAdapter=class BaseSignerWalletAdapter extends Z.mI{async sendTransaction(t,e,r={}){let n=!0;try{if(isVersionedTransaction(t)){if(!this.supportedTransactionVersions)throw new Q.IW("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Q.IW(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);let n=t.serialize();return await e.sendRawTransaction(n,r)}catch(t){if(t instanceof Q.PY)throw n=!1,t;throw new Q.IW(t?.message,t)}}else try{let{signers:n,...i}=r;t=await this.prepareTransaction(t,e,i),n?.length&&t.partialSign(...n),t=await this.signTransaction(t);let o=t.serialize();return await e.sendRawTransaction(o,i)}catch(t){if(t instanceof Q.PY)throw n=!1,t;throw new Q.IW(t?.message,t)}}catch(t){throw n&&this.emit("error",t),t}}async signAllTransactions(t){for(let e of t)if(isVersionedTransaction(e)){if(!this.supportedTransactionVersions)throw new Q.PY("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Q.PY(`Signing transaction version ${e.version} isn't supported by this wallet`)}let e=[];for(let r of t)e.push(await this.signTransaction(r));return e}};let BaseMessageSignerWalletAdapter=class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{};let signer_BaseSignInMessageSignerWalletAdapter=class signer_BaseSignInMessageSignerWalletAdapter extends BaseMessageSignerWalletAdapter{};let X=`(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?`;RegExp(`^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??${X}\\n*$`);let tt={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};let SolanaMobileWalletAdapterError=class SolanaMobileWalletAdapterError extends Error{constructor(...t){let[e,r,n]=t;super(r),this.code=e,this.data=n,this.name="SolanaMobileWalletAdapterError"}};let SolanaMobileWalletAdapterProtocolError=class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...t){let[e,r,n,i]=t;super(n),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}};function __awaiter(t,e,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(t){try{step(n.next(t))}catch(t){o(t)}}function rejected(t){try{step(n.throw(t))}catch(t){o(t)}}function step(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})}function createHelloReq(t,e){return __awaiter(this,void 0,void 0,function*(){let r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}let te="solana:cloneAuthorization";function decryptMessage(t,e){return __awaiter(this,void 0,void 0,function*(){let r=t.slice(0,4),i=t.slice(4,16),o=t.slice(16),s=yield crypto.subtle.decrypt(getAlgorithmParams(r,i),e,o),a=(void 0===n&&(n=new TextDecoder("utf-8")),n).decode(s);return a})}function getAlgorithmParams(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}function generateECDHKeypair(){return __awaiter(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function assertAssociationPort(t){if(t<49152||t>65535)throw new SolanaMobileWalletAdapterError(tt.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function getPathParts(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}let tr={Firefox:0,Other:1},tn=null,ti={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function getSequenceNumberFromByteArray(t){let e=new DataView(t);return e.getUint32(0,!1)}var to=r(5019);function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>e.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function esm_awaiter(t,e,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(t){try{step(n.next(t))}catch(t){o(t)}}function rejected(t){try{step(n.throw(t))}catch(t){o(t)}}function step(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})}function fromUint8Array(t){return window.btoa(String.fromCharCode.call(null,...t))}function toUint8Array(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}function getPayloadFromTransaction(t){let e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}),r=fromUint8Array(e);return r}function getTransactionFromWireMessage(t){let e=t[0],r=e*Y.SIGNATURE_LENGTH_IN_BYTES+1,n=Y.VersionedMessage.deserializeMessageVersion(t.slice(r,t.length));return"legacy"===n?Y.Transaction.from(t):Y.VersionedTransaction.deserialize(t)}function lib_esm_awaiter(t,e,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(t){try{step(n.next(t))}catch(t){o(t)}}function rejected(t){try{step(n.throw(t))}catch(t){o(t)}}function step(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})}function esm_toUint8Array(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}r(2592);let ts="Mobile Wallet Adapter";function esm_isVersionedTransaction(t){return"version"in t}let SolanaMobileWalletAdapter=class SolanaMobileWalletAdapter extends signer_BaseSignInMessageSignerWalletAdapter{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ts,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?Z.i1.Loadable:Z.i1.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=null!==(e=t.chain)&&void 0!==e?e:function(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==Z.i1.Unsupported&&this._authorizationResultCache.get().then(t=>{t&&this.declareWalletAsInstalled()})}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){let e=esm_toUint8Array(t);return new Y.PublicKey(e)}(this._selectedAddress)}catch(t){throw new Q.Nx(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Z.i1.Installed&&this.emit("readyStateChange",this._readyState=Z.i1.Installed)}runWithGuard(t){return lib_esm_awaiter(this,void 0,void 0,function*(){try{return yield t()}catch(t){throw this.emit("error",t),t}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return lib_esm_awaiter(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){if(this._readyState!==Z.i1.Installed&&this._readyState!==Z.i1.Loadable)throw new Q.OZ;this._connecting=!0;try{let t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Q.$w(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return lib_esm_awaiter(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){if(this._readyState!==Z.i1.Installed&&this._readyState!==Z.i1.Loadable)throw new Q.OZ;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Q.$w(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return lib_esm_awaiter(this,void 0,void 0,function*(){try{let e=yield this._authorizationResultCache.get();if(e)return this.handleAuthorizationResult(e),e;return yield this.transact(e=>lib_esm_awaiter(this,void 0,void 0,function*(){let r=yield e.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)]),r}))}catch(t){throw new Q.$w(t instanceof Error&&t.message||"Unknown error",t)}})}handleAuthorizationResult(t){var e;return lib_esm_awaiter(this,void 0,void 0,function*(){let r=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((e,r)=>e.address!==t.accounts[r].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){let e=yield this._addressSelector.select(t.accounts.map(({address:t})=>t));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return lib_esm_awaiter(this,void 0,void 0,function*(){try{let r=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(t){throw this.disconnect(),new Q.at(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}})}disconnect(){return lib_esm_awaiter(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return lib_esm_awaiter(this,void 0,void 0,function*(){let r=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,n=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,i=this._connectionGeneration;try{return yield function(t,e){return esm_awaiter(this,void 0,void 0,function*(){return yield function(t,e){return __awaiter(this,void 0,void 0,function*(){let r;!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new SolanaMobileWalletAdapterError(tt.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();let n=yield function(){return __awaiter(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),i=yield function(t,e){return __awaiter(this,void 0,void 0,function*(){let r=assertAssociationPort(49152+Math.floor(16384*Math.random())),n=yield function(t,e,r,n=["v1"]){return __awaiter(this,void 0,void 0,function*(){let i=assertAssociationPort(e),o=yield crypto.subtle.exportKey("raw",t),s=function(t){let e="",r=new Uint8Array(t),n=r.byteLength;for(let t=0;t<n;t++)e+=String.fromCharCode(r[t]);return window.btoa(e)}(o),a=function(t,e){let r=null;if(e){try{r=new URL(e)}catch(t){}if((null==r?void 0:r.protocol)!=="https:")throw new SolanaMobileWalletAdapterError(tt.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL("solana-wallet:/"));let n=t.startsWith("/")?t:[...getPathParts(r.pathname),...getPathParts(t)].join("/");return new URL(n,r)}("v1/associate/local",r);return a.searchParams.set("association",s.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])),a.searchParams.set("port",`${i}`),n.forEach(t=>{a.searchParams.set("v",t)}),a})}(t,r,e);return yield function(t){return __awaiter(this,void 0,void 0,function*(){if("https:"===t.protocol)window.location.assign(t);else try{let e=-1!==navigator.userAgent.indexOf("Firefox/")?tr.Firefox:tr.Other;switch(e){case tr.Firefox:null==tn&&((tn=document.createElement("iframe")).style.display="none",document.body.appendChild(tn)),tn.contentWindow.location.href=t.toString();break;case tr.Other:{let e=new Promise((t,e)=>{function cleanup(){clearTimeout(r),window.removeEventListener("blur",handleBlur)}function handleBlur(){cleanup(),t()}window.addEventListener("blur",handleBlur);let r=setTimeout(()=>{cleanup(),e()},2e3)});window.location.assign(t),yield e}}}catch(t){throw new SolanaMobileWalletAdapterError(tt.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}(n),r})}(n.publicKey,null==e?void 0:e.baseUri),o=`ws://localhost:${i}/solana-wallet`,s=(()=>{let t=[...ti.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})(),a=1,l=0,u={__type:"disconnected"};return new Promise((e,i)=>{let c,d,f;let p={},handleOpen=()=>__awaiter(this,void 0,void 0,function*(){if("connecting"!==u.__type){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}c.removeEventListener("open",handleOpen);let{associationKeypair:t}=u,e=yield generateECDHKeypair();c.send((yield createHelloReq(e.publicKey,t.privateKey))),u={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}}),handleClose=t=>{t.wasClean?u={__type:"disconnected"}:i(new SolanaMobileWalletAdapterError(tt.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),d()},handleError=t=>__awaiter(this,void 0,void 0,function*(){d(),Date.now()-r>=ti.timeoutMs?i(new SolanaMobileWalletAdapterError(tt.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${o}.`)):(yield new Promise(t=>{let e=s();f=window.setTimeout(t,e)}),attemptSocketConnection())}),handleMessage=r=>__awaiter(this,void 0,void 0,function*(){let o=yield r.data.arrayBuffer();switch(u.__type){case"connecting":if(0!==o.byteLength)throw Error("Encountered unexpected message while connecting");let s=yield generateECDHKeypair();c.send((yield createHelloReq(s.publicKey,n.privateKey))),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:s.privateKey};break;case"connected":try{let t=o.slice(0,4),e=getSequenceNumberFromByteArray(t);if(e!==l+1)throw Error("Encrypted message has invalid sequence number");l=e;let r=yield function(t,e){return __awaiter(this,void 0,void 0,function*(){let r=yield decryptMessage(t,e),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new SolanaMobileWalletAdapterProtocolError(n.id,n.error.code,n.error.message);return n})}(o,u.sharedSecret),n=p[r.id];delete p[r.id],n.resolve(r.result)}catch(t){if(t instanceof SolanaMobileWalletAdapterProtocolError){let e=p[t.jsonRpcMessageId];delete p[t.jsonRpcMessageId],e.reject(t)}else throw t}break;case"hello_req_sent":{var f,g;if(0===o.byteLength){let t=yield generateECDHKeypair();c.send((yield createHelloReq(t.publicKey,n.privateKey))),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:t.privateKey};break}let r=yield function(t,e,r){return __awaiter(this,void 0,void 0,function*(){let[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]),a=yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"]);return a})}(o,u.associationPublicKey,u.ecdhPrivateKey),s=o.slice(65),y=0!==s.byteLength?yield __awaiter(this,void 0,void 0,function*(){let t=s.slice(0,4),e=getSequenceNumberFromByteArray(t);if(e!==l+1)throw Error("Encrypted message has invalid sequence number");return l=e,function(t,e){return __awaiter(this,void 0,void 0,function*(){let r=yield decryptMessage(t,e),n=JSON.parse(r),i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new SolanaMobileWalletAdapterError(tt.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}(s,r)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:r,sessionProperties:y};let m=(f=y.protocol_version,g=(t,e)=>__awaiter(this,void 0,void 0,function*(){let n=a++;return c.send((yield function(t,e){return __awaiter(this,void 0,void 0,function*(){let r=JSON.stringify(t),n=t.id;return function(t,e,r){return __awaiter(this,void 0,void 0,function*(){let n=function(t){if(t>=4294967296)throw Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");let e=new ArrayBuffer(4),r=new DataView(e);return r.setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);let o=yield crypto.subtle.encrypt(getAlgorithmParams(n,i),r,new TextEncoder().encode(t)),s=new Uint8Array(n.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(i),n.byteLength),s.set(new Uint8Array(o),n.byteLength+i.byteLength),s})}(r,n,e)})}({id:n,jsonrpc:"2.0",method:t,params:null!=e?e:{}},r))),new Promise((e,r)=>{p[n]={resolve(n){switch(t){case"authorize":case"reauthorize":{let{wallet_uri_base:t}=n;if(null!=t)try{!function(t){let e;try{e=new URL(t)}catch(t){throw new SolanaMobileWalletAdapterError(tt.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new SolanaMobileWalletAdapterError(tt.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}(t)}catch(t){r(t);return}}}e(n)},reject:r}})}),new Proxy({},{get:(t,e)=>(null==t[e]&&(t[e]=function(t){return __awaiter(this,void 0,void 0,function*(){let{method:r,params:n}=function(t,e,r){let n=e,i=t.toString().replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:t}=n;if("legacy"===r){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=n.cluster}n.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}n.chain=t}}case"reauthorize":{let{auth_token:t,identity:e}=n;t&&("legacy"===r?(i="reauthorize",n={auth_token:t,identity:e}):i="authorize")}}return{method:i,params:n}}(e,t,f),i=yield g(r,n);return"authorize"===r&&n.sign_in_payload&&!i.sign_in_result&&(i.sign_in_result=yield function(t,e,r){var n;return __awaiter(this,void 0,void 0,function*(){var i,o;let s=null!==(n=t.domain)&&void 0!==n?n:window.location.host,a=e.accounts[0].address,l=(i=Object.assign(Object.assign({},t),{domain:s,address:a}),o=function(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);let r=[];if(t.uri&&r.push(`URI: ${t.uri}`),t.version&&r.push(`Version: ${t.version}`),t.chainId&&r.push(`Chain ID: ${t.chainId}`),t.nonce&&r.push(`Nonce: ${t.nonce}`),t.issuedAt&&r.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&r.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&r.push(`Not Before: ${t.notBefore}`),t.requestId&&r.push(`Request ID: ${t.requestId}`),t.resources)for(let e of(r.push("Resources:"),t.resources))r.push(`- ${e}`);return r.length&&(e+=`

${r.join("\n")}`),e}(i),window.btoa(o)),u=yield r("sign_messages",{addresses:[a],payloads:[l]}),c={address:a,signed_message:l,signature:u.signed_payloads[0].slice(l.length)};return c})}(n.sign_in_payload,i,g)),function(t,e,r){if("getCapabilities"===t)switch(r){case"legacy":{let t=["solana:signTransactions"];return!0===e.supports_clone_authorization&&t.push(te),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(te)})}return e}(e,i,f)})}),t[e]),defineProperty:()=>!1,deleteProperty:()=>!1}));try{e((yield t(m)))}catch(t){i(t)}finally{d(),c.close()}}}}),attemptSocketConnection=()=>{d&&d(),u={__type:"connecting",associationKeypair:n},void 0===r&&(r=Date.now()),(c=new WebSocket(o,["com.solana.mobilewalletadapter.v1"])).addEventListener("open",handleOpen),c.addEventListener("close",handleClose),c.addEventListener("error",handleError),c.addEventListener("message",handleMessage),d=()=>{window.clearTimeout(f),c.removeEventListener("open",handleOpen),c.removeEventListener("close",handleClose),c.removeEventListener("error",handleError),c.removeEventListener("message",handleMessage)}};attemptSocketConnection()})})}(e=>{let r=new Proxy({},{get(t,r){if(null==t[r])switch(r){case"signAndSendTransactions":t[r]=function(t){var{minContextSlot:r,commitment:n,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:s,transactions:a}=t,l=__rest(t,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return esm_awaiter(this,void 0,void 0,function*(){let t=a.map(getPayloadFromTransaction),u={min_context_slot:r,commitment:n,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:s},{signatures:c}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},l),Object.values(u).some(t=>null!=t)?{options:u}:null),{payloads:t})),d=c.map(toUint8Array).map(to.encode);return d})};break;case"signMessages":t[r]=function(t){var{payloads:r}=t,n=__rest(t,["payloads"]);return esm_awaiter(this,void 0,void 0,function*(){let t=r.map(fromUint8Array),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},n),{payloads:t})),o=i.map(toUint8Array);return o})};break;case"signTransactions":t[r]=function(t){var{transactions:r}=t,n=__rest(t,["transactions"]);return esm_awaiter(this,void 0,void 0,function*(){let t=r.map(getPayloadFromTransaction),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},n),{payloads:t})),o=i.map(toUint8Array),s=o.map(getTransactionFromWireMessage);return s})};break;default:t[r]=e[r]}return t[r]},defineProperty:()=>!1,deleteProperty:()=>!1});return t(r)},e)})}(t,Object.assign(Object.assign({},r?{baseUri:r}:void 0),n))}catch(t){throw this._connectionGeneration!==i&&(yield new Promise(()=>{})),t instanceof Error&&"SolanaMobileWalletAdapterError"===t.name&&"ERROR_WALLET_NOT_FOUND"===t.code&&(yield this._onWalletNotFound(this)),t}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Q.oS;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return lib_esm_awaiter(this,void 0,void 0,function*(){let{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(r=>lib_esm_awaiter(this,void 0,void 0,function*(){yield this.performReauthorization(r,e);let n=yield r.signTransactions({transactions:t});return n}))}catch(t){throw new Q.PY(null==t?void 0:t.message,t)}})}sendTransaction(t,e,r){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){let{authToken:n}=this.assertIsAuthorized(),i=null==r?void 0:r.minContextSlot;try{return yield this.transact(o=>lib_esm_awaiter(this,void 0,void 0,function*(){function getTargetCommitment(){let t,n;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==r?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":n=r.preflightCommitment;break;case void 0:n=t;break;default:n="finalized"}let i="finalized"===n?2:"confirmed"===n?1:0,o="finalized"===t?2:"confirmed"===t?1:0;return i<o?n:t}let[s,a,l]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,n),esm_isVersionedTransaction(t)?null:lib_esm_awaiter(this,void 0,void 0,function*(){var r;if(t.feePayer||(t.feePayer=null!==(r=this.publicKey)&&void 0!==r?r:void 0),null==t.recentBlockhash){let{blockhash:r}=yield e.getLatestBlockhash({commitment:getTargetCommitment()});t.recentBlockhash=r}})]);if(s.supports_sign_and_send_transactions){let e=yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]});return e[0]}{let[n]=yield o.signTransactions({transactions:[t]});if(esm_isVersionedTransaction(n))return yield e.sendTransaction(n);{let t=n.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},r),{preflightCommitment:getTargetCommitment()}))}}}))}catch(t){throw new Q.IW(null==t?void 0:t.message,t)}}))})}signTransaction(t){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){let[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){let e=yield this.performSignTransactions(t);return e}))})}signMessage(t){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){let{authToken:e,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(n=>lib_esm_awaiter(this,void 0,void 0,function*(){yield this.performReauthorization(n,e);let[i]=yield n.signMessages({addresses:[r],payloads:[t]}),o=i.slice(-64);return o}))}catch(t){throw new Q.fk(null==t?void 0:t.message,t)}}))})}signIn(t){return lib_esm_awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>lib_esm_awaiter(this,void 0,void 0,function*(){var e,r;if(this._readyState!==Z.i1.Installed&&this._readyState!==Z.i1.Loadable)throw new Q.OZ;this._connecting=!0;try{let n=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!n.sign_in_result)throw Error("Sign in failed, no sign in result returned by wallet");let i=n.sign_in_result.address,o=Object.assign(Object.assign({},null!==(r=n.accounts.find(t=>t.address==i))&&void 0!==r?r:{address:i}),{publicKey:esm_toUint8Array(i)});return{account:o,signedMessage:esm_toUint8Array(n.sign_in_result.signed_message),signature:esm_toUint8Array(n.sign_in_result.signature)}}catch(t){throw new Q.$w(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}};let ta="SolanaMobileWalletAdapterDefaultAuthorizationCache";function defaultWalletNotFoundHandler(t){return lib_esm_awaiter(this,void 0,void 0,function*(){"undefined"!=typeof window&&window.location.assign(t.url)})}var tl=r(3149),tu=r(8112);let tc="standard:connect",th="standard:events",isWalletAdapterCompatibleWallet=function(t){return tc in t.features&&th in t.features&&(tl.G in t.features||tu.R in t.features)};var td=r(1999);let tf="solana:signIn",tp="solana:mainnet",tg="solana:devnet",ty="solana:testnet";function getCommitment(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}let tm="standard:disconnect";new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var tb=function(t){if(t.length>=255)throw TypeError("Alphabet too long");let e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let r=0;r<t.length;r++){let n=t.charAt(r),i=n.charCodeAt(0);if(255!==e[i])throw TypeError(n+" is ambiguous");e[i]=r}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function decodeUnsafe(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;let o=0,s=0,a=0;for(;t[o]===n;)s++,o++;let l=(t.length-o)*i+1>>>0,u=new Uint8Array(l);for(;t[o];){let n=e[t.charCodeAt(o)];if(255===n)return;let i=0;for(let t=l-1;(0!==n||i<a)&&-1!==t;t--,i++)n+=r*u[t]>>>0,u[t]=n%256>>>0,n=n/256>>>0;if(0!==n)throw Error("Non-zero carry");a=i,o++}let c=l-a;for(;c!==l&&0===u[c];)c++;let d=new Uint8Array(s+(l-c)),f=s;for(;c!==l;)d[f++]=u[c++];return d}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";let i=0,s=0,a=0,l=e.length;for(;a!==l&&0===e[a];)a++,i++;let u=(l-a)*o+1>>>0,c=new Uint8Array(u);for(;a!==l;){let t=e[a],n=0;for(let e=u-1;(0!==t||n<s)&&-1!==e;e--,n++)t+=256*c[e]>>>0,c[e]=t%r>>>0,t=t/r>>>0;if(0!==t)throw Error("Non-zero carry");s=n,a++}let d=u-s;for(;d!==u&&0===c[d];)d++;let f=n.repeat(i);for(;d<u;++d)f+=t.charAt(c[d]);return f},decodeUnsafe,decode:function(t){let e=decodeUnsafe(t);if(e)return e;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),adapter_classPrivateFieldGet=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},adapter_classPrivateFieldSet=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};let StandardWalletAdapter=class StandardWalletAdapter extends Z.mI{get name(){return adapter_classPrivateFieldGet(this,b,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return adapter_classPrivateFieldGet(this,b,"f").icon}get readyState(){return adapter_classPrivateFieldGet(this,w,"f")}get publicKey(){return adapter_classPrivateFieldGet(this,f,"f")}get connecting(){return adapter_classPrivateFieldGet(this,p,"f")}get supportedTransactionVersions(){return adapter_classPrivateFieldGet(this,m,"f")}get wallet(){return adapter_classPrivateFieldGet(this,b,"f")}get standard(){return!0}constructor({wallet:t}){super(),c.add(this),d.set(this,void 0),f.set(this,void 0),p.set(this,void 0),g.set(this,void 0),y.set(this,void 0),m.set(this,void 0),b.set(this,void 0),w.set(this,"undefined"==typeof window||"undefined"==typeof document?Z.i1.Unsupported:Z.i1.Installed),I.set(this,t=>{if("accounts"in t){let t=adapter_classPrivateFieldGet(this,b,"f").accounts[0];adapter_classPrivateFieldGet(this,d,"f")&&!adapter_classPrivateFieldGet(this,g,"f")&&t!==adapter_classPrivateFieldGet(this,d,"f")&&(t?adapter_classPrivateFieldGet(this,c,"m",S).call(this,t):(this.emit("error",new Q.at),adapter_classPrivateFieldGet(this,c,"m",_).call(this)))}"features"in t&&adapter_classPrivateFieldGet(this,c,"m",M).call(this)}),adapter_classPrivateFieldSet(this,b,t,"f"),adapter_classPrivateFieldSet(this,d,null,"f"),adapter_classPrivateFieldSet(this,f,null,"f"),adapter_classPrivateFieldSet(this,p,!1,"f"),adapter_classPrivateFieldSet(this,g,!1,"f"),adapter_classPrivateFieldSet(this,y,adapter_classPrivateFieldGet(this,b,"f").features[th].on("change",adapter_classPrivateFieldGet(this,I,"f")),"f"),adapter_classPrivateFieldGet(this,c,"m",M).call(this)}destroy(){adapter_classPrivateFieldSet(this,d,null,"f"),adapter_classPrivateFieldSet(this,f,null,"f"),adapter_classPrivateFieldSet(this,p,!1,"f"),adapter_classPrivateFieldSet(this,g,!1,"f");let t=adapter_classPrivateFieldGet(this,y,"f");t&&(adapter_classPrivateFieldSet(this,y,null,"f"),t())}async autoConnect(){return adapter_classPrivateFieldGet(this,c,"m",v).call(this,{silent:!0})}async connect(){return adapter_classPrivateFieldGet(this,c,"m",v).call(this)}async disconnect(){if(tm in adapter_classPrivateFieldGet(this,b,"f").features)try{adapter_classPrivateFieldSet(this,g,!0,"f"),await adapter_classPrivateFieldGet(this,b,"f").features[tm].disconnect()}catch(t){this.emit("error",new Q.UG(t?.message,t))}finally{adapter_classPrivateFieldSet(this,g,!1,"f")}adapter_classPrivateFieldGet(this,c,"m",_).call(this)}async sendTransaction(t,e,r={}){try{var n;let i;let o=adapter_classPrivateFieldGet(this,d,"f");if(!o)throw new Q.oS;if(tl.G in adapter_classPrivateFieldGet(this,b,"f").features){if(o.features.includes(tl.G))i=tl.G;else if(tu.R in adapter_classPrivateFieldGet(this,b,"f").features&&o.features.includes(tu.R))i=tu.R;else throw new Q.cO}else if(tu.R in adapter_classPrivateFieldGet(this,b,"f").features){if(!o.features.includes(tu.R))throw new Q.cO;i=tu.R}else throw new Q.p6;let s=(n=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?tp:/\bdevnet\b/i.test(n)?tg:/\btestnet\b/i.test(n)?ty:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?"solana:localnet":tp;if(!o.chains.includes(s))throw new Q.IW;try{let n;let{signers:a,...l}=r;if(isVersionedTransaction(t)?(a?.length&&t.sign(a),n=t.serialize()):(t=await this.prepareTransaction(t,e,l),a?.length&&t.partialSign(...a),n=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===tl.G){let[t]=await adapter_classPrivateFieldGet(this,b,"f").features[tl.G].signAndSendTransaction({account:o,chain:s,transaction:n,options:{preflightCommitment:getCommitment(l.preflightCommitment||e.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return tb.encode(t.signature)}{let[t]=await adapter_classPrivateFieldGet(this,b,"f").features[tu.R].signTransaction({account:o,chain:s,transaction:n,options:{preflightCommitment:getCommitment(l.preflightCommitment||e.commitment),minContextSlot:l.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...l,preflightCommitment:getCommitment(l.preflightCommitment||e.commitment)})}}catch(t){if(t instanceof Q.lj)throw t;throw new Q.IW(t?.message,t)}}catch(t){throw this.emit("error",t),t}}};d=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,I=new WeakMap,c=new WeakSet,v=async function(t){try{if(this.connected||this.connecting)return;if(adapter_classPrivateFieldGet(this,w,"f")!==Z.i1.Installed)throw new Q.OZ;if(adapter_classPrivateFieldSet(this,p,!0,"f"),!adapter_classPrivateFieldGet(this,b,"f").accounts.length)try{await adapter_classPrivateFieldGet(this,b,"f").features[tc].connect(t)}catch(t){throw new Q.$w(t?.message,t)}let e=adapter_classPrivateFieldGet(this,b,"f").accounts[0];if(!e)throw new Q.cO;adapter_classPrivateFieldGet(this,c,"m",S).call(this,e)}catch(t){throw this.emit("error",t),t}finally{adapter_classPrivateFieldSet(this,p,!1,"f")}},S=function(t){let e;try{e=new Y.PublicKey(t.address)}catch(t){throw new Q.Nx(t?.message,t)}adapter_classPrivateFieldSet(this,d,t,"f"),adapter_classPrivateFieldSet(this,f,e,"f"),adapter_classPrivateFieldGet(this,c,"m",M).call(this),this.emit("connect",e)},_=function(){adapter_classPrivateFieldSet(this,d,null,"f"),adapter_classPrivateFieldSet(this,f,null,"f"),adapter_classPrivateFieldGet(this,c,"m",M).call(this),this.emit("disconnect")},M=function(){let t=tl.G in adapter_classPrivateFieldGet(this,b,"f").features?adapter_classPrivateFieldGet(this,b,"f").features[tl.G].supportedTransactionVersions:adapter_classPrivateFieldGet(this,b,"f").features[tu.R].supportedTransactionVersions;adapter_classPrivateFieldSet(this,m,!function(t,e){if(t===e)return!0;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}(t,["legacy"])?new Set(t):null,"f"),tu.R in adapter_classPrivateFieldGet(this,b,"f").features&&adapter_classPrivateFieldGet(this,d,"f")?.features.includes(tu.R)?(this.signTransaction=adapter_classPrivateFieldGet(this,c,"m",k),this.signAllTransactions=adapter_classPrivateFieldGet(this,c,"m",B)):(delete this.signTransaction,delete this.signAllTransactions),td.g in adapter_classPrivateFieldGet(this,b,"f").features&&adapter_classPrivateFieldGet(this,d,"f")?.features.includes(td.g)?this.signMessage=adapter_classPrivateFieldGet(this,c,"m",A):delete this.signMessage,tf in adapter_classPrivateFieldGet(this,b,"f").features?this.signIn=adapter_classPrivateFieldGet(this,c,"m",N):delete this.signIn},k=async function(t){try{let e=adapter_classPrivateFieldGet(this,d,"f");if(!e)throw new Q.oS;if(!(tu.R in adapter_classPrivateFieldGet(this,b,"f").features))throw new Q.p6;if(!e.features.includes(tu.R))throw new Q.cO;try{let r=await adapter_classPrivateFieldGet(this,b,"f").features[tu.R].signTransaction({account:e,transaction:isVersionedTransaction(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}),n=r[0].signedTransaction;return isVersionedTransaction(t)?Y.VersionedTransaction.deserialize(n):Y.Transaction.from(n)}catch(t){if(t instanceof Q.lj)throw t;throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}},B=async function(t){try{let e=adapter_classPrivateFieldGet(this,d,"f");if(!e)throw new Q.oS;if(!(tu.R in adapter_classPrivateFieldGet(this,b,"f").features))throw new Q.p6;if(!e.features.includes(tu.R))throw new Q.cO;try{let r=await adapter_classPrivateFieldGet(this,b,"f").features[tu.R].signTransaction(...t.map(t=>({account:e,transaction:isVersionedTransaction(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,e)=>{let n=r[e].signedTransaction;return isVersionedTransaction(t)?Y.VersionedTransaction.deserialize(n):Y.Transaction.from(n)})}catch(t){throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}},A=async function(t){try{let e=adapter_classPrivateFieldGet(this,d,"f");if(!e)throw new Q.oS;if(!(td.g in adapter_classPrivateFieldGet(this,b,"f").features))throw new Q.p6;if(!e.features.includes(td.g))throw new Q.cO;try{let r=await adapter_classPrivateFieldGet(this,b,"f").features[td.g].signMessage({account:e,message:t});return r[0].signature}catch(t){throw new Q.fk(t?.message,t)}}catch(t){throw this.emit("error",t),t}},N=async function(t={}){try{let e;if(!(tf in adapter_classPrivateFieldGet(this,b,"f").features))throw new Q.p6;try{[e]=await adapter_classPrivateFieldGet(this,b,"f").features[tf].signIn(t)}catch(t){throw new Q.bD(t?.message,t)}if(!e)throw new Q.bD;return adapter_classPrivateFieldGet(this,c,"m",S).call(this,e.account),e}catch(t){throw this.emit("error",t),t}};var wallets_classPrivateFieldGet=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},wallets_classPrivateFieldSet=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};let tw=new Set,tv={};function register(...t){return(t=t.filter(t=>!tw.has(t))).length?(t.forEach(t=>{i=void 0,tw.add(t)}),tv.register?.forEach(e=>wallets_guard(()=>e(...t))),function(){t.forEach(t=>{i=void 0,tw.delete(t)}),tv.unregister?.forEach(e=>wallets_guard(()=>e(...t)))}):()=>{}}function get(){return i||(i=[...tw]),i}function on(t,e){return tv[t]?.push(e)||(tv[t]=[e]),function(){tv[t]=tv[t]?.filter(t=>e!==t)}}function wallets_guard(t){try{t()}catch(t){console.error(t)}}let AppReadyEvent=class AppReadyEvent extends Event{get detail(){return wallets_classPrivateFieldGet(this,T,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),T.set(this,void 0),wallets_classPrivateFieldSet(this,T,t,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}};function useConstant(t){let e=(0,$.useRef)(void 0);return void 0===e.current&&(e.current={value:t()}),e.current.value}function wrapWalletsWithAdapters(t){return t.filter(isWalletAdapterCompatibleWallet).map(t=>new StandardWalletAdapter({wallet:t}))}T=new WeakMap,(l=x||(x={}))[l.DESKTOP_WEB=0]="DESKTOP_WEB",l[l.MOBILE_WEB=1]="MOBILE_WEB";let WalletNotSelectedError=class WalletNotSelectedError extends Q.lj{constructor(){super(...arguments),this.name="WalletNotSelectedError"}};var tS=r(4306);function WalletProviderBase({children:t,wallets:e,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){let l=(0,$.useRef)(!1),[u,c]=(0,$.useState)(!1),d=(0,$.useRef)(!1),[f,p]=(0,$.useState)(!1),[g,y]=(0,$.useState)(()=>r?.publicKey??null),[m,b]=(0,$.useState)(()=>r?.connected??!1),w=(0,$.useRef)(s);(0,$.useEffect)(()=>(w.current=s,()=>{w.current=void 0}),[s]);let v=(0,$.useRef)((t,e)=>(!n.current&&(w.current?w.current(t,e):(console.error(t,e),t instanceof Q.OZ&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank"))),t)),[S,_]=(0,$.useState)(()=>e.map(t=>({adapter:t,readyState:t.readyState})).filter(({readyState:t})=>t!==Z.i1.Unsupported));(0,$.useEffect)(()=>{function handleReadyStateChange(t){_(e=>{let r=e.findIndex(({adapter:t})=>t===this);if(-1===r)return e;let{adapter:n}=e[r];return[...e.slice(0,r),{adapter:n,readyState:t},...e.slice(r+1)].filter(({readyState:t})=>t!==Z.i1.Unsupported)})}return _(t=>e.map((e,r)=>{let n=t[r];return n&&n.adapter===e&&n.readyState===e.readyState?n:{adapter:e,readyState:e.readyState}}).filter(({readyState:t})=>t!==Z.i1.Unsupported)),e.forEach(t=>t.on("readyStateChange",handleReadyStateChange,t)),()=>{e.forEach(t=>t.off("readyStateChange",handleReadyStateChange,t))}},[r,e]);let M=(0,$.useMemo)(()=>S.find(t=>t.adapter===r)??null,[r,S]);(0,$.useEffect)(()=>{if(!r)return;let handleConnect=t=>{y(t),l.current=!1,c(!1),b(!0),d.current=!1,p(!1)},handleDisconnect=()=>{n.current||(y(null),l.current=!1,c(!1),b(!1),d.current=!1,p(!1))},handleError=t=>{v.current(t,r)};return r.on("connect",handleConnect),r.on("disconnect",handleDisconnect),r.on("error",handleError),()=>{r.off("connect",handleConnect),r.off("disconnect",handleDisconnect),r.off("error",handleError),handleDisconnect()}},[r,n]);let I=(0,$.useRef)(!1);(0,$.useEffect)(()=>()=>{I.current=!1},[r]),(0,$.useEffect)(()=>{I.current||l.current||m||!i||M?.readyState!==Z.i1.Installed&&M?.readyState!==Z.i1.Loadable||(l.current=!0,c(!0),I.current=!0,async function(){try{await i()}catch{o()}finally{c(!1),l.current=!1}}())},[m,i,o,M]);let k=(0,$.useCallback)(async(t,e,n)=>{if(!r)throw v.current(new WalletNotSelectedError);if(!m)throw v.current(new Q.oS,r);return await r.sendTransaction(t,e,n)},[r,m]),B=(0,$.useMemo)(()=>r&&"signTransaction"in r?async t=>{if(!m)throw v.current(new Q.oS,r);return await r.signTransaction(t)}:void 0,[r,m]),A=(0,$.useMemo)(()=>r&&"signAllTransactions"in r?async t=>{if(!m)throw v.current(new Q.oS,r);return await r.signAllTransactions(t)}:void 0,[r,m]),N=(0,$.useMemo)(()=>r&&"signMessage"in r?async t=>{if(!m)throw v.current(new Q.oS,r);return await r.signMessage(t)}:void 0,[r,m]),T=(0,$.useMemo)(()=>r&&"signIn"in r?async t=>await r.signIn(t):void 0,[r]),x=(0,$.useCallback)(async()=>{if(l.current||d.current||M?.adapter.connected)return;if(!M)throw v.current(new WalletNotSelectedError);let{adapter:t,readyState:e}=M;if(!(e===Z.i1.Installed||e===Z.i1.Loadable))throw v.current(new Q.OZ,t);l.current=!0,c(!0);try{await t.connect()}catch(t){throw o(),t}finally{c(!1),l.current=!1}},[o,M]),L=(0,$.useCallback)(async()=>{if(!d.current&&r){d.current=!0,p(!0);try{await r.disconnect()}finally{p(!1),d.current=!1}}},[r]);return $.createElement(tS.z.Provider,{value:{autoConnect:!!i,wallets:S,wallet:M,publicKey:g,connected:m,connecting:u,disconnecting:f,select:a,connect:x,disconnect:L,sendTransaction:k,signTransaction:B,signAllTransactions:A,signMessage:N,signIn:T}},t)}function getIsMobile(t){let e=(void 0===o&&(o=globalThis.navigator?.userAgent??null),o);return function({adapters:t,userAgentString:e}){return t.some(t=>t.name!==ts&&t.readyState===Z.i1.Installed)?x.DESKTOP_WEB:e&&/android/i.test(e)&&!/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)?x.MOBILE_WEB:x.DESKTOP_WEB}({adapters:t,userAgentString:e})===x.MOBILE_WEB}function WalletProvider({children:t,wallets:e,autoConnect:r,localStorageKey:n="walletName",onError:i}){let{connection:o}=(0,J.R)(),a=function(t){let e=useConstant(()=>new Set),{get:r,on:n}=useConstant(()=>(function(){if(s||(s=function(){if(s||(s=Object.freeze({register,get,on}),"undefined"==typeof window))return s;let t=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return s}(),"undefined"==typeof window))return s;let t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),s;let{register:e}=s,push=(...t)=>t.forEach(t=>wallets_guard(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push})})}catch(t){return console.error("window.navigator.wallets could not be set"),s}return push(...t),s})()),[i,o]=(0,$.useState)(()=>wrapWalletsWithAdapters(r()));(0,$.useEffect)(()=>{let t=[n("register",(...t)=>o(e=>[...e,...wrapWalletsWithAdapters(t)])),n("unregister",(...t)=>o(e=>e.filter(e=>t.some(t=>t===e.wallet))))];return()=>t.forEach(t=>t())},[n]);let a=function(t){let e=(0,$.useRef)(void 0);return(0,$.useEffect)(()=>{e.current=t}),e.current}(i);return(0,$.useEffect)(()=>{if(!a)return;let t=new Set(i),e=new Set(a.filter(e=>!t.has(e)));e.forEach(t=>t.destroy())},[a,i]),(0,$.useEffect)(()=>()=>i.forEach(t=>t.destroy()),[]),(0,$.useMemo)(()=>[...i,...t.filter(({name:t})=>!i.some(e=>e.name===t)||(e.has(t)||(e.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1))],[i,t,e])}(e),l=(0,$.useMemo)(()=>{var t;if(!getIsMobile(a))return null;let e=a.find(t=>t.name===ts);return e||new SolanaMobileWalletAdapter({addressSelector:{select(t){return lib_esm_awaiter(this,void 0,void 0,function*(){return t[0]})}},appIdentity:{uri:function(){let t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}()},authorizationResultCache:function(){let t;try{t=window.localStorage}catch(t){}return{clear(){return lib_esm_awaiter(this,void 0,void 0,function*(){if(t)try{t.removeItem(ta)}catch(t){}})},get(){return lib_esm_awaiter(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(ta))||void 0}catch(t){}})},set(e){return lib_esm_awaiter(this,void 0,void 0,function*(){if(t)try{t.setItem(ta,JSON.stringify(e))}catch(t){}})}}}(),cluster:(t=o?.rpcEndpoint)?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta",onWalletNotFound:defaultWalletNotFoundHandler})},[a,o?.rpcEndpoint]),u=(0,$.useMemo)(()=>null==l||-1!==a.indexOf(l)?a:[l,...a],[a,l]),[c,d]=function(t,e){let r=(0,$.useState)(()=>{try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){"undefined"!=typeof window&&console.error(t)}return e}),n=r[0],i=(0,$.useRef)(!0);return(0,$.useEffect)(()=>{if(i.current){i.current=!1;return}try{null===n?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))}catch(t){"undefined"!=typeof window&&console.error(t)}},[n,t]),r}(n,getIsMobile(a)?ts:null),f=(0,$.useMemo)(()=>u.find(t=>t.name===c)??null,[u,c]),p=(0,$.useCallback)(t=>{c!==t&&(f&&f.name!==ts&&f.disconnect(),d(t))},[f,d,c]);(0,$.useEffect)(()=>{if(f)return f.on("disconnect",handleDisconnect),()=>{f.off("disconnect",handleDisconnect)};function handleDisconnect(){!m.current&&(c===ts&&getIsMobile(a)||d(null))}},[f,a,d,c]);let g=(0,$.useRef)(!1),y=(0,$.useMemo)(()=>{if(r&&f)return async()=>{(!0===r||await r(f))&&(g.current?await f.connect():await f.autoConnect())}},[r,f]),m=(0,$.useRef)(!1);(0,$.useEffect)(()=>{if(c===ts&&getIsMobile(a)){m.current=!1;return}function handleBeforeUnload(){m.current=!0}return window.addEventListener("beforeunload",handleBeforeUnload),()=>{window.removeEventListener("beforeunload",handleBeforeUnload)}},[a,c]);let b=(0,$.useCallback)(()=>{f&&f.name!==ts&&p(null)},[f,p]),w=(0,$.useCallback)(t=>{g.current=!0,p(t)},[p]);return $.createElement(WalletProviderBase,{wallets:u,adapter:f,isUnloadingRef:m,onAutoConnectRequest:y,onConnectError:b,onError:i,onSelectWallet:w},t)}var t_=r(544);let PhantomWalletAdapter=class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?Z.i1.Unsupported:Z.i1.NotDetected,this._disconnected=()=>{let t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Q.at),this.emit("disconnect"))},this._accountChanged=t=>{let e=this._publicKey;if(e){try{t=new Y.PublicKey(t.toBytes())}catch(t){this.emit("error",new Q.Nx(t?.message,t));return}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Z.i1.Unsupported&&((0,Z.H)()?(this._readyState=Z.i1.Loadable,this.emit("readyStateChange",this._readyState)):(0,Z.su)(()=>!!(window.phantom?.solana?.isPhantom||window.solana?.isPhantom)&&(this._readyState=Z.i1.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Z.i1.Installed&&await this.connect()}async connect(){try{let t;if(this.connected||this.connecting)return;if(this.readyState===Z.i1.Loadable){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`;return}if(this.readyState!==Z.i1.Installed)throw new Q.OZ;this._connecting=!0;let e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(t){throw new Q.$w(t?.message,t)}if(!e.publicKey)throw new Q.cO;try{t=new Y.PublicKey(e.publicKey.toBytes())}catch(t){throw new Q.Nx(t?.message,t)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){let t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(t){this.emit("error",new Q.UG(t?.message,t))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{let n=this._wallet;if(!n)throw new Q.oS;try{let{signers:i,...o}=r;isVersionedTransaction(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;let{signature:s}=await n.signAndSendTransaction(t,o);return s}catch(t){if(t instanceof Q.lj)throw t;throw new Q.IW(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signTransaction(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{return await e.signTransaction(t)||t}catch(t){throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{return await e.signAllTransactions(t)||t}catch(t){throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{let{signature:r}=await e.signMessage(t);return r}catch(t){throw new Q.fk(t?.message,t)}}catch(t){throw this.emit("error",t),t}}};var register_classPrivateFieldGet=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},register_classPrivateFieldSet=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};let RegisterWalletEvent=class RegisterWalletEvent extends Event{get detail(){return register_classPrivateFieldGet(this,L,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),L.set(this,void 0),register_classPrivateFieldSet(this,L,t,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}};L=new WeakMap;var wallet_classPrivateFieldGet=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},wallet_classPrivateFieldSet=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};let SolflareMetaMaskWallet=class SolflareMetaMaskWallet{constructor(){P.add(this),R.set(this,{}),C.set(this,"1.0.0"),O.set(this,"MetaMask"),j.set(this,"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4="),D.set(this,null),z.set(this,(t,e)=>(wallet_classPrivateFieldGet(this,R,"f")[t]?.push(e)||(wallet_classPrivateFieldGet(this,R,"f")[t]=[e]),()=>wallet_classPrivateFieldGet(this,P,"m",W).call(this,t,e))),K.set(this,async()=>{if(!wallet_classPrivateFieldGet(this,D,"f")){let t;try{t=(await r.e(525).then(r.bind(r,9525))).default}catch(t){throw Error("Unable to load Solflare MetaMask SDK")}wallet_classPrivateFieldSet(this,D,new t,"f"),wallet_classPrivateFieldGet(this,D,"f").on("standard_change",t=>wallet_classPrivateFieldGet(this,P,"m",U).call(this,"change",t))}return this.accounts.length||await wallet_classPrivateFieldGet(this,D,"f").connect(),{accounts:this.accounts}}),F.set(this,async()=>{wallet_classPrivateFieldGet(this,D,"f")&&await wallet_classPrivateFieldGet(this,D,"f").disconnect()}),H.set(this,async(...t)=>{if(!wallet_classPrivateFieldGet(this,D,"f"))throw new Q.oS;return await wallet_classPrivateFieldGet(this,D,"f").standardSignAndSendTransaction(...t)}),q.set(this,async(...t)=>{if(!wallet_classPrivateFieldGet(this,D,"f"))throw new Q.oS;return await wallet_classPrivateFieldGet(this,D,"f").standardSignTransaction(...t)}),V.set(this,async(...t)=>{if(!wallet_classPrivateFieldGet(this,D,"f"))throw new Q.oS;return await wallet_classPrivateFieldGet(this,D,"f").standardSignMessage(...t)})}get version(){return wallet_classPrivateFieldGet(this,C,"f")}get name(){return wallet_classPrivateFieldGet(this,O,"f")}get icon(){return wallet_classPrivateFieldGet(this,j,"f")}get chains(){return[tp,tg,ty]}get features(){return{[tc]:{version:"1.0.0",connect:wallet_classPrivateFieldGet(this,K,"f")},[tm]:{version:"1.0.0",disconnect:wallet_classPrivateFieldGet(this,F,"f")},[th]:{version:"1.0.0",on:wallet_classPrivateFieldGet(this,z,"f")},[tl.G]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:wallet_classPrivateFieldGet(this,H,"f")},[tu.R]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:wallet_classPrivateFieldGet(this,q,"f")},[td.g]:{version:"1.0.0",signMessage:wallet_classPrivateFieldGet(this,V,"f")}}}get accounts(){return wallet_classPrivateFieldGet(this,D,"f")?wallet_classPrivateFieldGet(this,D,"f").standardAccounts:[]}};R=new WeakMap,C=new WeakMap,O=new WeakMap,j=new WeakMap,D=new WeakMap,z=new WeakMap,K=new WeakMap,F=new WeakMap,H=new WeakMap,q=new WeakMap,V=new WeakMap,P=new WeakSet,U=function(t,...e){wallet_classPrivateFieldGet(this,R,"f")[t]?.forEach(t=>t.apply(null,e))},W=function(t,e){wallet_classPrivateFieldGet(this,R,"f")[t]=wallet_classPrivateFieldGet(this,R,"f")[t]?.filter(t=>e!==t)};let tE=!1;async function detectAndRegisterSolflareMetaMaskWallet(){let t="solflare-detect-metamask";function postMessage(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function onMessage(e){let r=e.data;r?.target==="metamask-inpage"&&r.data?.name==="metamask-provider"&&(r.data.data?.id===t?(window.removeEventListener("message",onMessage),!r.data.data.error&&(tE||(function(t){let callback=({register:e})=>e(t);try{window.dispatchEvent(new RegisterWalletEvent(callback))}catch(t){console.error("wallet-standard:register-wallet event could not be dispatched\n",t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>callback(t))}catch(t){console.error("wallet-standard:app-ready event listener could not be added\n",t)}}(new SolflareMetaMaskWallet),tE=!0))):postMessage())}window.addEventListener("message",onMessage),window.setTimeout(()=>window.removeEventListener("message",onMessage),5e3),postMessage()}let SolflareWalletAdapter=class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(t={}){super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?Z.i1.Unsupported:Z.i1.Loadable,this._disconnected=()=>{let t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Q.at),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;let e=this._publicKey;if(e){try{t=new Y.PublicKey(t.toBytes())}catch(t){this.emit("error",new Q.Nx(t?.message,t));return}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==Z.i1.Unsupported&&((0,Z.su)(()=>(!!window.solflare?.isSolflare||!!window.SolflareApp)&&(this._readyState=Z.i1.Installed,this.emit("readyStateChange",this._readyState),!0)),detectAndRegisterSolflareMetaMaskWallet())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===Z.i1.Loadable&&(0,Z.H)()||await this.connect()}async connect(){try{let t,e,n;if(this.connected||this.connecting)return;if(this._readyState!==Z.i1.Loadable&&this._readyState!==Z.i1.Installed)throw new Q.OZ;if(this.readyState===Z.i1.Loadable&&(0,Z.H)()){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${t}?ref=${e}`;return}try{t=(await r.e(119).then(r.bind(r,119))).default}catch(t){throw new Q.W8(t?.message,t)}try{e=new t({network:this._config.network})}catch(t){throw new Q.p6(t?.message,t)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(t){throw new Q.$w(t?.message,t)}if(!e.publicKey)throw new Q.$w;try{n=new Y.PublicKey(e.publicKey.toBytes())}catch(t){throw new Q.Nx(t?.message,t)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){let t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(t){this.emit("error",new Q.UG(t?.message,t))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{let n=this._wallet;if(!n)throw new Q.oS;try{let{signers:i,...o}=r;return isVersionedTransaction(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment,await n.signAndSendTransaction(t,o)}catch(t){if(t instanceof Q.lj)throw t;throw new Q.IW(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signTransaction(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{return await e.signTransaction(t)||t}catch(t){throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{return await e.signAllTransactions(t)||t}catch(t){throw new Q.PY(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(t){try{let e=this._wallet;if(!e)throw new Q.oS;try{return await e.signMessage(t,"utf8")}catch(t){throw new Q.fk(t?.message,t)}}catch(t){throw this.emit("error",t),t}}};function MyApp(t){let{Component:e,pageProps:r}=t,n=u.Devnet,i=(0,$.useMemo)(()=>(0,Y.clusterApiUrl)(n),[n]),o=(0,$.useMemo)(()=>[new PhantomWalletAdapter,new SolflareWalletAdapter({network:n})],[n]);return(0,G.jsx)(ConnectionProvider,{endpoint:i,children:(0,G.jsx)(WalletProvider,{wallets:o,autoConnect:!0,children:(0,G.jsx)(t_.s,{children:(0,G.jsx)(e,{...r})})})})}r(8588),r(415)},8588:function(){},415:function(){},2592:function(t,e,r){let n=r(7138),i=r(5115),o=r(6907),s=r(3776);function renderCanvas(t,e,r,o,s){let a=[].slice.call(arguments,1),l=a.length,u="function"==typeof a[l-1];if(!u&&!n())throw Error("Callback required as last argument");if(u){if(l<2)throw Error("Too few arguments provided");2===l?(s=r,r=e,e=o=void 0):3===l&&(e.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=r,r=e,e=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(r=e,e=o=void 0):2!==l||e.getContext||(o=r,r=e,e=void 0),new Promise(function(n,s){try{let s=i.create(r,o);n(t(s,e,o))}catch(t){s(t)}})}try{let n=i.create(r,o);s(null,t(n,e,o))}catch(t){s(t)}}e.create=i.create,e.toCanvas=renderCanvas.bind(null,o.render),e.toDataURL=renderCanvas.bind(null,o.renderToDataURL),e.toString=renderCanvas.bind(null,function(t,e,r){return s.render(t,r)})},7138:function(t){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1845:function(t,e,r){let n=r(242).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];let e=Math.floor(t/7)+2,r=n(t),i=145===r?26:2*Math.ceil((r-13)/(2*e-2)),o=[r-7];for(let t=1;t<e-1;t++)o[t]=o[t-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){let r=[],n=e.getRowColCoords(t),i=n.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)(0!==t||0!==e)&&(0!==t||e!==i-1)&&(t!==i-1||0!==e)&&r.push([n[t],n[e]]);return r}},8260:function(t,e,r){let n=r(6910),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(t){this.mode=n.ALPHANUMERIC,this.data=t}AlphanumericData.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},AlphanumericData.prototype.getLength=function(){return this.data.length},AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=45*i.indexOf(this.data[e]);r+=i.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=AlphanumericData},7245:function(t){function BitBuffer(){this.buffer=[],this.length=0}BitBuffer.prototype={get:function(t){return(this.buffer[Math.floor(t/8)]>>>7-t%8&1)==1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=BitBuffer},3280:function(t){function BitMatrix(t){if(!t||t<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}BitMatrix.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},BitMatrix.prototype.get=function(t,e){return this.data[t*this.size+e]},BitMatrix.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},BitMatrix.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=BitMatrix},3424:function(t,e,r){let n=r(6910);function ByteData(t){this.mode=n.BYTE,"string"==typeof t?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}ByteData.getBitsLength=function(t){return 8*t},ByteData.prototype.getLength=function(){return this.data.length},ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},t.exports=ByteData},5393:function(t,e,r){let n=r(4908),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return i[(t-1)*4+0];case n.M:return i[(t-1)*4+1];case n.Q:return i[(t-1)*4+2];case n.H:return i[(t-1)*4+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return o[(t-1)*4+0];case n.M:return o[(t-1)*4+1];case n.Q:return o[(t-1)*4+2];case n.H:return o[(t-1)*4+3];default:return}}},4908:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");let r=t.toLowerCase();switch(r){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}},6526:function(t,e,r){let n=r(242).getSymbolSize;e.getPositions=function(t){let e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},1642:function(t,e,r){let n=r(242),i=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){let r=t.bit<<3|e,o=r<<10;for(;n.getBCHDigit(o)-i>=0;)o^=1335<<n.getBCHDigit(o)-i;return(r<<10|o)^21522}},9729:function(t,e){let r=new Uint8Array(512),n=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)r[e]=t,n[t]=e,256&(t<<=1)&&(t^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),e.log=function(t){if(t<1)throw Error("log("+t+")");return n[t]},e.exp=function(t){return r[t]},e.mul=function(t,e){return 0===t||0===e?0:r[n[t]+n[e]]}},5442:function(t,e,r){let n=r(6910),i=r(242);function KanjiData(t){this.mode=n.KANJI,this.data=t}KanjiData.getBitsLength=function(t){return 13*t},KanjiData.prototype.getLength=function(){return this.data.length},KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=i.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),t.put(r,13)}},t.exports=KanjiData},7126:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let r={N1:3,N2:3,N3:40,N4:10};e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){let e=t.size,n=0,i=0,o=0,s=null,a=null;for(let l=0;l<e;l++){i=o=0,s=a=null;for(let u=0;u<e;u++){let e=t.get(l,u);e===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=e,i=1),(e=t.get(u,l))===a?o++:(o>=5&&(n+=r.N1+(o-5)),a=e,o=1)}i>=5&&(n+=r.N1+(i-5)),o>=5&&(n+=r.N1+(o-5))}return n},e.getPenaltyN2=function(t){let e=t.size,n=0;for(let r=0;r<e-1;r++)for(let i=0;i<e-1;i++){let e=t.get(r,i)+t.get(r,i+1)+t.get(r+1,i)+t.get(r+1,i+1);(4===e||0===e)&&n++}return n*r.N2},e.getPenaltyN3=function(t){let e=t.size,n=0,i=0,o=0;for(let r=0;r<e;r++){i=o=0;for(let s=0;s<e;s++)i=i<<1&2047|t.get(r,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|t.get(s,r),s>=10&&(1488===o||93===o)&&n++}return n*r.N3},e.getPenaltyN4=function(t){let e=0,n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];let i=Math.abs(Math.ceil(100*e/n/5)-10);return i*r.N4},e.applyMask=function(t,r){let n=r.size;for(let i=0;i<n;i++)for(let o=0;o<n;o++)r.isReserved(o,i)||r.xor(o,i,function(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw Error("bad maskPattern:"+t)}}(t,o,i))},e.getBestMask=function(t,r){let n=Object.keys(e.Patterns).length,i=0,o=1/0;for(let s=0;s<n;s++){r(s),e.applyMask(s,t);let n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),n<o&&(o=n,i=s)}return i}},6910:function(t,e,r){let n=r(3114),i=r(7116);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw Error("Invalid mode: "+t);if(!n.isValid(e))throw Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");let r=t.toLowerCase();switch(r){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw Error("Unknown mode: "+t)}}(t)}catch(t){return r}}},1085:function(t,e,r){let n=r(6910);function NumericData(t){this.mode=n.NUMERIC,this.data=t.toString()}NumericData.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},NumericData.prototype.getLength=function(){return this.data.length},NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function(t){let e,r;for(e=0;e+3<=this.data.length;e+=3)r=parseInt(this.data.substr(e,3),10),t.put(r,10);let n=this.data.length-e;n>0&&(r=parseInt(this.data.substr(e),10),t.put(r,3*n+1))},t.exports=NumericData},6143:function(t,e,r){let n=r(9729);e.mul=function(t,e){let r=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)r[i+o]^=n.mul(t[i],e[o]);return r},e.mod=function(t,e){let r=new Uint8Array(t);for(;r.length-e.length>=0;){let t=r[0];for(let i=0;i<e.length;i++)r[i]^=n.mul(e[i],t);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let i=0;i<t;i++)r=e.mul(r,new Uint8Array([1,n.exp(i)]));return r}},5115:function(t,e,r){let n=r(242),i=r(4908),o=r(7245),s=r(3280),a=r(1845),l=r(6526),u=r(7126),c=r(5393),d=r(2882),f=r(3103),p=r(1642),g=r(6910),y=r(6130);function setupFormatInfo(t,e,r){let n,i;let o=t.size,s=p.getEncodedBits(e,r);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?t.set(n,8,i,!0):n<8?t.set(n+1,8,i,!0):t.set(o-15+n,8,i,!0),n<8?t.set(8,o-n-1,i,!0):n<9?t.set(8,15-n-1+1,i,!0):t.set(8,15-n-1,i,!0);t.set(o-8,8,1,!0)}e.create=function(t,e){let r,p;if(void 0===t||""===t)throw Error("No input text");let m=i.M;return void 0!==e&&(m=i.from(e.errorCorrectionLevel,i.M),r=f.from(e.version),p=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),function(t,e,r,i){let p;if(Array.isArray(t))p=y.fromArray(t);else if("string"==typeof t){let n=e;if(!n){let e=y.rawSplit(t);n=f.getBestVersionForData(e,r)}p=y.fromString(t,n||40)}else throw Error("Invalid data");let m=f.getBestVersionForData(p,r);if(!m)throw Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<m)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+m+".\n")}else e=m;let b=function(t,e,r){let i=new o;r.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(i)});let s=n.getSymbolTotalCodewords(t),a=c.getTotalCodewordsCount(t,e),l=(s-a)*8;for(i.getLengthInBits()+4<=l&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let u=(l-i.getLengthInBits())/8;for(let t=0;t<u;t++)i.put(t%2?17:236,8);return function(t,e,r){let i,o;let s=n.getSymbolTotalCodewords(e),a=c.getTotalCodewordsCount(e,r),l=s-a,u=c.getBlocksCount(e,r),f=s%u,p=u-f,g=Math.floor(s/u),y=Math.floor(l/u),m=y+1,b=g-y,w=new d(b),v=0,S=Array(u),_=Array(u),M=0,I=new Uint8Array(t.buffer);for(let t=0;t<u;t++){let e=t<p?y:m;S[t]=I.slice(v,v+e),_[t]=w.encode(S[t]),v+=e,M=Math.max(M,e)}let k=new Uint8Array(s),B=0;for(i=0;i<M;i++)for(o=0;o<u;o++)i<S[o].length&&(k[B++]=S[o][i]);for(i=0;i<b;i++)for(o=0;o<u;o++)k[B++]=_[o][i];return k}(i,t,e)}(e,r,p),w=n.getSymbolSize(e),v=new s(w);return function(t,e){let r=t.size,n=l.getPositions(e);for(let e=0;e<n.length;e++){let i=n[e][0],o=n[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1)&&!(r<=i+e))for(let n=-1;n<=7;n++)o+n<=-1||r<=o+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(i+e,o+n,!0,!0):t.set(i+e,o+n,!1,!0))}}(v,e),function(t){let e=t.size;for(let r=8;r<e-8;r++){let e=r%2==0;t.set(r,6,e,!0),t.set(6,r,e,!0)}}(v),function(t,e){let r=a.getPositions(e);for(let e=0;e<r.length;e++){let n=r[e][0],i=r[e][1];for(let e=-2;e<=2;e++)for(let r=-2;r<=2;r++)-2===e||2===e||-2===r||2===r||0===e&&0===r?t.set(n+e,i+r,!0,!0):t.set(n+e,i+r,!1,!0)}}(v,e),setupFormatInfo(v,r,0),e>=7&&function(t,e){let r,n,i;let o=t.size,s=f.getEncodedBits(e);for(let e=0;e<18;e++)r=Math.floor(e/3),n=e%3+o-8-3,i=(s>>e&1)==1,t.set(r,n,i,!0),t.set(n,r,i,!0)}(v,e),function(t,e){let r=t.size,n=-1,i=r-1,o=7,s=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!t.isReserved(i,a-r)){let n=!1;s<e.length&&(n=(e[s]>>>o&1)==1),t.set(i,a-r,n),-1==--o&&(s++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(v,b),isNaN(i)&&(i=u.getBestMask(v,setupFormatInfo.bind(null,v,r))),u.applyMask(i,v),setupFormatInfo(v,r,i),{modules:v,version:e,errorCorrectionLevel:r,maskPattern:i,segments:p}}(t,r,m,p)}},2882:function(t,e,r){let n=r(6143);function ReedSolomonEncoder(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},ReedSolomonEncoder.prototype.encode=function(t){if(!this.genPoly)throw Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let r=n.mod(e,this.genPoly),i=this.degree-r.length;if(i>0){let t=new Uint8Array(this.degree);return t.set(r,i),t}return r},t.exports=ReedSolomonEncoder},7116:function(t,e){let r="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");let i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=RegExp(n,"g"),e.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=RegExp(i,"g"),e.NUMERIC=RegExp(r,"g"),e.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let o=RegExp("^"+n+"$"),s=RegExp("^"+r+"$"),a=RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return s.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},6130:function(t,e,r){let n=r(6910),i=r(1085),o=r(8260),s=r(3424),a=r(5442),l=r(7116),u=r(242),c=r(5987);function getStringByteLength(t){return unescape(encodeURIComponent(t)).length}function getSegments(t,e,r){let n;let i=[];for(;null!==(n=t.exec(r));)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function getSegmentsFromString(t){let e,r;let i=getSegments(l.NUMERIC,n.NUMERIC,t),o=getSegments(l.ALPHANUMERIC,n.ALPHANUMERIC,t);u.isKanjiModeEnabled()?(e=getSegments(l.BYTE,n.BYTE,t),r=getSegments(l.KANJI,n.KANJI,t)):(e=getSegments(l.BYTE_KANJI,n.BYTE,t),r=[]);let s=i.concat(o,e,r);return s.sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function getSegmentBitsLength(t,e){switch(e){case n.NUMERIC:return i.getBitsLength(t);case n.ALPHANUMERIC:return o.getBitsLength(t);case n.KANJI:return a.getBitsLength(t);case n.BYTE:return s.getBitsLength(t)}}function buildSingleSegment(t,e){let r;let l=n.getBestModeForData(t);if((r=n.from(e,l))!==n.BYTE&&r.bit<l.bit)throw Error('"'+t+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(t);case n.ALPHANUMERIC:return new o(t);case n.KANJI:return new a(t);case n.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(buildSingleSegment(e,null)):e.data&&t.push(buildSingleSegment(e.data,e.mode)),t},[])},e.fromString=function(t,r){let i=getSegmentsFromString(t,u.isKanjiModeEnabled()),o=function(t){let e=[];for(let r=0;r<t.length;r++){let i=t[r];switch(i.mode){case n.NUMERIC:e.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:e.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:e.push([i,{data:i.data,mode:n.BYTE,length:getStringByteLength(i.data)}]);break;case n.BYTE:e.push([{data:i.data,mode:n.BYTE,length:getStringByteLength(i.data)}])}}return e}(i),s=function(t,e){let r={},i={start:{}},o=["start"];for(let s=0;s<t.length;s++){let a=t[s],l=[];for(let t=0;t<a.length;t++){let u=a[t],c=""+s+t;l.push(c),r[c]={node:u,lastCount:0},i[c]={};for(let t=0;t<o.length;t++){let s=o[t];r[s]&&r[s].node.mode===u.mode?(i[s][c]=getSegmentBitsLength(r[s].lastCount+u.length,u.mode)-getSegmentBitsLength(r[s].lastCount,u.mode),r[s].lastCount+=u.length):(r[s]&&(r[s].lastCount=u.length),i[s][c]=getSegmentBitsLength(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,e))}}o=l}for(let t=0;t<o.length;t++)i[o[t]].end=0;return{map:i,table:r}}(o,r),a=c.find_path(s.map,"start","end"),l=[];for(let t=1;t<a.length-1;t++)l.push(s.table[a[t]].node);return e.fromArray(l.reduce(function(t,e){let r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},e.rawSplit=function(t){return e.fromArray(getSegmentsFromString(t,u.isKanjiModeEnabled()))}},242:function(t,e){let r;let n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw Error('"version" cannot be null or undefined');if(t<1||t>40)throw Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw Error('"toSJISFunc" is not a valid function.');r=t},e.isKanjiModeEnabled=function(){return void 0!==r},e.toSJIS=function(t){return r(t)}},3114:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},3103:function(t,e,r){let n=r(242),i=r(5393),o=r(4908),s=r(6910),a=r(3114),l=n.getBCHDigit(7973);function getReservedBitsCount(t,e){return s.getCharCountIndicator(t,e)+4}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!a.isValid(t))throw Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);let o=n.getSymbolTotalCodewords(t),l=i.getTotalCodewordsCount(t,e),u=(o-l)*8;if(r===s.MIXED)return u;let c=u-getReservedBitsCount(r,t);switch(r){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){let n;let i=o.from(r,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++){let i=function(t,e){let r=0;return t.forEach(function(t){let n=getReservedBitsCount(t.mode,e);r+=n+t.getBitsLength()}),r}(t,n);if(i<=e.getCapacity(n,r,s.MIXED))return n}}(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw Error("Invalid QR Code version");let e=t<<12;for(;n.getBCHDigit(e)-l>=0;)e^=7973<<n.getBCHDigit(e)-l;return t<<12|e}},6907:function(t,e,r){let n=r(9653);e.render=function(t,e,r){var i;let o=r,s=e;void 0!==o||e&&e.getContext||(o=e,e=void 0),e||(s=function(){try{return document.createElement("canvas")}catch(t){throw Error("You need to specify a canvas element")}}()),o=n.getOptions(o);let a=n.getImageWidth(t.modules.size,o),l=s.getContext("2d"),u=l.createImageData(a,a);return n.qrToImageData(u.data,t,o),i=s,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",l.putImageData(u,0,0),s},e.renderToDataURL=function(t,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});let o=e.render(t,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},3776:function(t,e,r){let n=r(9653);function getColorAttrib(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function svgCmd(t,e,r){let n=t+e;return void 0!==r&&(n+=" "+r),n}e.render=function(t,e,r){let i=n.getOptions(e),o=t.modules.size,s=t.modules.data,a=o+2*i.margin,l=i.color.light.a?"<path "+getColorAttrib(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+getColorAttrib(i.color.dark,"stroke")+' d="'+function(t,e,r){let n="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){let l=Math.floor(a%e),u=Math.floor(a/e);l||o||(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(n+=o?svgCmd("M",l+r,.5+u+r):svgCmd("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(n+=svgCmd("h",s),s=0)):i++}return n}(s,o,i.margin)+'"/>',c=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",d='<svg xmlns="http://www.w3.org/2000/svg" '+c+('viewBox="0 0 '+a)+" "+a+'" shape-rendering="crispEdges">'+l+u+"</svg>\n";return"function"==typeof r&&r(null,d),d}},9653:function(t,e){function hex2rgba(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw Error("Invalid hex color: "+t);(3===e.length||4===e.length)&&(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,n=t.scale||4;return{width:r,scale:r?4:n,margin:e,color:{dark:hex2rgba(t.color.dark||"#000000ff"),light:hex2rgba(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){let n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){let i=r.modules.size,o=r.modules.data,s=e.getScale(i,n),a=Math.floor((i+2*n.margin)*s),l=n.margin*s,u=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let c=(e*a+r)*4,d=n.color.light;if(e>=l&&r>=l&&e<a-l&&r<a-l){let t=Math.floor((e-l)/s),n=Math.floor((r-l)/s);d=u[o[t*i+n]?1:0]}t[c++]=d.r,t[c++]=d.g,t[c++]=d.b,t[c]=d.a}}},4790:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function Events(){}function EE(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function addListener(t,e,n,i,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new EE(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function clearEvent(t,e){0==--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(r=!1)),EventEmitter.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},EventEmitter.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=Array(o);i<o;i++)s[i]=n[i].fn;return s},EventEmitter.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},EventEmitter.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(u=1,l=Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,i);break;default:if(!l)for(f=1,l=Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},EventEmitter.prototype.on=function(t,e,r){return addListener(this,t,e,r,!1)},EventEmitter.prototype.once=function(t,e,r){return addListener(this,t,e,r,!0)},EventEmitter.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return clearEvent(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||clearEvent(this,o);else{for(var a=0,l=[],u=s.length;a<u;a++)(s[a].fn!==e||i&&!s[a].once||n&&s[a].context!==n)&&l.push(s[a]);l.length?this._events[o]=1===l.length?l[0]:l:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=r,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},9509:function(t,e,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r(8764),i=n.Buffer;function copyProps(t,e){for(var r in t)e[r]=t[r]}function SafeBuffer(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(copyProps(n,e),e.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(i.prototype),copyProps(i,SafeBuffer),SafeBuffer.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return i(t,e,r)},SafeBuffer.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},SafeBuffer.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return i(t)},SafeBuffer.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},4880:function(t,e,r){"use strict";r.d(e,{v4:function(){return esm_browser_v4}});for(var n,i=new Uint8Array(16),o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=[],a=0;a<256;++a)s.push((a+256).toString(16).substr(1));var esm_browser_stringify=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!("string"==typeof r&&o.test(r)))throw TypeError("Stringified UUID is invalid");return r},esm_browser_v4=function(t,e,r){var o=(t=t||{}).random||(t.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=o[s];return e}return esm_browser_stringify(o)}},6601:function(){},9607:function(t,e,r){"use strict";r.d(e,{H:function(){return isIosAndRedirectable},i1:function(){return i},mI:function(){return BaseWalletAdapter},su:function(){return scopePollingDetectionStrategy}});var n,i,o=r(6729),s=r(5615);(n=i||(i={})).Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported";let BaseWalletAdapter=class BaseWalletAdapter extends o{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){let n=this.publicKey;if(!n)throw new s.oS;return t.feePayer=t.feePayer||n,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}};function scopePollingDetectionStrategy(t){if("undefined"==typeof window||"undefined"==typeof document)return;let e=[];function detectAndDispose(){let r=t();if(r)for(let t of e)t()}let r=setInterval(detectAndDispose,1e3);e.push(()=>clearInterval(r)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",detectAndDispose,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",detectAndDispose))),"complete"!==document.readyState&&(window.addEventListener("load",detectAndDispose,{once:!0}),e.push(()=>window.removeEventListener("load",detectAndDispose))),detectAndDispose()}function isIosAndRedirectable(){if(!navigator)return!1;let t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}},5615:function(t,e,r){"use strict";r.d(e,{$w:function(){return WalletConnectionError},IW:function(){return WalletSendTransactionError},Nx:function(){return WalletPublicKeyError},OZ:function(){return WalletNotReadyError},PY:function(){return WalletSignTransactionError},UG:function(){return WalletDisconnectionError},W8:function(){return WalletLoadError},at:function(){return WalletDisconnectedError},bD:function(){return WalletSignInError},cO:function(){return WalletAccountError},fk:function(){return WalletSignMessageError},lj:function(){return WalletError},oS:function(){return WalletNotConnectedError},p6:function(){return WalletConfigError}});let WalletError=class WalletError extends Error{constructor(t,e){super(t),this.error=e}};let WalletNotReadyError=class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}};let WalletLoadError=class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}};let WalletConfigError=class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}};let WalletConnectionError=class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}};let WalletDisconnectedError=class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}};let WalletDisconnectionError=class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}};let WalletAccountError=class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}};let WalletPublicKeyError=class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}};let WalletNotConnectedError=class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}};let WalletSendTransactionError=class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}};let WalletSignTransactionError=class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};let WalletSignMessageError=class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}};let WalletSignInError=class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}}},5664:function(t,e,r){"use strict";r.d(e,{z:function(){return Button}});var n=r(7294);let Button=t=>n.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&n.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&n.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon))},6581:function(t,e,r){"use strict";r.d(e,{o:function(){return WalletIcon}});var n=r(7294);let WalletIcon=({wallet:t,...e})=>t&&n.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e})},5127:function(t,e,r){"use strict";r.d(e,{x:function(){return WalletModal}});var n=r(9607),i=r(4306),o=r(7294),s=r(3935);let Collapse=({id:t,children:e,expanded:r=!1})=>{let n=(0,o.useRef)(null),i=(0,o.useRef)(!0),openCollapse=()=>{let t=n.current;t&&requestAnimationFrame(()=>{t.style.height=t.scrollHeight+"px"})},closeCollapse=()=>{let t=n.current;t&&requestAnimationFrame(()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame(()=>{t.style.height="0"})})};return(0,o.useLayoutEffect)(()=>{r?openCollapse():closeCollapse()},[r]),(0,o.useLayoutEffect)(()=>{let t=n.current;if(t)return i.current&&(handleComplete(),i.current=!1),t.addEventListener("transitionend",handleTransitionEnd),()=>t.removeEventListener("transitionend",handleTransitionEnd);function handleComplete(){t&&(t.style.overflow=r?"initial":"hidden",r&&(t.style.height="auto"))}function handleTransitionEnd(e){t&&e.target===t&&"height"===e.propertyName&&handleComplete()}},[r]),o.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:n,role:"region",style:{height:0,transition:i.current?void 0:"height 250ms ease-out"}},e)};var a=r(5664),l=r(6581);let WalletListItem=({handleClick:t,tabIndex:e,wallet:r})=>o.createElement("li",null,o.createElement(a.z,{onClick:t,startIcon:o.createElement(l.o,{wallet:r}),tabIndex:e},r.adapter.name,r.readyState===n.i1.Installed&&o.createElement("span",null,"Detected"))),WalletSVG=()=>o.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),o.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),o.createElement("g",{clipPath:"url(#clip0_880_5115)"},o.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),o.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#9945FF"}),o.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),o.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),o.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),o.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),o.createElement("stop",{offset:"1",stopColor:"#00D18C"})),o.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#9945FF"}),o.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),o.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),o.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),o.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),o.createElement("stop",{offset:"1",stopColor:"#00D18C"})),o.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#9945FF"}),o.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),o.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),o.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),o.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),o.createElement("stop",{offset:"1",stopColor:"#00D18C"})),o.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#9945FF"}),o.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),o.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),o.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),o.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),o.createElement("stop",{offset:"1",stopColor:"#00D18C"})),o.createElement("clipPath",{id:"clip0_880_5115"},o.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"}))));var u=r(3495);let WalletModal=({className:t="",container:e="body"})=>{let r=(0,o.useRef)(null),{wallets:a,select:l}=(0,i.O)(),{setVisible:c}=(0,u.h)(),[d,f]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[y,m]=(0,o.useState)(null),[b,w]=(0,o.useMemo)(()=>{let t=[],e=[];for(let r of a)r.readyState===n.i1.Installed?t.push(r):e.push(r);return t.length?[t,e]:[e,[]]},[a]),v=(0,o.useCallback)(()=>{g(!1),setTimeout(()=>c(!1),150)},[c]),S=(0,o.useCallback)(t=>{t.preventDefault(),v()},[v]),_=(0,o.useCallback)((t,e)=>{l(e),S(t)},[l,S]),M=(0,o.useCallback)(()=>f(!d),[d]),I=(0,o.useCallback)(t=>{let e=r.current;if(!e)return;let n=e.querySelectorAll("button"),i=n[0],o=n[n.length-1];t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault())},[r]);return(0,o.useLayoutEffect)(()=>{let handleKeyDown=t=>{"Escape"===t.key?v():"Tab"===t.key&&I(t)},{overflow:t}=window.getComputedStyle(document.body);return setTimeout(()=>g(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",handleKeyDown,!1),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",handleKeyDown,!1)}},[v,I]),(0,o.useLayoutEffect)(()=>m(document.querySelector(e)),[e]),y&&(0,s.createPortal)(o.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${p&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},o.createElement("div",{className:"wallet-adapter-modal-container"},o.createElement("div",{className:"wallet-adapter-modal-wrapper"},o.createElement("button",{onClick:S,className:"wallet-adapter-modal-button-close"},o.createElement("svg",{width:"14",height:"14"},o.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),b.length?o.createElement(o.Fragment,null,o.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),o.createElement("ul",{className:"wallet-adapter-modal-list"},b.map(t=>o.createElement(WalletListItem,{key:t.adapter.name,handleClick:e=>_(e,t.adapter.name),wallet:t})),w.length?o.createElement(Collapse,{expanded:d,id:"wallet-adapter-modal-collapse"},w.map(t=>o.createElement(WalletListItem,{key:t.adapter.name,handleClick:e=>_(e,t.adapter.name),tabIndex:d?0:-1,wallet:t}))):null),w.length?o.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},o.createElement("span",null,d?"Less ":"More ","options"),o.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${d?"wallet-adapter-modal-list-more-icon-rotate":""}`},o.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):o.createElement(o.Fragment,null,o.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),o.createElement("div",{className:"wallet-adapter-modal-middle"},o.createElement(WalletSVG,null)),w.length?o.createElement(o.Fragment,null,o.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},o.createElement("span",null,d?"Hide ":"Already have a wallet? View ","options"),o.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${d?"wallet-adapter-modal-list-more-icon-rotate":""}`},o.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),o.createElement(Collapse,{expanded:d,id:"wallet-adapter-modal-collapse"},o.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(t=>o.createElement(WalletListItem,{key:t.adapter.name,handleClick:e=>_(e,t.adapter.name),tabIndex:d?0:-1,wallet:t}))))):null))),o.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:S})),y)}},544:function(t,e,r){"use strict";r.d(e,{s:function(){return WalletModalProvider}});var n=r(7294),i=r(3495),o=r(5127);let WalletModalProvider=({children:t,...e})=>{let[r,s]=(0,n.useState)(!1);return n.createElement(i.g.Provider,{value:{visible:r,setVisible:s}},t,r&&n.createElement(o.x,{...e}))}},3495:function(t,e,r){"use strict";r.d(e,{g:function(){return o},h:function(){return useWalletModal}});var n=r(7294);let i={setVisible(t){console.error(constructMissingProviderErrorMessage("call","setVisible"))},visible:!1};function constructMissingProviderErrorMessage(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(i,"visible",{get:()=>(console.error(constructMissingProviderErrorMessage("read","visible")),!1)});let o=(0,n.createContext)(i);function useWalletModal(){return(0,n.useContext)(o)}},4718:function(t,e,r){"use strict";r.d(e,{R:function(){return useConnection},h:function(){return i}});var n=r(7294);let i=(0,n.createContext)({});function useConnection(){return(0,n.useContext)(i)}},4306:function(t,e,r){"use strict";r.d(e,{O:function(){return useWallet},z:function(){return s}});var n=r(7294);let i=[],o={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){logMissingProviderError("call","select")},connect:()=>Promise.reject(logMissingProviderError("call","connect")),disconnect:()=>Promise.reject(logMissingProviderError("call","disconnect")),sendTransaction:()=>Promise.reject(logMissingProviderError("call","sendTransaction")),signTransaction:()=>Promise.reject(logMissingProviderError("call","signTransaction")),signAllTransactions:()=>Promise.reject(logMissingProviderError("call","signAllTransactions")),signMessage:()=>Promise.reject(logMissingProviderError("call","signMessage")),signIn:()=>Promise.reject(logMissingProviderError("call","signIn"))};function logMissingProviderError(t,e){let r=Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}Object.defineProperty(o,"wallets",{get:()=>(logMissingProviderError("read","wallets"),i)}),Object.defineProperty(o,"wallet",{get:()=>(logMissingProviderError("read","wallet"),null)}),Object.defineProperty(o,"publicKey",{get:()=>(logMissingProviderError("read","publicKey"),null)});let s=(0,n.createContext)(o);function useWallet(){return(0,n.useContext)(s)}},3149:function(t,e,r){"use strict";r.d(e,{G:function(){return n}});let n="solana:signAndSendTransaction"},1999:function(t,e,r){"use strict";r.d(e,{g:function(){return n}});let n="solana:signMessage"},8112:function(t,e,r){"use strict";r.d(e,{R:function(){return n}});let n="solana:signTransaction"},1127:function(t,e,r){"use strict";function inRange(t,e,r){return e<=t&&t<=r}function ToDictionary(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Stream(t){this.tokens=[].slice.call(t)}function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}r.r(e),r.d(e,{TextDecoder:function(){return TextDecoder},TextEncoder:function(){return TextEncoder}}),Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(;t.length;)this.tokens.push(t.shift());else this.tokens.push(t)}};var n="utf-8";function TextDecoder(t,e){if(!(this instanceof TextDecoder))return new TextDecoder(t,e);if((t=void 0!==t?String(t).toLowerCase():n)!==n)throw Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function TextEncoder(t,e){if(!(this instanceof TextEncoder))return new TextEncoder(t,e);if((t=void 0!==t?String(t).toLowerCase():n)!==n)throw Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function UTF8Decoder(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(t,a){if(-1===a&&0!==i)return i=0,decoderError(e);if(-1===a)return -1;if(0===i){if(inRange(a,0,127))return a;if(inRange(a,194,223))i=1,r=a-192;else if(inRange(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,r=a-224;else{if(!inRange(a,240,244))return decoderError(e);240===a&&(o=144),244===a&&(s=143),i=3,r=a-240}return r<<=6*i,null}if(!inRange(a,o,s))return r=i=n=0,o=128,s=191,t.prepend(a),decoderError(e);if(o=128,s=191,n+=1,r+=a-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function UTF8Encoder(t){t.fatal,this.handler=function(t,e){if(-1===e)return -1;if(inRange(e,0,127))return e;inRange(e,128,2047)?(r=1,n=192):inRange(e,2048,65535)?(r=2,n=224):inRange(e,65536,1114111)&&(r=3,n=240);for(var r,n,i=[(e>>6*r)+n];r>0;){var o=e>>6*(r-1);i.push(128|63&o),r-=1}return i}}TextDecoder.prototype={decode:function(t,e){r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=ToDictionary(e),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var r,n,i=new Stream(r),o=[];!i.endOfStream()&&-1!==(n=this._decoder.handler(i,i.read()));)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(i,i.read())))break;if(null===n)continue;Array.isArray(n)?o.push.apply(o,n):o.push(n)}while(!i.endOfStream());this._decoder=null}return!o.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(1023&n)+56320))}return e}(o)}},TextEncoder.prototype={encode:function(t,e){t=t?String(t):"",e=ToDictionary(e),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!e.stream;for(var r,n=[],i=new Stream(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319){if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,l=1023&s;i.push(65536+(a<<10)+l),n+=1}else i.push(65533)}}n+=1}return i}(t));!i.endOfStream()&&-1!==(r=this._encoder.handler(i,i.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(i,i.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}}},function(t){var __webpack_exec__=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return __webpack_exec__(6840),__webpack_exec__(9974)}),_N_E=t.O()}]);